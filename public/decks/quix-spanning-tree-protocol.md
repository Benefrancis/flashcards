| id | afirma√ß√£o                                                                                                                                                                                        | resposta | explica√ß√£o                                                                                                                                                                                                                                                                                                                                                                     |
|----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1  | O Spanning Tree Protocol (STP), conforme definido no padr√£o IEEE 802.1D, opera na camada de rede do modelo OSI, sendo respons√°vel pelo roteamento de pacotes entre switches.                     | F        | ‚ùå O STP opera na **Camada 2 (Enlace de Dados)**. Ele gerencia frames Ethernet, n√£o pacotes de rede. Roteamento √© fun√ß√£o da Camada 3. üí° **Pegadinha:** Confundir camadas OSI √© cl√°ssico! Lembre-se: Switch L2 = STP.                                                                                                                                                           |
| 2  | A principal finalidade do STP √© permitir o balanceamento de carga ativo entre m√∫ltiplos enlaces redundantes em uma rede comutada.                                                                | F        | ‚ùå O STP **previne loops** bloqueando portas redundantes. Ele n√£o faz balanceamento de carga nativamente. Para isso, usa-se EtherChannel (LAG) ou protocolos de Camada 3. üí° **Dica:** STP = Preven√ß√£o de loop, n√£o balanceamento.                                                                                                                                              |
| 3  | A Bridge ID (BID) √© composta pela prioridade da bridge (2 bytes) e pelo endere√ßo IP do switch (4 bytes).                                                                                         | F        | ‚ùå A BID √© composta pela **prioridade da bridge (2 bytes) e pelo endere√ßo MAC do switch (6 bytes)**. üí° **Aten√ß√£o aos detalhes!** IP √© Camada 3. STP √© Camada 2, usa MAC.                                                                                                                                                                                                       |
| 4  | A Root Bridge em uma topologia STP √© o switch com o maior valor de Bridge ID.                                                                                                                    | F        | ‚ùå A Root Bridge √© o switch com o **MENOR** valor de Bridge ID. üí° **Invers√£o cl√°ssica!** Menor BID = Mais priorit√°rio = Root Bridge. Pense: "Quanto menor a prioridade (n√∫mero), maior a prioridade (real)".                                                                                                                                                                   |
| 5  | Em um switch n√£o-Root, a Root Port √© a porta que oferece o caminho de maior custo para a Root Bridge, visando economizar recursos.                                                               | F        | ‚ùå A Root Port oferece o caminho de **MENOR custo** para a Root Bridge. üí° **L√≥gica de otimiza√ß√£o:** STP busca o caminho mais eficiente (menor custo) para a raiz.                                                                                                                                                                                                              |
| 6  | Todas as portas da Root Bridge est√£o, por padr√£o, no estado de Forwarding, a menos que haja um loop conectado diretamente a duas de suas pr√≥prias portas.                                        | V        | ‚úÖ Correto. A Root Bridge √© o ponto central; suas portas s√£o Designated Ports para os segmentos conectados, encaminhando tr√°fego. Um loop nela mesma √© um design falho, mas o STP o trataria. üí° **Lembrete:** Root Bridge = Todas as portas s√£o DPs (Designated Ports) por padr√£o.                                                                                             |
| 7  | O estado "Listening" do STP permite que a porta aprenda endere√ßos MAC, mas ainda n√£o encaminhe dados de usu√°rios.                                                                                | F        | ‚ùå No estado "Listening", a porta **n√£o** aprende MACs nem encaminha dados; ela apenas ouve e envia BPDUs para determinar seu papel. O aprendizado de MACs ocorre no estado "Learning". üí° **Mnem√¥nico Estados:** B->L->Le->F (Block, Listen, Learn, Forward). "Listen" √© s√≥ pra ouvir o STP. "Learn" √© para aprender MACs.                                                     |
| 8  | O tempo padr√£o do timer "Forward Delay" no STP IEEE 802.1D √© de 2 segundos.                                                                                                                      | F        | ‚ùå O "Forward Delay" padr√£o √© de **15 segundos**. O "Hello Time" padr√£o √© de 2 segundos. üí° **Confus√£o de timers!** Memorize: Hello=2s, MaxAge=20s, ForwardDelay=15s.                                                                                                                                                                                                           |
| 9  | Bridge Protocol Data Units (BPDUs) do tipo Topology Change Notification (TCN) s√£o originadas pela Root Bridge para informar outros switches sobre mudan√ßas na topologia.                         | F        | ‚ùå TCN BPDUs s√£o originadas por um switch **n√£o-Root** que detecta uma mudan√ßa e enviadas "upstream" (em dire√ß√£o √† Root Bridge). A Root Bridge, ao receber, envia Configuration BPDUs com o flag TC. üí° **Fluxo TCN:** Switch detecta -> Envia TCN para Root -> Root avisa a todos.                                                                                             |
| 10 | O Path Cost de uma porta STP √© diretamente proporcional √† sua largura de banda; quanto maior a banda, maior o custo.                                                                             | F        | ‚ùå O Path Cost √© **inversamente proporcional** √† largura de banda. Maior banda = Menor custo. üí° **L√≥gica de custo:** Links mais r√°pidos s√£o "mais baratos" (prefer√≠veis). Ex: 1Gbps (custo 4) √© melhor que 100Mbps (custo 19).                                                                                                                                                 |
| 11 | A converg√™ncia completa do STP 802.1D, ap√≥s uma falha de enlace, pode levar tipicamente de 30 a 50 segundos.                                                                                     | V        | ‚úÖ Correto. `Max Age (20s) + Forward Delay (15s) + Forward Delay (15s) = 50s` (pior caso, falha indireta). Ou `Blocking -> Listening (15s) -> Learning (15s) -> Forwarding = 30s` para uma nova porta. üí° **Lentid√£o do 802.1D:** Essa √© uma de suas principais desvantagens, motivando o RSTP.                                                                                 |
| 12 | Se dois switches tiverem a mesma prioridade de bridge, o switch com o maior endere√ßo MAC ser√° eleito como Root Bridge.                                                                           | F        | ‚ùå Se as prioridades forem iguais, o switch com o **MENOR** endere√ßo MAC ser√° a Root Bridge. üí° **Crit√©rio de desempate:** Menor √© melhor no STP (menor prioridade, menor MAC).                                                                                                                                                                                                 |
| 13 | Uma porta em estado "Blocking" no STP n√£o envia nem recebe BPDUs.                                                                                                                                | F        | ‚ùå Uma porta em "Blocking" **recebe e processa BPDUs** para monitorar a topologia e poder transitar para Forwarding se necess√°rio. Ela n√£o envia BPDUs de dados nem aprende MACs. üí° **Porta bloqueada n√£o √© "morta":** Ela est√° vigilante!                                                                                                                                     |
| 14 | O padr√£o IEEE 802.1w (RSTP) introduziu o conceito de Port Roles como Alternate e Backup, que n√£o existem no STP 802.1D original.                                                                 | V        | ‚úÖ Correto. O 802.1D define Root, Designated e Non-Designated (Blocking). RSTP refina isso com Alternate (caminho alternativo para Root) e Backup (caminho redundante para Designated). üí° **Evolu√ß√£o do STP:** RSTP aprimora o 802.1D com novos pap√©is e estados para converg√™ncia r√°pida.                                                                                     |
| 15 | O STP (802.1D) cria uma inst√¢ncia de Spanning Tree por VLAN, permitindo otimizar caminhos para diferentes VLANs de forma independente.                                                           | F        | ‚ùå O STP 802.1D original cria **uma √∫nica inst√¢ncia de Spanning Tree (CST - Common Spanning Tree)** para todas as VLANs. PVST+ (Cisco) e MSTP (802.1s) permitem m√∫ltiplas inst√¢ncias. üí° **Limita√ß√£o do 802.1D:** Uma √°rvore para todos pode levar a caminhos sub√≥timos para algumas VLANs.                                                                                     |
| 16 | Na elei√ß√£o de uma Root Port, se os custos para a Root Bridge forem iguais por caminhos diferentes, o BID do switch vizinho emissor do BPDU √© o pr√≥ximo crit√©rio.                                 | V        | ‚úÖ Correto. Crit√©rios para Root Port: 1. Menor Root Path Cost; 2. Menor Sender BID; 3. Menor Sender Port Priority; 4. Menor Sender Port ID (interno ao receptor). üí° **Sequ√™ncia de desempate:** Custo > BID Vizinho > Prioridade Porta Vizinho > ID Porta Vizinho.                                                                                                             |
| 17 | A funcionalidade PortFast da Cisco, quando habilitada em uma porta de acesso, faz com que a porta pule os estados Listening e Learning, entrando diretamente em Forwarding.                      | V        | ‚úÖ Correto. PortFast √© para portas conectadas a hosts, acelerando a disponibilidade da porta. üí° **Cuidado com PortFast:** Nunca habilite em portas conectadas a outros switches/hubs, pois pode criar loops tempor√°rios. Use com BPDU Guard.                                                                                                                                   |
| 18 | BPDU Guard, quando habilitado, desabilita uma porta PortFast que recebe um BPDU, protegendo contra conex√µes indevidas de switches.                                                               | V        | ‚úÖ Correto. BPDU Guard protege a integridade da topologia STP ao desabilitar portas de acesso que inesperadamente recebem BPDUs (indicando um switch conectado). üí° **Seguran√ßa STP:** PortFast + BPDU Guard √© uma boa pr√°tica em portas de acesso.                                                                                                                             |
| 19 | O valor de prioridade de porta padr√£o para STP √© 32768.                                                                                                                                          | F        | ‚ùå A prioridade de porta padr√£o √© **128**. A prioridade de *bridge* padr√£o √© 32768. üí° **Confus√£o de prioridades:** Bridge Priority vs Port Priority. A Port Priority √© usada como crit√©rio de desempate na elei√ß√£o de RP e DP.                                                                                                                                                 |
| 20 | O timer "Max Age" define o tempo m√°ximo que uma porta permanece no estado de Learning.                                                                                                           | F        | ‚ùå "Max Age" (padr√£o 20s) √© o tempo que um switch espera por BPDUs antes de considerar que o caminho para a Root Bridge falhou. "Forward Delay" (padr√£o 15s) √© o tempo gasto em Listening e em Learning. üí° **Fun√ß√£o dos Timers:** Max Age = Validade do BPDU; Forward Delay = Transi√ß√£o de estados.                                                                            |
| 21 | Em uma rede com tr√™s switches A, B e C, se A for a Root Bridge, e B tiver um caminho para A com custo 19, e C tiver um caminho para A com custo 4, C ser√° eleito Root Port de B.                 | F        | ‚ùå A pergunta est√° mal formulada para o conceito de Root Port. A Root Port √© *em B* para *A*. Se B tem um caminho direto para A (custo 19) e um caminho via C para A (custo de C para A + custo de B para C), B escolher√° o de menor custo. A afirma√ß√£o "C ser√° eleito Root Port de B" n√£o faz sentido. A Root Port est√° *em B*.                                                |
| 22 | O custo do caminho STP (Path Cost) para um enlace de 10 Gbps √© tipicamente 2, de acordo com a recomenda√ß√£o revisada (32-bit).                                                                    | V        | ‚úÖ Correto. Para custos revisados: 10Gbps = 2, 1Gbps = 4, 100Mbps = 19, 10Mbps = 100. üí° **Memorize os custos!** S√£o frequentemente cobrados em quest√µes de c√°lculo de topologia.                                                                                                                                                                                               |
| 23 | Um TCN BPDU √© enviado por uma porta Designated Port em dire√ß√£o √† Root Bridge.                                                                                                                    | F        | ‚ùå Um TCN BPDU √© enviado pela **Root Port** de um switch que detectou a mudan√ßa, em dire√ß√£o √† Root Bridge. üí° **Dire√ß√£o do TCN:** Sempre "subindo" pela √°rvore, via Root Ports.                                                                                                                                                                                                 |
| 24 | Quando a Root Bridge recebe um TCN, ela envia Configuration BPDUs com o flag TC (Topology Change) ativo por `Max Age + Forward Delay` segundos.                                                  | V        | ‚úÖ Correto. Este √© o mecanismo para notificar todos os switches da mudan√ßa, fazendo com que eles encurtem o tempo de envelhecimento da tabela MAC para o valor do `Forward Delay`. üí° **Mecanismo de TCN:** Garante que as tabelas MAC se atualizem rapidamente ap√≥s uma mudan√ßa.                                                                                               |
| 25 | Alterar o valor da prioridade da bridge para `0` em um switch garante que ele se torne a Root Bridge, assumindo que nenhum outro switch tenha prioridade `0`.                                    | V        | ‚úÖ Correto. `0` √© o menor valor de prioridade poss√≠vel. Se for √∫nico, esse switch ser√° a Root. Se houver empate em `0`, o menor MAC decide. üí° **For√ßando a Root:** Configurar prioridade `0` ou `4096` √© uma forma comum de designar a Root Bridge.                                                                                                                            |
| 26 | Se uma porta est√° no estado de Learning, ela j√° est√° encaminhando quadros de dados de usu√°rios normalmente.                                                                                      | F        | ‚ùå No estado de Learning, a porta **aprende endere√ßos MAC**, mas **ainda n√£o encaminha** quadros de dados de usu√°rios. O encaminhamento s√≥ come√ßa no estado Forwarding. üí° **Etapas da Ativa√ß√£o:** Learning = Aprender MACs. Forwarding = Encaminhar dados.                                                                                                                     |
| 27 | O STP pode coexistir com protocolos de agrega√ß√£o de link como LACP (IEEE 802.3ad), onde o link agregado √© tratado pelo STP como uma √∫nica porta l√≥gica.                                          | V        | ‚úÖ Correto. Um EtherChannel/LAG √© visto pelo STP como um √∫nico enlace l√≥gico com um custo combinado (geralmente o custo de um √∫nico membro, ou um custo menor se configurado). üí° **STP e LAG:** Trabalham juntos. LAG agrupa, STP previne loops na topologia maior.                                                                                                            |
| 28 | O di√¢metro m√°ximo recomendado para uma rede STP 802.1D com timers padr√£o √© de 7 saltos entre quaisquer dois switches.                                                                            | V        | ‚úÖ Correto. Esse di√¢metro garante que os BPDUs se propaguem pela rede antes que o Max Age expire. Redes maiores podem precisar de ajuste de timers ou, preferencialmente, segmenta√ß√£o com roteamento. üí° **Limita√ß√£o de Escala:** STP n√£o escala indefinidamente.                                                                                                               |
| 29 | Root Guard, quando habilitado em uma porta, impede que essa porta se torne uma Root Port, mesmo que receba BPDUs superiores de um novo switch tentando se tornar Root.                           | V        | ‚úÖ Correto. Root Guard protege a posi√ß√£o da Root Bridge designada. Se uma porta com Root Guard recebe um BPDU superior, ela entra em estado "root-inconsistent" (similar a blocking). üí° **Protegendo a Raiz:** Use Root Guard em portas que n√£o devem *nunca* levar √† Root Bridge (ex: portas de acesso a switches de clientes).                                               |
| 30 | O IEEE 802.1s (MSTP) permite mapear m√∫ltiplas VLANs para uma √∫nica inst√¢ncia de Spanning Tree, otimizando recursos em redes com muitas VLANs.                                                    | V        | ‚úÖ Correto. MSTP (Multiple Spanning Tree Protocol) √© o padr√£o IEEE para m√∫ltiplas inst√¢ncias, agrupando VLANs em inst√¢ncias STP para melhor escalabilidade e uso de caminhos. üí° **MSTP para Grandes Redes:** Mais complexo, mas eficiente para muitas VLANs.                                                                                                                   |
| 31 | No processo de elei√ß√£o da Designated Port para um segmento de rede, se os custos para a Root forem iguais entre dois switches, o switch com o maior BID ser√° o Designated Bridge.                | F        | ‚ùå Se os custos para a Root forem iguais, o switch com o **MENOR BID** conectado ao segmento ter√° sua porta como Designated Port. üí° **Desempate DP:** Custo para Root (do segmento) > BID do Switch > Prioridade da Porta > ID da Porta. Menor √© melhor.                                                                                                                       |
| 32 | Uma tempestade de broadcast (broadcast storm) √© uma consequ√™ncia comum de loops de Camada 3 em redes roteadas.                                                                                   | F        | ‚ùå Broadcast storms s√£o t√≠picas de **loops de Camada 2** em redes comutadas (switched). Protocolos de roteamento de Camada 3 (OSPF, EIGRP) t√™m mecanismos de preven√ß√£o de loop pr√≥prios (e.g., split horizon, TTL). üí° **Loop L2 vs L3:** Broadcast storm = L2. TTL Expirado = L3.                                                                                              |
| 33 | O STP utiliza o endere√ßo IP da VLAN de gerenciamento como parte do Bridge ID para desempate.                                                                                                     | F        | ‚ùå O STP usa o **endere√ßo MAC base do switch** (ou de uma VLAN espec√≠fica, dependendo da implementa√ß√£o, como no PVST+) como parte do Bridge ID. Endere√ßo IP n√£o entra no BID padr√£o do 802.1D. üí° **Foco no L2:** STP √© fundamentalmente L2.                                                                                                                                    |
| 34 | O custo de caminho STP padr√£o para um enlace FastEthernet (100 Mbps) √© 100.                                                                                                                      | F        | ‚ùå O custo padr√£o (short/16-bit) para 100 Mbps √© **19**. O custo 100 √© para 10 Mbps. üí° **N√£o confunda velocidades e custos!** 10Mbps=100, 100Mbps=19, 1Gbps=4, 10Gbps=2.                                                                                                                                                                                                       |
| 35 | √â uma pr√°tica recomendada desabilitar o STP em redes pequenas para melhorar o desempenho, pois os loops s√£o improv√°veis.                                                                         | F        | ‚ùå **Nunca desabilite o STP** se houver qualquer possibilidade de redund√¢ncia f√≠sica, mesmo acidental. Loops podem ser criados por erro humano facilmente. O "ganho" de desempenho √© um mito perigoso. üí° **Seguran√ßa em primeiro lugar:** STP √© sua rede de seguran√ßa contra loops.                                                                                            |
| 36 | Em uma topologia STP, se um switch n√£o-Root perde a comunica√ß√£o com a Root Bridge (Max Age expira), ele imediatamente se declara Root Bridge e inicia uma nova elei√ß√£o.                          | F        | ‚ùå Ele n√£o se declara Root imediatamente. Ele primeiro considera seus BPDUs armazenados como inv√°lidos e come√ßa a participar do processo de elei√ß√£o, enviando BPDUs com ele mesmo como Root. Se ele tiver o melhor BID entre os que est√£o ativos, ele se tornar√° Root. üí° **Processo Gradual:** A reconverg√™ncia √© um processo.                                                 |
| 37 | O valor de prioridade da bridge √© um n√∫mero de 16 bits, mas apenas os 4 bits mais significativos s√£o usados para a prioridade, os 12 restantes s√£o o ID do sistema estendido (VLAN ID em PVST+). | V        | ‚úÖ Correto para implementa√ß√µes como PVST+ da Cisco. O padr√£o 802.1D original usa os 16 bits para prioridade. Mas no contexto de concursos que abordam Cisco, isso √© verdade. A prioridade √© configurada em m√∫ltiplos de `4096`. üí° **Detalhe de Implementa√ß√£o:** O campo de prioridade foi adaptado para suportar VLANs.                                                        |
| 38 | O protocolo RSTP (802.1w) elimina completamente os estados Listening e Max Age para acelerar a converg√™ncia.                                                                                     | F        | ‚ùå RSTP elimina o estado Listening e redefine o Blocking para Discarding. O Max Age ainda existe, mas seu papel √© diferente e a detec√ß√£o de falha de BPDU √© mais r√°pida (3x Hello). üí° **Otimiza√ß√µes do RSTP:** Ele n√£o joga tudo fora, mas otimiza.                                                                                                                            |
| 39 | Se duas portas em um switch n√£o-Root tiverem exatamente o mesmo custo para a Root Bridge e o mesmo BID do switch vizinho, a porta com o menor Port ID (n√∫mero da porta) ser√° a Root Port.        | V        | ‚úÖ Correto, mas √© o Port ID da *porta do switch vizinho (sender)*. Se tudo at√© a prioridade da porta do vizinho empatar, o Port ID do vizinho (menor) √© o √∫ltimo crit√©rio. üí° **Desempate Final da RP:** Menor ID da Porta *Remota* (Sender Port ID). Para DPs, √© o menor ID da porta *Local*. Aten√ß√£o aqui!                                                                    |
| 40 | A f√≥rmula `Max Age <= 2 * (Forward Delay - 1 segundo)` deve ser respeitada para garantir a estabilidade da topologia STP.                                                                        | V        | ‚úÖ Correto. Esta √© uma das rela√ß√µes de timer recomendadas para evitar problemas de converg√™ncia. üí° **F√≥rmulas de Timer:** Conhecer essa rela√ß√£o pode ser √∫til para quest√µes avan√ßadas sobre design STP.                                                                                                                                                                        |
| 41 | O STP resolve o problema de "counting to infinity" que pode ocorrer em protocolos de roteamento por vetor de dist√¢ncia.                                                                          | F        | ‚ùå "Counting to infinity" √© um problema de protocolos de roteamento de **Camada 3** (como RIP). STP lida com loops de **Camada 2**. S√£o problemas distintos em camadas distintas. üí° **Escopo dos Problemas:** N√£o misture problemas de L2 com L3.                                                                                                                              |
| 42 | Loop Guard √© uma funcionalidade que, ao detectar a aus√™ncia de BPDUs em uma porta n√£o-Designated que deveria receb√™-los, coloca a porta em estado de loop-inconsistent (blocking).               | V        | ‚úÖ Correto. Loop Guard previne loops causados por falhas de software ou hardware que param o envio de BPDUs em um link que deveria estar bloqueado, fazendo com que a porta bloqueada transite para Forwarding indevidamente. üí° **Prote√ß√£o Avan√ßada:** Loop Guard √© para portas bloqueadas que param de receber BPDUs.                                                         |
| 43 | O STP 802.1D utiliza um mecanismo de proposta/acordo (proposal/agreement) para transi√ß√£o r√°pida de portas para o estado de encaminhamento, similar ao RSTP.                                      | F        | ‚ùå O mecanismo de proposta/acordo √© uma caracter√≠stica do **RSTP (802.1w)** para acelerar a converg√™ncia em links ponto-a-ponto, n√£o do STP 802.1D original. üí° **Diferencial do RSTP:** Converg√™ncia r√°pida √© a marca do RSTP, usando mecanismos como proposta/acordo.                                                                                                         |
| 44 | Um switch s√≥ retransmite um Configuration BPDU recebido de um vizinho se o BPDU recebido for "superior" ao que o switch j√° conhece ou est√° propagando.                                           | V        | ‚úÖ Correto. Um BPDU √© superior se anuncia uma Root Bridge melhor, um custo menor para a mesma Root, ou se vier de um Designated Bridge melhor (menor BID, etc.). Isso garante a propaga√ß√£o da melhor informa√ß√£o. üí° **L√≥gica de Propaga√ß√£o BPDU:** S√≥ o "melhor" BPDU √© propagado para evitar informa√ß√µes conflitantes.                                                         |
| 45 | Em um cen√°rio com dois switches A e B conectados por duas portas cada (loop), e A sendo a Root Bridge, B selecionar√° uma Root Port. A outra porta em B ser√° Designated Port.                     | F        | ‚ùå Em B, uma porta ser√° Root Port (menor custo para A). A outra porta em B, se n√£o for a Designated Port do segmento (que seria a porta de A), ser√° **Blocking (Non-Designated)**. A Designated Port no outro segmento estar√° em A. üí° **Revis√£o de Pap√©is:** Um switch n√£o-Root tem UMA RP. As outras ou s√£o DP ou Bloqueadas.                                                 |
| 46 | A instabilidade da tabela MAC, onde um switch aprende o mesmo MAC em m√∫ltiplas portas alternadamente, √© um sintoma de loop de Camada 2 que o STP visa prevenir.                                  | V        | ‚úÖ Correto. Em um loop, o mesmo quadro de origem pode chegar ao switch por diferentes portas, causando "MAC flapping" e encaminhamento inst√°vel. üí° **Sintomas do Loop:** Tempestade de broadcast e instabilidade da tabela MAC s√£o os cl√°ssicos.                                                                                                                               |
| 47 | Se um administrador configurar manualmente um custo de porta STP (`spanning-tree cost X`) em uma interface, este valor sempre sobrescrever√° o custo calculado automaticamente pela velocidade.   | V        | ‚úÖ Correto. A configura√ß√£o manual de custo tem preced√™ncia sobre o c√°lculo autom√°tico. Isso permite influenciar a escolha de caminhos. üí° **Controle Fino:** √ötil para for√ßar caminhos espec√≠ficos quando a l√≥gica de custo padr√£o n√£o atende.                                                                                                                                  |
| 48 | O BPDU Filter, quando aplicado globalmente em um switch, impede que o switch envie ou receba BPDUs em todas as suas portas, efetivamente desabilitando STP no switch.                            | V        | ‚úÖ Correto. `spanning-tree portfast bpdufilter default` (Cisco) faz isso. Se aplicado em uma interface, apenas impede BPDUs naquela interface. üí° **Uso Perigoso:** Desabilitar STP globalmente via BPDU Filter √© arriscado e raramente recomendado, a menos que o switch n√£o participe de dom√≠nios L2 com redund√¢ncia.                                                         |
| 49 | Considere tr√™s switches S1, S2, S3. S1 (Root) --(1G)--> S2 --(100M)--> S3. S1 --(1G)--> S3. A Root Port de S3 ser√° a interface conectada diretamente a S1.                                       | V        | ‚úÖ Correto. Custo via S1 direto (1G): 4. Custo via S2: Custo S2-S1 (1G) = 4. BPDU de S2 para S3 com custo 4. Custo S3-S2 (100M) = 19. Custo total S3-S2-S1 = 4 + 19 = 23. Custo 4 < 23. üí° **C√°lculo de Custo:** Sempre some os custos das portas de *sa√≠da* ao longo do caminho da Root at√© o switch, ou adicione o custo da porta de *entrada* ao Path Cost do BPDU recebido. |
| 50 | A elei√ß√£o da Root Bridge √© um processo n√£o preemptivo; uma vez eleita, uma Root Bridge s√≥ perde seu status se falhar ou se um switch com BID inferior for introduzido e detectado.               | V        | ‚úÖ Correto. O STP n√£o troca de Root Bridge "por capricho". A estabilidade da Root √© importante. A elei√ß√£o ocorre e se mant√©m at√© uma mudan√ßa significativa (falha da Root, novo switch com BID melhor). üí° **Estabilidade da Raiz:** A preemp√ß√£o constante da Root Bridge causaria instabilidade na rede.                                                                       |
| 51 | O Spanning Tree Protocol foi desenvolvido para otimizar a velocidade de transmiss√£o de dados em redes locais Ethernet comutadas.                                         | F        | ‚ùå O objetivo prim√°rio do STP √© **prevenir loops de Camada 2**, n√£o otimizar a velocidade de transmiss√£o diretamente. A preven√ß√£o de loops, indiretamente, mant√©m a rede funcional e com bom desempenho, mas a otimiza√ß√£o de velocidade n√£o √© seu foco. üí° **Foco do STP:** Estabilidade e preven√ß√£o de loops.                                                              |
| 52 | Um switch Ethernet, ao ser ligado, assume inicialmente que ele √© a Root Bridge at√© receber um BPDU de um switch com um Bridge ID superior (pior).                          | F        | ‚ùå Ao ser ligado, um switch assume ser a Root Bridge at√© receber um BPDU de um switch com um Bridge ID **inferior (melhor)**. Ele s√≥ cede o posto de Root se outro switch provar ser "melhor" (menor BID). üí° **Competi√ß√£o pela Raiz:** √â uma disputa para ver quem tem o menor BID.                                                                             |
| 53 | O campo "Root ID" em um Configuration BPDU cont√©m o Bridge ID do switch que originou aquele BPDU espec√≠fico.                                                              | F        | ‚ùå O campo "Root ID" em um Configuration BPDU cont√©m o Bridge ID da **Root Bridge atual da topologia**. O campo "Sender Bridge ID" (ou Bridge Identifier nos BPDUs que o switch envia de si mesmo como root) cont√©m o BID do switch que enviou o BPDU. üí° **Informa√ß√£o Crucial:** Root ID = Quem √© o chefe. Sender BID = Quem est√° falando. |
| 54 | A aus√™ncia de loops em uma rede Ethernet comutada elimina a necessidade de utilizar o Spanning Tree Protocol.                                                              | F        | ‚ùå Mesmo que voc√™ *acredite* que n√£o h√° loops, o STP √© uma **medida de seguran√ßa essencial** contra loops acidentais (ex: usu√°rio conectando um cabo errado). Desabilit√°-lo √© arriscado. üí° **Preven√ß√£o √© o Melhor Rem√©dio:** STP √© como um cinto de seguran√ßa, mesmo para motoristas cuidadosos.                                                              |
| 55 | Cada segmento de rede em uma topologia STP deve ter exatamente uma Root Port designada para ele.                                                                           | F        | ‚ùå Cada segmento de rede tem exatamente uma **Designated Port**. Root Ports s√£o por switch (n√£o-Root), n√£o por segmento. üí° **Pap√©is por Localiza√ß√£o:** Root Port = No switch n√£o-Root. Designated Port = No segmento de rede.                                                                                                                              |
| 56 | O valor default da prioridade da bridge no STP (32768) pode ser alterado em incrementos de 1.                                                                              | F        | ‚ùå A prioridade da bridge (especialmente em implementa√ß√µes como PVST+) √© alterada em incrementos de **4096**. Isso se deve ao uso de parte do campo para o ID do sistema estendido (VLAN ID). üí° **M√∫ltiplos de 4096:** Lembre-se desse valor para configura√ß√µes de prioridade.                                                                   |
| 57 | Se um switch n√£o-Root n√£o receber BPDUs em sua Root Port por um per√≠odo superior ao Max Age, ele iniciar√° o processo de reconverg√™ncia do STP.                             | V        | ‚úÖ Correto. A expira√ß√£o do Max Age indica uma poss√≠vel falha no caminho para a Root Bridge, disparando uma nova elei√ß√£o ou a busca por um caminho alternativo. üí° **Max Age como Sentinela:** Se os BPDUs da Root param de chegar, algo est√° errado.                                                                                                          |
| 58 | O estado "Disabled" de uma porta STP significa que a porta est√° temporariamente bloqueada pelo STP devido a um loop, mas ainda processa BPDUs.                              | F        | ‚ùå "Disabled" significa que a porta foi **administrativamente desativada** (`shutdown`) ou falhou. Ela n√£o participa do STP. O estado de bloqueio devido a loop √© "Blocking" (ou "Discarding" no RSTP). üí° **Disabled vs Blocking:** Disabled = Desligada. Blocking = Ligada, mas impedida de encaminhar para evitar loop.            |
| 59 | O STP IEEE 802.1D utiliza o conceito de "edge ports" para acelerar a converg√™ncia em portas conectadas a dispositivos finais.                                             | F        | ‚ùå O conceito de "edge ports" (portas que n√£o devem receber BPDUs e podem transitar rapidamente para forwarding) √© mais proeminente no **RSTP (802.1w)**. No 802.1D, a funcionalidade similar √© o PortFast (espec√≠fico de fabricantes como Cisco). üí° **Terminologia:** Edge Port (RSTP) ‚âà PortFast (Cisco, para 802.1D/RSTP).    |
| 60 | Durante o estado de "Learning", uma porta STP j√° preencheu sua tabela MAC e agora apenas aguarda o timer Forward Delay expirar para come√ßar a encaminhar quadros.               | F        | ‚ùå Durante o estado de "Learning", a porta est√° **ativamente populando (aprendendo)** sua tabela MAC. Ela n√£o a preencheu *antes* de entrar em Learning. üí° **Processo de Aprendizado:** Learning = Construindo a tabela MAC.                                                                                                                 |
| 61 | O principal benef√≠cio do RSTP (IEEE 802.1w) sobre o STP (IEEE 802.1D) √© sua capacidade de suportar um n√∫mero maior de VLANs.                                              | F        | ‚ùå O principal benef√≠cio do RSTP √© a **converg√™ncia muito mais r√°pida** (segundos ou milissegundos). Para m√∫ltiplas VLANs, o MSTP (802.1s) ou PVST+ (Cisco) s√£o as solu√ß√µes. üí° **RSTP = Rapidez.**                                                                                                                                                           |
| 62 | O custo de caminho (Path Cost) √© um valor configurado manualmente na Root Bridge e propagado para os demais switches.                                                      | F        | ‚ùå O Path Cost √© um valor associado a cada **porta individualmente**, baseado em sua velocidade (ou configurado manualmente nela). A Root Bridge tem custo 0 para si mesma. Os outros switches *calculam* seu custo acumulado para a Root. üí° **Custo por Porta:** Cada porta tem seu custo; o custo total √© uma soma.              |
| 63 | A elei√ß√£o de uma Designated Port em um segmento considera primeiro o BID do switch que oferece o menor custo para a Root Bridge a partir daquele segmento.                  | V        | ‚úÖ Correto. Para DPs: 1. Menor custo do *switch* para a Root. 2. Se empate, menor BID do *switch*. 3. Se empate, menor Port Priority do *switch*. 4. Se empate, menor Port ID do *switch*. üí° **DP e a Vis√£o do Segmento:** Qual switch no segmento tem o melhor caminho para a Root? Essa √© a DP.                                       |
| 64 | Se todos os switches em uma rede tiverem a mesma prioridade de bridge, a Root Bridge ser√° o switch com o maior n√∫mero de portas ativas.                                      | F        | ‚ùå Se as prioridades forem iguais, a Root Bridge ser√° o switch com o **menor endere√ßo MAC**. O n√∫mero de portas n√£o √© crit√©rio para elei√ß√£o da Root Bridge. üí° **Desempate da Root:** Prioridade -> Menor MAC. Simples assim.                                                                                                                        |
| 65 | O Hello Time define a frequ√™ncia com que os switches n√£o-Root enviam BPDUs para a Root Bridge.                                                                             | F        | ‚ùå O Hello Time (padr√£o 2s) √© o intervalo em que a **Root Bridge envia Configuration BPDUs**. Switches n√£o-Root *retransmitem* esses BPDUs (ap√≥s atualiz√°-los), n√£o os originam para a Root (exceto TCNs). üí° **Fonte dos Hellos:** Root Bridge √© a "locutora" principal.                                                                |
| 66 | Uma porta STP em estado de Forwarding n√£o processa mais BPDUs, pois sua fun√ß√£o na topologia j√° foi definida.                                                                  | F        | ‚ùå Uma porta em Forwarding **continua processando BPDUs** para monitorar a sa√∫de da topologia e detectar mudan√ßas (ex: falha da Root, BPDUs superiores). üí° **Vigil√¢ncia Cont√≠nua:** Mesmo ativa, uma porta STP fica atenta.                                                                                                                  |
| 67 | O STP previne loops apenas em redes com switches de um √∫nico fabricante, devido a incompatibilidades de BPDUs entre diferentes vendors.                                    | F        | ‚ùå O STP IEEE 802.1D √© um **padr√£o aberto**, projetado para interoperabilidade entre diferentes fabricantes. Problemas podem surgir com recursos propriet√°rios, mas o STP base √© interoper√°vel. üí° **Padr√£o √© Padr√£o:** IEEE garante que o b√°sico funcione entre vendors.                                                                    |
| 68 | Um TCN (Topology Change Notification) BPDU √© menor em tamanho que um Configuration BPDU.                                                                                     | V        | ‚úÖ Correto. TCN BPDUs s√£o muito simples; eles basicamente apenas sinalizam que uma mudan√ßa ocorreu, sem carregar toda a informa√ß√£o de topologia de um Configuration BPDU. üí° **TCN Minimalista:** √â um "alerta" r√°pido, n√£o um relat√≥rio completo.                                                                                                |
| 69 | A altera√ß√£o do tempo de envelhecimento da tabela MAC para o valor do Forward Delay durante uma mudan√ßa de topologia serve para invalidar entradas obsoletas mais rapidamente. | V        | ‚úÖ Correto. Isso for√ßa os switches a removerem entradas MAC que podem n√£o ser mais v√°lidas devido √† mudan√ßa no caminho, evitando encaminhamento incorreto. üí° **Limpeza R√°pida:** Garante que a tabela MAC reflita a nova topologia mais cedo.                                                                                               |
| 70 | √â poss√≠vel ter m√∫ltiplas Root Ports ativas em um switch n√£o-Root se ele tiver m√∫ltiplos caminhos de igual custo para a Root Bridge.                                         | F        | ‚ùå Um switch n√£o-Root tem **exatamente uma Root Port ativa**. Se houver m√∫ltiplos caminhos de igual custo, os crit√©rios de desempate (Sender BID, Sender Port Priority, etc.) selecionar√£o apenas uma. üí° **UM Caminho Principal:** STP define uma √°rvore, o que implica um √∫nico caminho "pai" (Root Port).                       |
| 71 | O STP considera o n√∫mero de saltos (hops) como o principal fator para c√°lculo do Path Cost.                                                                                 | F        | ‚ùå O Path Cost √© baseado primariamente na **largura de banda do enlace** (inversamente proporcional). O n√∫mero de saltos n√£o √© um fator direto no c√°lculo do custo padr√£o. üí° **Banda > Saltos:** Um link r√°pido e longo pode ser prefer√≠vel a um link lento e curto.                                                                     |
| 72 | A introdu√ß√£o de um novo switch na rede sempre for√ßa uma nova elei√ß√£o de Root Bridge.                                                                                       | F        | ‚ùå Uma nova elei√ß√£o s√≥ √© for√ßada se o novo switch tiver um **Bridge ID inferior (melhor)** ao da Root Bridge atual. Caso contr√°rio, a Root Bridge existente permanece. üí° **S√≥ se for Melhor:** A Root s√≥ muda se aparecer algu√©m "mais qualificado".                                                                                         |
| 73 | O STP s√≥ bloqueia portas que criam um loop f√≠sico direto entre duas portas do mesmo switch.                                                                                 | F        | ‚ùå O STP bloqueia qualquer porta que, se ativa, criaria um caminho redundante (loop) na topologia da Camada 2, mesmo que o loop envolva m√∫ltiplos switches. üí° **Vis√£o Global:** STP analisa a topologia como um todo para encontrar e eliminar loops.                                                                                     |
| 74 | Quando uma porta de acesso com PortFast habilitado recebe um BPDU, ela imediatamente se torna uma Root Port.                                                                 | F        | ‚ùå Se uma porta com PortFast recebe um BPDU (e o BPDU Guard n√£o estiver ativo para desabilit√°-la), ela **perde seu status PortFast** e participa normalmente do STP (passando por Blocking, Listening, Learning se necess√°rio). Ela n√£o se torna Root Port automaticamente. üí° **PortFast √© Condicional:** Se vir um BPDU, volta a ser uma porta STP normal. |
| 75 | Os temporizadores STP (Hello, Max Age, Forward Delay) s√£o configurados individualmente em cada switch para otimizar a performance local.                                    | F        | ‚ùå Os temporizadores STP s√£o configurados na **Root Bridge** e propagados para todos os outros switches atrav√©s dos Configuration BPDUs. Todos os switches na mesma inst√¢ncia STP devem usar os mesmos valores de timers. üí° **Consist√™ncia √© Chave:** Timers iguais para todos garantem opera√ß√£o previs√≠vel.                           |
| 76 | Um dos objetivos do estado "Listening" √© permitir que os switches vizinhos tomem conhecimento da inten√ß√£o da porta de se tornar ativa, prevenindo loops tempor√°rios.          | V        | ‚úÖ Correto. Durante o "Listening", a porta participa da elei√ß√£o STP (envia/recebe BPDUs) para definir seu papel, mas n√£o encaminha dados, evitando a forma√ß√£o de loops enquanto a topologia est√° se estabilizando. üí° **"Ouvindo" o Tr√¢nsito STP:** A porta escuta e anuncia antes de agir.                                         |
| 77 | A funcionalidade "Root Guard" impede que um switch se torne a Root Bridge da rede.                                                                                         | F        | ‚ùå Root Guard n√£o impede que o *switch* onde est√° configurado se torne Root (se ele tiver o melhor BID). Ele impede que as *portas espec√≠ficas* onde est√° habilitado aceitem um novo switch superior como Root atrav√©s daquela porta. üí° **Protegendo Fronteiras:** Root Guard protege "rios abaixo" de uma Root indesejada.    |
| 78 | O STP n√£o consegue detectar ou mitigar loops causados por hubs conectados a m√∫ltiplos switches.                                                                              | F        | ‚ùå O STP **consegue detectar e mitigar** loops que envolvem hubs. Um hub simplesmente estende o dom√≠nio de colis√£o (e broadcast). Se esse dom√≠nio estendido criar um caminho redundante entre switches, o STP atuar√° nas portas dos switches conectadas a esse segmento com hub. üí° **Hubs s√£o Transparentes (para loops L2):** O STP "v√™" atrav√©s do hub. |
| 79 | O endere√ßo MAC usado no Bridge ID √© sempre o endere√ßo MAC da primeira porta f√≠sica do switch (ex: Gig0/0).                                                                 | F        | ‚ùå O endere√ßo MAC usado no BID √© geralmente um **MAC base do sistema do switch** ou, em implementa√ß√µes como PVST+, o MAC de uma VLAN espec√≠fica. N√£o √© necessariamente o MAC da primeira porta. üí° **MAC de Refer√™ncia:** √â um MAC √∫nico que representa o switch.                                                                        |
| 80 | Se o enlace para a Root Port de um switch falhar, e houver uma porta alternativa (Alternate Port no contexto RSTP, ou uma porta bloqueada com caminho para a Root no STP 802.1D), essa porta transitar√° pelos estados Listening e Learning antes de se tornar Forwarding. | V        | ‚úÖ Correto para o STP 802.1D. Uma porta bloqueada que se torna o novo caminho para a Root passar√° por Listening (15s) e Learning (15s). (No RSTP, a transi√ß√£o de uma Alternate Port √© muito mais r√°pida). üí° **Converg√™ncia Lenta do 802.1D:** Mesmo para caminhos de backup, h√° espera.                                                  |
| 81 | A √∫nica informa√ß√£o que um switch precisa para decidir se deve atualizar sua vis√£o da Root Bridge √© o Root ID contido no BPDU recebido.                                       | F        | ‚ùå Al√©m do Root ID, o switch tamb√©m considera o **Root Path Cost** no BPDU. Se o Root ID for o mesmo, mas o custo for menor, ele atualiza seu caminho. Se o Root ID for melhor (menor), ele sempre atualiza. üí° **Decis√£o Completa:** Root ID > Path Cost > Sender BID > Sender Port Priority.                                     |
| 82 | Em STP, o termo "ponte" (bridge) √© historicamente usado e funcionalmente equivalente ao termo "switch" no contexto de preven√ß√£o de loops de Camada 2.                       | V        | ‚úÖ Correto. O STP originou-se com bridges, e os switches modernos de Camada 2 realizam a mesma fun√ß√£o de encaminhamento baseada em MAC e participam do STP. üí° **Terminologia Hist√≥rica:** Bridge = Switch L2 para fins de STP.                                                                                                       |
| 83 | O STP pode causar subutiliza√ß√£o de enlaces, pois caminhos redundantes s√£o bloqueados em vez de serem usados para dividir o tr√°fego.                                         | V        | ‚úÖ Correto. Essa √© uma das "desvantagens" inerentes ao design do STP. Ele prioriza a preven√ß√£o de loops sobre a utiliza√ß√£o total da banda. Tecnologias como EtherChannel resolvem isso para links paralelos. üí° **Trade-off do STP:** Seguran√ßa contra loops vs. Uso total de banda.                                                        |
| 84 | Um Configuration BPDU sempre cont√©m o custo do caminho do switch remetente at√© a Root Bridge.                                                                                | V        | ‚úÖ Correto. O campo "Root Path Cost" no Configuration BPDU carrega o custo acumulado do switch que *enviou* aquele BPDU at√© a Root Bridge. üí° **Informa√ß√£o de Custo no BPDU:** Essencial para os switches vizinhos calcularem seus pr√≥prios custos.                                                                                        |
| 85 | A principal raz√£o para os estados Listening e Learning terem uma dura√ß√£o (Forward Delay) √© para permitir a propaga√ß√£o completa dos BPDUs pela rede.                          | F        | ‚ùå A propaga√ß√£o de BPDUs ocorre continuamente (Hello Time). O Forward Delay em Listening √© para garantir que a topologia se estabilize e os pap√©is das portas sejam definidos antes de encaminhar. Em Learning, √© para popular a tabela MAC. üí° **Prop√≥sito do Atraso:** Estabiliza√ß√£o e aprendizado, n√£o apenas propaga√ß√£o.             |
| 86 | O STP n√£o tem mecanismo para influenciar qual switch espec√≠fico se torna a Root Bridge; a elei√ß√£o √© sempre baseada no menor MAC se as prioridades forem padr√£o.                | F        | ‚ùå Os administradores podem **influenciar fortemente** a elei√ß√£o da Root Bridge configurando um valor de prioridade da bridge mais baixo no switch desejado. üí° **Controle Administrativo:** Definir a Root √© uma pr√°tica recomendada de design.                                                                                       |
| 87 | Se uma Root Bridge falhar, o switch com o segundo menor Bridge ID automaticamente assume como Root sem necessidade de troca de BPDUs.                                          | F        | ‚ùå Haver√° uma **nova elei√ß√£o via troca de BPDUs**. Os switches detectar√£o a aus√™ncia da Root (Max Age) e come√ßar√£o a enviar BPDUs se considerando Root. O switch com o (agora) melhor BID emergir√° como a nova Root. üí° **Processo de Reelei√ß√£o:** STP √© din√¢mico; a falha da Root dispara um novo ciclo.                                  |
| 88 | O STP opera de forma independente em cada VLAN, ou seja, cada VLAN ter√° sua pr√≥pria Root Bridge e topologia STP separada.                                                   | F        | ‚ùå O STP IEEE 802.1D original (Common Spanning Tree - CST) cria **uma √∫nica √°rvore geradora para todas as VLANs**. Protocolos como PVST+ (Cisco) ou MSTP (IEEE 802.1s) permitem inst√¢ncias por VLAN ou por grupo de VLANs. üí° **CST vs. PVST/MSTP:** Essa √© uma diferen√ßa crucial.                                                         |
| 89 | A finalidade do flag Topology Change (TC) em um Configuration BPDU √© indicar que a Root Bridge foi alterada.                                                               | F        | ‚ùå O flag TC indica que houve **alguma mudan√ßa na topologia ativa da rede** (ex: um link subiu/desceu), n√£o necessariamente que a Root Bridge mudou (embora a mudan√ßa da Root seja uma mudan√ßa de topologia). üí° **TC = Qualquer Mudan√ßa:** Leva ao encurtamento do MAC aging.                                                              |
| 90 | O Path Cost de um enlace √© sempre sim√©trico, ou seja, o custo de A para B √© o mesmo de B para A.                                                                           | V        | ‚úÖ Correto no contexto do STP padr√£o. O custo √© associado √† velocidade do enlace, que √© a mesma em ambas as dire√ß√µes daquele enlace espec√≠fico. üí° **Simetria de Custo do Link:** O custo √© do link, n√£o da dire√ß√£o (para um dado link).                                                                                                    |
| 91 | O STP utiliza mensagens de "keepalive" para verificar a conectividade entre switches, similar ao DPD (Dead Peer Detection) em VPNs.                                          | F        | ‚ùå O STP utiliza **BPDUs (especificamente Configuration BPDUs enviados em intervalos Hello)** para manter a topologia e detectar falhas. N√£o s√£o "keepalives" no mesmo sentido de protocolos de Camada 3 ou aplica√ß√£o. üí° **BPDUs como Sinal de Vida:** A aus√™ncia de BPDUs (Max Age) indica falha.                                   |
| 92 | Uma Designated Port nunca pode ser uma Root Port ao mesmo tempo.                                                                                                            | V        | ‚úÖ Correto. S√£o pap√©is mutuamente exclusivos. Uma Root Port √© o caminho de um switch n√£o-Root *para* a Root Bridge. Uma Designated Port √© a porta que encaminha tr√°fego *para um segmento* em nome da Root Bridge (ou do melhor caminho para ela). üí° **Pap√©is Distintos:** Cada porta tem um papel definido.                                 |
| 93 | A soma dos custos de todas as portas ativas em uma topologia STP √© minimizada pelo algoritmo.                                                                                | F        | ‚ùå O STP minimiza o custo do caminho de **cada switch individualmente para a Root Bridge**. Ele n√£o tenta minimizar a soma total dos custos de todos os links na √°rvore geradora. üí° **Otimiza√ß√£o Localizada:** Cada switch busca seu melhor caminho para a Root.                                                                           |
| 94 | O STP garante que n√£o haver√° pontos √∫nicos de falha na rede.                                                                                                                | F        | ‚ùå O STP **permite redund√¢ncia f√≠sica** e escolhe um caminho ativo. Se esse caminho ativo (ou a pr√≥pria Root Bridge) falhar, o STP tenta convergir para um caminho alternativo, mas n√£o garante a elimina√ß√£o de todos os pontos √∫nicos de falha (ex: a pr√≥pria Root Bridge √© um ponto l√≥gico cr√≠tico). üí° **Mitiga√ß√£o, n√£o Elimina√ß√£o Total:** Ajuda na resili√™ncia, mas o design da rede √© crucial. |
| 95 | Se um switch recebe um BPDU em uma porta e o Sender BID no BPDU √© igual ao seu pr√≥prio BID, ele descarta o BPDU para evitar um auto-loop.                                     | V        | ‚úÖ Correto. Isso √© um mecanismo de autoprote√ß√£o. Se um switch recebe seu pr√≥prio BPDU de volta, indica um loop envolvendo ele mesmo diretamente naquele segmento, e ele n√£o deve process√°-lo como vindo de outro switch. üí° **Consist√™ncia Check:** Evita que o switch seja enganado por seus pr√≥prios BPDUs refletidos.                 |
| 96 | O estado de Blocking √© o √∫nico estado em que uma porta STP n√£o consome recursos de CPU do switch.                                                                            | F        | ‚ùå Mesmo em Blocking, a porta **processa BPDUs recebidos**, o que consome alguma CPU. O estado Disabled √© o que menos consome. üí° **Processamento M√≠nimo:** Blocking ainda est√° "vivo" e ouvindo.                                                                                                                                             |
| 97 | O uso de fibra √≥ptica em vez de cabos de cobre para interconex√£o de switches elimina a necessidade do STP, pois fibra n√£o causa loops.                                       | F        | ‚ùå O tipo de m√≠dia f√≠sica (cobre, fibra) √© **irrelevante para a forma√ß√£o de loops de Camada 2**. Loops s√£o um problema topol√≥gico. Se houver caminhos redundantes, o STP √© necess√°rio. üí° **Loop √© L√≥gico, n√£o F√≠sico (tipo de cabo):** Fibra pode formar loops tanto quanto cobre.                                                    |
| 98 | O STP pode ser configurado para preferir caminhos com menor lat√™ncia em vez de maior largura de banda, alterando-se o m√©todo de c√°lculo do Path Cost.                         | F        | ‚ùå O Path Cost padr√£o do STP √© baseado em **largura de banda**. Embora custos possam ser configurados manualmente para influenciar caminhos, n√£o h√° um mecanismo STP padr√£o para medir e preferir dinamicamente caminhos de menor lat√™ncia. üí° **Foco na Banda:** Lat√™ncia n√£o √© um m√©trica prim√°ria do STP.                                     |
| 99 | Todos os switches em um dom√≠nio STP devem ter seus rel√≥gios sincronizados via NTP para o correto funcionamento dos timers STP.                                                 | F        | ‚ùå A sincroniza√ß√£o de rel√≥gios via NTP **n√£o √© um requisito** para o funcionamento dos timers STP. Os timers STP (Hello, Max Age, Forward Delay) s√£o relativos e baseados na propaga√ß√£o dos BPDUs originados pela Root Bridge. üí° **Timers Relativos:** Funcionam independentemente do tempo absoluto.                                  |
| 100| O STP √© um protocolo "silencioso" por padr√£o; ele s√≥ envia BPDUs quando uma mudan√ßa na topologia √© detectada.                                                                  | F        | ‚ùå O STP √© um protocolo **ativo**. A Root Bridge envia Configuration BPDUs em intervalos regulares (Hello Time, padr√£o 2s), e outros switches os retransmitem. Isso mant√©m a topologia est√°vel e permite a detec√ß√£o r√°pida de falhas. üí° **Comunica√ß√£o Constante:** BPDUs s√£o o "batimento card√≠aco" do STP.                               |
| 101 | Em uma rede com tr√™s switches (S1, S2, S3) interconectados formando um tri√¢ngulo, se S1 for configurado com prioridade `4096`, S2 com `8192`, e S3 com prioridade default (`32768`), S1 ser√° a Root Bridge, assumindo que todos os endere√ßos MAC s√£o diferentes.              | V        | ‚úÖ Correto. A menor prioridade vence. `4096` √© menor que `8192` e `32768`. üí° **Prioridade Manda:** A configura√ß√£o expl√≠cita da prioridade √© a forma prim√°ria de definir a Root Bridge. Menor valor num√©rico = maior prioridade l√≥gica.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 102 | Se um administrador configurar `spanning-tree portfast` em uma interface de tronco (trunk) conectando dois switches, e BPDU Guard n√£o estiver ativo, um loop de Camada 2 ser√° formado imediatamente e permanentemente.                                                  | F        | ‚ùå Um loop **tempor√°rio e grave** pode ocorrer, mas n√£o necessariamente permanente. A porta com PortFast iria para Forwarding instantaneamente. Se o outro switch enviasse BPDUs, a porta perderia o status PortFast e o STP convencional tentaria resolver o loop, eventualmente bloqueando uma porta. Seria ca√≥tico, mas o STP tentaria agir. üí° **Risco do PortFast em Uplinks:** Causa instabilidade e loops tempor√°rios. BPDU Guard √© crucial aqui para desabilitar a porta.                                                                                                                                                                                                |
| 103 | Um switch S1 (Root Bridge) est√° conectado a S2. S2 est√° conectado a S3. Para garantir que S3 sempre use o caminho via S2 para alcan√ßar S1, mesmo que exista um link direto S1-S3 de maior custo, basta configurar um custo STP muito alto na interface S3-S1.        | V        | ‚úÖ Correto. Ao configurar um custo STP manualmente alto (`spanning-tree cost [valor_alto]`) na interface do link direto S3-S1, esse caminho se tornar√° menos prefer√≠vel do que o caminho S3-S2-S1, desde que o custo acumulado via S2 seja menor. üí° **Manipulando Caminhos:** O custo manual √© uma ferramenta poderosa para influenciar a topologia STP.                                                                                                                                                                                                                                                                                                                                      |
| 104 | Em uma rede PVST+, se a VLAN 10 tiver S1 como Root Bridge e a VLAN 20 tiver S2 como Root Bridge, √© imposs√≠vel que um mesmo enlace f√≠sico entre S1 e S2 esteja em Forwarding para a VLAN 10 e em Blocking para a VLAN 20 simultaneamente.                             | F        | ‚ùå Isso √© **exatamente o que o PVST+ (Per-VLAN Spanning Tree Plus) permite**. Cada VLAN tem sua pr√≥pria inst√¢ncia STP. Portanto, um link pode estar ativo para uma VLAN (fazendo parte de sua √°rvore) e bloqueado para outra VLAN (para evitar loop naquela inst√¢ncia espec√≠fica). üí° **Flexibilidade do PVST+:** Permite balanceamento de carga l√≥gico por VLAN.                                                                                                                                                                                                                                                                                                      |
| 105 | Se o comando `no spanning-tree vlan 10` for aplicado em um switch Cisco, o STP ser√° completamente desabilitado em todas as portas do switch, apenas para a VLAN 10, o que pode levar a loops se houver redund√¢ncia para essa VLAN.                                    | V        | ‚úÖ Correto. Este comando desabilita o STP *especificamente para a VLAN 10* naquele switch. Se essa VLAN tiver caminhos redundantes envolvendo aquele switch, loops podem ocorrer para o tr√°fego da VLAN 10. üí° **Desabilitar com Cuidado:** Desabilitar STP, mesmo por VLAN, √© arriscado e deve ser feito com pleno conhecimento das consequ√™ncias.                                                                                                                                                                                                                                                                                                                                     |
| 106 | Um administrador configura Root Guard na porta Gi0/1 de S1, que √© a Root Port para S2. Se S2 for substitu√≠do por um novo switch S3 com BID superior (pior) ao de S1, a porta Gi0/1 em S1 permanecer√° em Forwarding.                                                    | V        | ‚úÖ Correto. Root Guard impede que uma porta se torne um caminho para uma *nova Root Bridge superior*. Se S3 tem um BID pior que S1 (a Root atual), ele n√£o tentar√° se tornar Root. S1 continuar√° sendo a Root, e a porta Gi0/1 poder√° continuar sendo DP para o segmento (ou RP se a topologia mudar de outra forma, mas Root Guard n√£o a bloquearia nesse caso). üí° **A√ß√£o do Root Guard:** S√≥ age se a porta receber BPDUs de um *novo candidato a Root superior*.                                                                                                                                                                                                      |
| 107 | Configurar `spanning-tree bpdufilter enable` em uma interface espec√≠fica impede que BPDUs sejam enviados *ou recebidos* por essa interface, efetivamente removendo-a da participa√ß√£o no STP.                                                                     | V        | ‚úÖ Correto. BPDU Filter em uma interface a isola do STP. Ela n√£o envia BPDUs e ignora os recebidos. Se conectada a outro switch, um loop √© altamente prov√°vel. üí° **BPDU Filter vs Guard:** Filter = Ignora/N√£o envia BPDUs. Guard = Desabilita a porta se receber BPDU (em portas PortFast).                                                                                                                                                                                                                                                                                                                                                                                           |
| 108 | Se o Hello Time na Root Bridge for alterado de 2s para 1s, e o Max Age e Forward Delay mantidos em 20s e 15s respectivamente, a rede convergir√° mais rapidamente ap√≥s uma falha, mas a rela√ß√£o `Max Age <= 2 * (Forward Delay - 1s)` n√£o ser√° mais atendida.            | V        | ‚úÖ Correto. A converg√™ncia pode ser mais r√°pida na detec√ß√£o de falha de BPDU. A rela√ß√£o padr√£o √© `20s <= 2 * (15s - 1s) = 28s`, que √© atendida. Se o Hello Time muda, essa rela√ß√£o fundamental dos timers Max Age e Forward Delay continua a mesma, e ainda √© atendida. O ponto √© que a *detec√ß√£o* da falha pode ser mais r√°pida com Hello mais curto, pois Max Age geralmente √© um m√∫ltiplo de Hello. üí° **Impacto do Hello:** Afeta a rapidez de detec√ß√£o de perda de BPDUs, mas os outros timers devem ser consistentes. A quest√£o implicitamente sugere que a f√≥rmula *deve* mudar, o que √© falso; a f√≥rmula *ainda √© atendida*. |
| 109 | Em uma topologia com S1 (Root) conectado a S2, e S2 conectado a S3. Se o link S1-S2 falhar, e S3 tiver um link redundante para S1, S3 se tornar√° a nova Root Port de S2.                                                                                             | F        | ‚ùå A afirma√ß√£o est√° confusa. Se S1-S2 falha, S2 perde sua Root Port. S2 tentar√° encontrar um novo caminho para S1. Se S3 tem um link para S1, S3 ter√° uma Root Port para S1. S2 pode usar S3 como caminho para S1, tornando a porta S2-S3 sua nova Root Port. S3 *n√£o* se torna Root Port *de S2*. S2 *ter√° uma* Root Port. üí° **Clareza nos Pap√©is:** Root Port √© *em um switch*, apontando *para a Root*.                                                                                                                                                                                                                                                                            |
| 110 | Um administrador configurou `spanning-tree vlan 1 priority 0` em SW1. Em SW2, ele configurou `spanning-tree vlan 1 priority 4096`. SW1 ser√° a Root Bridge para VLAN 1, mesmo que o MAC de SW2 seja menor que o de SW1.                                               | V        | ‚úÖ Correto. Prioridade `0` √© a mais alta poss√≠vel. Como `0` √© menor que `4096`, SW1 ser√° a Root, independentemente do MAC. üí° **Prioridade Absoluta:** O menor valor num√©rico de prioridade configurado vence, tornando o MAC um crit√©rio de desempate secund√°rio.                                                                                                                                                                                                                                                                                                                                                                                                             |
| 111 | Se Loop Guard estiver habilitado em uma Root Port e a porta parar de receber BPDUs, ela transitar√° para o estado de Forwarding para tentar restabelecer a comunica√ß√£o com a Root Bridge.                                                                            | F        | ‚ùå Loop Guard em uma Root Port (ou Alternate Port no RSTP) que para de receber BPDUs a colocar√° no estado **loop-inconsistent (blocking)**. Ela n√£o vai para Forwarding, pois isso poderia criar um loop. üí° **A√ß√£o do Loop Guard:** Previne que portas bloqueadas/alternativas se tornem DPs indevidamente por aus√™ncia de BPDUs.                                                                                                                                                                                                                                                                                                                                              |
| 112 | Ao configurar custos de porta STP manualmente, para for√ßar um link de 100 Mbps a ser preferido sobre um link de 1 Gbps, o custo do link de 100 Mbps deve ser configurado com um valor numericamente menor que o custo do link de 1 Gbps.                             | V        | ‚úÖ Correto. No STP, menor custo √© melhor. Se o link de 1Gbps tem custo autom√°tico 4, e o de 100Mbps tem custo 19, para preferir o de 100Mbps, voc√™ poderia configurar seu custo para, por exemplo, `3`. üí° **Invertendo a L√≥gica Padr√£o:** Custo manual permite subverter a prefer√™ncia por maior largura de banda.                                                                                                                                                                                                                                                                                                                                                |
| 113 | Se o comando `spanning-tree uplinkfast` (legado, Cisco) for habilitado em um switch de acesso, e sua Root Port falhar, uma porta bloqueada que oferece um caminho alternativo para a Root Bridge transitar√° para Forwarding quase instantaneamente, pulando Listening e Learning. | V        | ‚úÖ Correto. UplinkFast √© uma otimiza√ß√£o da Cisco para switches de acesso que acelera a converg√™ncia ao pr√©-selecionar um caminho alternativo e permitir a transi√ß√£o r√°pida. üí° **Otimiza√ß√µes Legadas:** Embora RSTP seja o padr√£o, conhecer funcionalidades como UplinkFast pode ser relevante para quest√µes sobre equipamentos Cisco mais antigos.                                                                                                                                                                                                                                                                                                                          |
| 114 | Em um switch com MSTP configurado, se a VLAN 50 n√£o estiver mapeada para nenhuma inst√¢ncia MST, ela usar√° a inst√¢ncia CIST (Common and Internal Spanning Tree, Inst√¢ncia 0) para c√°lculo de Spanning Tree.                                                            | V        | ‚úÖ Correto. No MSTP, qualquer VLAN n√£o explicitamente mapeada para uma inst√¢ncia MSTI (Multiple Spanning Tree Instance) recai sobre a CIST (geralmente a Inst√¢ncia 0), que tamb√©m interopera com dom√≠nios STP/RSTP. üí° **Default do MSTP:** CIST/IST0 √© o fallback para VLANs n√£o mapeadas.                                                                                                                                                                                                                                                                                                                                                                                           |
| 115 | Alterar o di√¢metro da rede STP com o comando `spanning-tree dia X` automaticamente ajusta os timers Hello, Max Age e Forward Delay para valores otimizados para esse di√¢metro.                                                                                     | V        | ‚úÖ Correto (em algumas implementa√ß√µes, como Cisco). Este comando √© uma forma simplificada de ajustar os timers para redes maiores ou menores que o padr√£o de 7 saltos, sem precisar calcular e configurar cada timer individualmente. üí° **Facilitador de Configura√ß√£o:** O comando de di√¢metro ajuda a ajustar os timers de forma coordenada.                                                                                                                                                                                                                                                                                                                                 |
| 116 | Se um filtro de MAC for aplicado em uma porta de switch para bloquear o endere√ßo MAC de destino dos BPDUs (`01:80:C2:00:00:00`), o STP ser√° efetivamente desabilitado naquela porta, pois ela n√£o processar√° mais os BPDUs.                                          | V        | ‚úÖ Correto. Bloquear o MAC de destino dos BPDUs impede que a porta os receba e processe, o que na pr√°tica a remove da opera√ß√£o STP, podendo causar loops. üí° **Mecanismo Subjacente:** STP depende do recebimento desses frames multicast espec√≠ficos. Filtr√°-los √© como tapar os ouvidos do STP.                                                                                                                                                                                                                                                                                                                                                                                    |
| 117 | Em uma configura√ß√£o com S1 (Root, Prio 4096), S2 (Prio 32768), S3 (Prio 32768). S1-S2 (1G), S2-S3 (100M), S1-S3 (1G). Se o link S1-S3 (1G) falhar, a Root Port de S3 continuar√° sendo sua interface para S1, pois S1 √© a Root.                                          | F        | ‚ùå Se o link direto S1-S3 falhar, S3 perdeu seu melhor caminho para a Root S1. S3 ter√° que usar o caminho S3-S2-S1. A Root Port de S3 passar√° a ser sua interface conectada a S2. üí° **Recalculando Rota:** A falha de um link for√ßa a reavalia√ß√£o do melhor caminho para a Root.                                                                                                                                                                                                                                                                                                                                                                                         |
| 118 | Configurar `spanning-tree guard root` em todas as portas de um switch de acesso que se conectam a dispositivos finais (PCs, impressoras) √© uma pr√°tica recomendada para prevenir que esses dispositivos causem uma reconverg√™ncia STP.                         | F        | ‚ùå `spanning-tree guard root` (Root Guard) √© para ser usado em portas que **N√ÉO DEVEM** se tornar um caminho para uma nova Root (ex: portas de uplink em dire√ß√£o a switches que n√£o s√£o Root). Para portas de acesso, `spanning-tree portfast` e `spanning-tree bpduguard enable` s√£o mais apropriados. üí° **Ferramenta Certa para o Local Certo:** Root Guard √© para proteger a hierarquia da Root, n√£o portas de acesso simples.                                                                                                                                                                                                                                                  |
| 119 | Um switch configurado com STP e conectado a um hub, que por sua vez est√° conectado a outro switch, n√£o conseguir√° detectar um loop se o segundo switch criar um caminho redundante, pois o hub n√£o participa do STP.                                             | F        | ‚ùå O STP funcionar√°. O hub apenas estende o dom√≠nio de colis√£o/broadcast. Os switches nas extremidades ver√£o os BPDUs um do outro atrav√©s do hub e executar√£o o algoritmo STP normalmente, bloqueando uma das portas do switch para evitar o loop. üí° **Hubs e STP:** Hubs s√£o "transparentes" para o STP; os switches ainda conversam "atrav√©s" deles.                                                                                                                                                                                                                                                                                                                                       |
| 120 | Se duas portas de um switch (P1 e P2) recebem BPDUs indicando o mesmo Root ID e o mesmo Root Path Cost, mas o BPDU em P1 vem de um Sender BID menor que o BPDU em P2, P1 ser√° escolhida como Root Port.                                                                | V        | ‚úÖ Correto. Este √© o segundo crit√©rio de desempate para Root Port: menor Sender Bridge ID (BID do vizinho que enviou o BPDU). üí° **Hierarquia de Desempate (RP):** 1. Custo, 2. Sender BID, 3. Sender Port Priority, 4. Menor Port ID local (ou Sender Port ID, dependendo da implementa√ß√£o exata do "menor ID de porta").                                                                                                                                                                                                                                                                                                                                                         |
| 121 | Em um ambiente com RSTP (802.1w), se uma porta configurada como "edge port" (equivalente ao PortFast) receber um BPDU, ela manter√° seu estado de encaminhamento r√°pido, mas notificar√° o administrador.                                                              | F        | ‚ùå No RSTP, se uma edge port recebe um BPDU, ela **perde seu status de edge port imediatamente** e se torna uma porta STP normal, participando do c√°lculo da √°rvore. Isso √© uma medida de seguran√ßa para prevenir loops. üí° **Edge Port Din√¢mica:** O status de edge n√£o √© fixo se BPDUs s√£o detectados.                                                                                                                                                                                                                                                                                                                                                                                       |
| 122 | Para garantir que um switch espec√≠fico NUNCA se torne a Root Bridge, mesmo que seja o √∫nico switch na rede ou tenha o menor MAC, deve-se configurar sua prioridade STP para o valor m√°ximo de `61440`.                                                              | V        | ‚úÖ Correto. A prioridade STP varia de 0 a 61440 em incrementos de 4096 (para PVST+, por exemplo). `61440` (ou `65535` para STP 802.1D puro) √© a pior prioridade poss√≠vel, fazendo com que ele perca para qualquer outro switch com prioridade menor. üí° **Tornando um Switch "Ineleg√≠vel":** Prioridade m√°xima √© o caminho.                                                                                                                                                                                                                                                                                                                                                     |
| 123 | Se um switch A (Root) e um switch B est√£o conectados por dois links paralelos (Link1 e Link2), ambos de 1Gbps. O STP ir√° bloquear um dos links. Para usar ambos, o administrador deve desabilitar STP em um deles e configurar balanceamento de carga manualmente.        | F        | ‚ùå Desabilitar STP √© perigoso. A solu√ß√£o correta √© configurar **EtherChannel (Link Aggregation)** nos dois links. O EtherChannel agrupa os links em uma √∫nica porta l√≥gica, que o STP ent√£o trata como um √∫nico enlace, utilizando a banda agregada e fornecendo redund√¢ncia. üí° **EtherChannel + STP:** A combina√ß√£o ideal para usar links paralelos com seguran√ßa.                                                                                                                                                                                                                                                                                                                      |
| 124 | Em uma rede MSTP com duas inst√¢ncias, MSTI1 para VLANs 10-19 e MSTI2 para VLANs 20-29. Se S1 for Root para MSTI1 e S2 for Root para MSTI2, o tr√°fego da VLAN 15 usar√° a topologia definida por S1 como raiz.                                                        | V        | ‚úÖ Correto. Cada MSTI (Multiple Spanning Tree Instance) tem sua pr√≥pria topologia, Root Bridge, e portas bloqueadas/encaminhando. A VLAN 15, mapeada para MSTI1, seguir√° a √°rvore de MSTI1. üí° **Independ√™ncia das MSTIs:** Essa √© a grande vantagem do MSTP para otimiza√ß√£o de caminhos por grupos de VLANs.                                                                                                                                                                                                                                                                                                                                                                                     |
| 125 | Configurar `spanning-tree port type network` em uma porta de um switch Cisco que usa RSTP e est√° conectada a outro switch √© redundante, pois o RSTP detecta automaticamente portas conectadas a outros switches (n√£o-edge).                                             | V        | ‚úÖ Correto. No RSTP, as portas s√£o consideradas n√£o-edge por padr√£o (ou ponto-a-ponto/compartilhadas) se BPDUs s√£o trocados. O comando `spanning-tree port type network` (ou `spanning-tree link-type point-to-point`) pode for√ßar esse estado, mas o RSTP j√° √© inteligente quanto a isso. `edge` √© o que precisa ser configurado explicitamente. üí° **Intelig√™ncia do RSTP:** RSTP √© mais din√¢mico na determina√ß√£o dos tipos de porta/link.                                                                                                                                                                                                                               |
| 126 | Se o comando `clear spanning-tree detected-protocols` for executado em um switch, todas as portas STP bloqueadas ser√£o imediatamente movidas para o estado de Forwarding.                                                                                          | F        | ‚ùå Este comando for√ßa o switch a **renegociar o protocolo STP (STP, RSTP, MSTP) com seus vizinhos**. Ele n√£o move portas bloqueadas para Forwarding diretamente; ele reinicia o processo de descoberta e converg√™ncia STP. üí° **Rein√≠cio do Protocolo:** Usado para resolver inconsist√™ncias de protocolo, n√£o para for√ßar portas ativas.                                                                                                                                                                                                                                                                                                                                                              |
| 127 | Um administrador deseja que SW1 seja a Root Bridge prim√°ria e SW2 seja a Root Bridge secund√°ria (backup) para a VLAN 100. Ele configura SW1 com `spanning-tree vlan 100 priority 24576` e SW2 com `spanning-tree vlan 100 priority 28672`. Esta configura√ß√£o atinge o objetivo. | V        | ‚úÖ Correto. `24576` √© uma prioridade melhor (menor) que `28672`. Assim, SW1 ser√° a Root prim√°ria. Se SW1 falhar, SW2 tem a pr√≥xima melhor prioridade entre os dois e provavelmente se tornaria a Root (assumindo que n√£o haja outros switches com prioridade melhor que `28672`). üí° **Design de Root Prim√°ria/Secund√°ria:** √â uma pr√°tica comum usar prioridades ligeiramente diferentes para definir uma hierarquia de Root.                                                                                                                                                                                                                              |
| 128 | Se um switch recebe um BPDU com um Path Cost para a Root Bridge igual a 0, e o Sender BID √© diferente do seu pr√≥prio BID, o switch que enviou esse BPDU √©, inquestionavelmente, a Root Bridge.                                                                        | V        | ‚úÖ Correto. Apenas a pr√≥pria Root Bridge anuncia um Path Cost de 0 para si mesma. Se um switch recebe tal BPDU de outro switch, esse remetente √© a Root. üí° **Marca da Root:** Path Cost 0 no BPDU que ela origina.                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 129 | Configurar `errdisable recovery cause bpduguard` e `errdisable recovery interval 30` em um switch far√° com que uma porta desabilitada pelo BPDU Guard tente se recuperar automaticamente ap√≥s 30 segundos.                                                           | V        | ‚úÖ Correto. Estes comandos configuram a recupera√ß√£o autom√°tica de portas que entraram em estado `err-disable` devido a uma viola√ß√£o do BPDU Guard. Ap√≥s o intervalo especificado (30s), o switch tentar√° reativar a porta. üí° **Recupera√ß√£o Autom√°tica:** √ötil para evitar interven√ß√£o manual constante, mas a causa raiz da viola√ß√£o do BPDU Guard deve ser investigada.                                                                                                                                                                                                                                                                                                                      |
| 130 | Ao usar o comando `show spanning-tree vlan X detail` em um switch Cisco, se uma porta mostrar "P2p Bound(RSTP)" como "Role/State", significa que ela √© uma Designated Port em estado de Forwarding, usando RSTP e em um link ponto-a-ponto.                             | V        | ‚úÖ Correto. "Bound(RSTP)" ou similar indica que a porta est√° vinculada a uma inst√¢ncia RSTP. "P2p" indica um link ponto-a-ponto. O estado da porta (Root, Desg, Altn, Back) e seu estado (FWD, BLK, LRN) seriam mostrados. Se for Designated e Forwarding, est√° correto. A pergunta foca no "Bound(RSTP)" como indicador do protocolo em uso. üí° **Decifrando o `show spanning-tree`:** Entender os campos de sa√≠da √© crucial para troubleshooting e verifica√ß√£o. A pergunta √© um pouco gen√©rica no "Role/State" mas o ponto sobre RSTP √© v√°lido. Para ser DP/FWD, o output completo confirmaria. |
| 131 | O comando `spanning-tree mode rapid-pvst` em um switch Cisco habilita o RSTP (802.1w) em uma base por VLAN, oferecendo converg√™ncia r√°pida e uma inst√¢ncia STP para cada VLAN.                                                                                              | V        | ‚úÖ Correto. `rapid-pvst` √© a implementa√ß√£o da Cisco que combina a r√°pida converg√™ncia do RSTP com a capacidade do PVST+ de ter uma inst√¢ncia STP por VLAN. üí° **Melhor dos Mundos (Cisco):** Converg√™ncia r√°pida do RSTP + granularidade por VLAN do PVST+.                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 132 | Para configurar um switch Cisco (SW1) como Root Bridge para a VLAN 10 e SW2 como Root Bridge para a VLAN 20, usando Rapid PVST+, em SW1 se usa `spanning-tree vlan 10 priority 4096` e em SW2 `spanning-tree vlan 20 priority 4096`.                                         | V        | ‚úÖ Correto. Ao definir a prioridade mais baixa (ex: `4096`) para a VLAN espec√≠fica no switch desejado, voc√™ o torna Root para aquela inst√¢ncia STP da VLAN. As configura√ß√µes s√£o independentes por VLAN. üí° **Controle por VLAN:** Permite direcionar o tr√°fego de diferentes VLANs por caminhos diferentes, otimizando o uso dos links.                                                                                                                                                                                                                                                                                                                                                     |
| 133 | Se o comando `spanning-tree portfast default` for configurado globalmente em um switch, todas as portas de acesso (n√£o-trunk) ser√£o automaticamente configuradas com PortFast, mas as portas de tronco (trunk) n√£o ser√£o afetadas.                                            | V        | ‚úÖ Correto. `spanning-tree portfast default` habilita o PortFast em todas as interfaces que est√£o no modo de acesso. Portas configuradas como trunk n√£o s√£o automaticamente colocadas em modo PortFast por este comando global. üí° **Conveni√™ncia Global:** Facilita a aplica√ß√£o do PortFast em portas de acesso sem precisar configurar individualmente.                                                                                                                                                                                                                                                                                                                                       |
| 134 | Aplicar `spanning-tree bpduguard enable` em uma interface configurada como trunk entre dois switches √© uma configura√ß√£o inv√°lida e ser√° rejeitada pelo sistema operacional do switch.                                                                                      | F        | ‚ùå A configura√ß√£o √© **v√°lida**, mas **altamente n√£o recomendada e perigosa**. BPDU Guard em um trunk faria com que o link ca√≠sse em `err-disable` assim que o primeiro BPDU fosse recebido do switch vizinho, interrompendo todo o tr√°fego do trunk. üí° **Uso Correto do BPDU Guard:** Apenas em portas de acesso com PortFast.                                                                                                                                                                                                                                                                                                                                                                   |
| 135 | O comando `spanning-tree extend system-id` √© implicitamente habilitado quando se usa PVST+ ou Rapid PVST+ e permite que o ID da VLAN seja inclu√≠do no Bridge ID, usando 12 bits do campo de prioridade original.                                                              | V        | ‚úÖ Correto. Este mecanismo permite que cada VLAN tenha um BID efetivamente √∫nico (Prioridade + MAC + VLAN ID), possibilitando m√∫ltiplas inst√¢ncias STP. A prioridade √© ent√£o configurada em m√∫ltiplos de `4096`. üí° **Base do PVST+:** O `system-id-extend` √© fundamental para a opera√ß√£o do PVST+ e suas variantes r√°pidas.                                                                                                                                                                                                                                                                                                                                                         |
| 136 | Para verificar qual switch √© a Root Bridge para a VLAN 50 em um ambiente Rapid PVST+, o comando `show spanning-tree vlan 50 root` exibiria diretamente o MAC e a prioridade da Root Bridge.                                                                                    | V        | ‚úÖ Correto. O comando `show spanning-tree vlan [vlan-id] root` √© uma forma direta de identificar a Root Bridge e seus par√¢metros para uma VLAN espec√≠fica. Varia√ß√µes como `show spanning-tree root` (para a VLAN com menor ID se em PVST+) tamb√©m existem. üí° **Comando de Verifica√ß√£o Chave:** Essencial para diagnosticar quem √© a Root e por qu√™.                                                                                                                                                                                                                                                                                                                                                     |
| 137 | Se um switch estiver operando em modo MSTP (Multiple Spanning Tree Protocol) e um novo switch que s√≥ suporta STP 802.1D for conectado, a comunica√ß√£o STP entre eles falhar√°, resultando em um poss√≠vel loop.                                                                   | F        | ‚ùå O MSTP √© **retrocompat√≠vel** com STP 802.1D e RSTP. A inst√¢ncia CIST (ou IST0) do MSTP se comunicar√° com o switch 802.1D, formando uma topologia comum para as VLANs que recaem na CIST. üí° **Retrocompatibilidade do MSTP:** Garante interoperabilidade com switches mais antigos, embora sem os benef√≠cios do MSTP naquela fronteira.                                                                                                                                                                                                                                                                                                                                                    |
| 138 | Ao configurar uma regi√£o MSTP, todos os switches na mesma regi√£o devem ter o mesmo nome de regi√£o, o mesmo n√∫mero de revis√£o de configura√ß√£o e o mesmo mapeamento de VLANs para inst√¢ncias MST para que funcionem como uma √∫nica entidade MST.                                | V        | ‚úÖ Correto. Esses tr√™s par√¢metros (nome, revis√£o, mapeamento VLAN-inst√¢ncia) devem ser id√™nticos para que os switches se considerem parte da mesma regi√£o MST. Qualquer diverg√™ncia os coloca em regi√µes diferentes. üí° **Consist√™ncia da Regi√£o MST:** Chave para o funcionamento correto do MSTP. O hash desses valores √© trocado em BPDUs.                                                                                                                                                                                                                                                                                                                                    |
| 139 | O comando `spanning-tree mst configuration` √© usado para entrar no modo de configura√ß√£o MST, onde se pode definir o nome da regi√£o, o n√∫mero de revis√£o e mapear VLANs para inst√¢ncias. Em seguida, `instance [id] vlan [range]` mapeia as VLANs.                          | V        | ‚úÖ Correto. Este √© o fluxo de configura√ß√£o padr√£o para MSTP em switches Cisco. Primeiro se entra no submodo de configura√ß√£o MST, depois se definem os par√¢metros da regi√£o e os mapeamentos. üí° **Fluxo de Config MST:** `conf t` -> `spanning-tree mst configuration` -> `name X` -> `revision Y` -> `instance Z vlan A-B`.                                                                                                                                                                                                                                                                                                                                                                 |
| 140 | Se um administrador configurar `spanning-tree cost 1` em uma interface de 100 Mbps e `spanning-tree cost 2` em uma interface de 1 Gbps no mesmo switch, o STP preferir√° o link de 100 Mbps como caminho para a Root Bridge, se os custos acumulados at√© a Root forem comparados. | V        | ‚úÖ Correto. Menor custo STP √© sempre preferido. Ao sobrescrever os custos autom√°ticos (100Mbps=19, 1Gbps=4), o link de 100Mbps com custo `1` se torna mais atraente que o de 1Gbps com custo `2`. üí° **Custo Manual Soberano:** A configura√ß√£o manual de custo tem preced√™ncia e pode ser usada para influenciar decis√µes de caminho de forma granular.                                                                                                                                                                                                                                                                                                                                    |
| 141 | O comando `spanning-tree guard loop` em uma interface habilita o Loop Guard. Se esta interface for uma Root Port e parar de receber BPDUs, ela permanecer√° no estado de Forwarding para manter a conectividade.                                                             | F        | ‚ùå Se Loop Guard estiver em uma Root Port (ou Alternate Port) e ela parar de receber BPDUs, ela transitar√° para o estado **loop-inconsistent (efetivamente Blocking)**, n√£o Forwarding. Isso previne loops. üí° **A√ß√£o Protetora do Loop Guard:** Impede que portas de backup se tornem ativas indevidamente por falta de BPDUs no caminho principal.                                                                                                                                                                                                                                                                                                                              |
| 142 | Em um switch Cisco, para fazer com que as portas de acesso fiquem dispon√≠veis mais rapidamente, sem desabilitar o STP, pode-se usar `spanning-tree portfast edge bpduguard default` globalmente.                                                                         | V        | ‚úÖ Correto. `spanning-tree portfast edge default` habilitaria PortFast em portas de acesso. Adicionar `bpduguard default` tamb√©m habilitaria BPDU Guard globalmente nessas portas PortFast, o que √© uma boa pr√°tica. O termo "edge" √© mais associado ao RSTP, mas a combina√ß√£o de `portfast` e `bpduguard` atinge o objetivo. üí° **Configura√ß√£o Segura para Acesso:** PortFast para rapidez, BPDU Guard para seguran√ßa.                                                                                                                                                                                                                                                                             |
| 143 | Se dois switches estiverem conectados e um estiver configurado com `spanning-tree mode pvst` e o outro com `spanning-tree mode rapid-pvst`, eles n√£o conseguir√£o estabelecer uma √°rvore STP funcional entre si devido √† incompatibilidade de timers.                      | F        | ‚ùå Eles **conseguir√£o** estabelecer uma √°rvore STP. Rapid PVST+ √© retrocompat√≠vel com PVST+. O switch Rapid PVST+ ir√° operar no modo PVST+ mais lento no segmento conectado ao switch PVST+. A converg√™ncia ser√° a do PVST+ naquele link. üí° **Retrocompatibilidade √© Regra:** Vers√µes mais novas do STP (como RSTP) geralmente podem interoperar com vers√µes mais antigas (como STP 802.1D ou PVST+), operando no "m√≠nimo denominador comum".                                                                                                                                                                                                                                                               |
| 144 | O comando `show spanning-tree inconsistentports` em um switch Cisco listar√° as portas que foram colocadas em estado de bloqueio inconsistente devido a mecanismos como Root Guard ou Loop Guard.                                                                         | V        | ‚úÖ Correto. Este comando √© √∫til para identificar portas que o STP bloqueou devido a uma condi√ß√£o de inconsist√™ncia detectada por funcionalidades de prote√ß√£o. üí° **Diagn√≥stico de Inconsist√™ncias:** Ajuda a encontrar portas que o STP bloqueou por raz√µes de seguran√ßa/estabilidade.                                                                                                                                                                                                                                                                                                                                                                                                    |
| 145 | Para definir a prioridade de porta STP para `16` na interface Gi0/1 para a VLAN 10, o comando seria `interface Gi0/1` seguido de `spanning-tree vlan 10 port-priority 16`.                                                                                              | V        | ‚úÖ Correto. A prioridade da porta √© configurada por interface e por VLAN (em ambientes PVST+/Rapid PVST+). Valores v√°lidos s√£o m√∫ltiplos de 16 (0-240). Menor valor = mais prefer√≠vel. üí° **Ajuste Fino de Desempate:** A prioridade da porta √© um crit√©rio de desempate importante na elei√ß√£o de Root Ports e Designated Ports.                                                                                                                                                                                                                                                                                                                                            |
| 146 | Se um administrador quiser que um switch espec√≠fico nunca participe do STP para a VLAN 30, mas continue encaminhando tr√°fego para essa VLAN, ele deve usar `no spanning-tree vlan 30 bpdufilter enable` no switch.                                                    | F        | ‚ùå `bpdufilter enable` em uma interface faria com que ela n√£o enviasse nem processasse BPDUs, mas isso √© por interface. Para desabilitar STP para uma VLAN inteira no switch, seria `no spanning-tree vlan 30`. Se ele quer que o switch n√£o participe ativamente (n√£o envie BPDUs), mas ainda ou√ßa, seria uma configura√ß√£o mais complexa e perigosa. A forma mais direta de "n√£o participar" para uma VLAN √© desabilitar STP para ela. üí° **Complexidade da "N√£o Participa√ß√£o":** Desabilitar STP √© a forma mais clara. Filtrar BPDUs globalmente para uma VLAN n√£o √© um comando padr√£o direto.                                                                                           |
| 147 | Ao usar EtherChannel (Port-Channel), o custo STP da interface Port-Channel √©, por padr√£o, o custo de um √∫nico link membro, independentemente de quantos links membros existam.                                                                                           | F        | ‚ùå O custo STP de uma interface Port-Channel √© tipicamente **calculado com base na largura de banda agregada** dos links membros ativos, resultando em um custo menor do que um √∫nico link membro. Ex: 2x1Gbps (custo 3) √© melhor que 1x1Gbps (custo 4). Alguns sistemas mais antigos podem usar o custo do link de menor velocidade. üí° **Custo do Agregado:** EtherChannel aparece como um link mais "barato" para o STP, refletindo sua maior capacidade.                                                                                                                                                                                                                            |
| 148 | O comando `spanning-tree backbonefast enable` (legado, Cisco) acelera a converg√™ncia em caso de falha de um link indireto para a Root Bridge, permitindo que um switch consulte vizinhos sobre caminhos alternativos para a Root.                                           | V        | ‚úÖ Correto. BackboneFast √© uma otimiza√ß√£o da Cisco que permite a um switch, ao perder seu caminho para a Root via um link indireto (recebendo BPDUs inferiores de seu Designated Bridge), verificar ativamente se seus vizinhos t√™m um caminho est√°vel para a Root. Isso pode economizar o tempo do Max Age. üí° **Otimiza√ß√£o para Falhas Indiretas:** Complementa o UplinkFast (para falhas diretas). RSTP incorpora essas melhorias.                                                                                                                                                                                                                                                                   |
| 149 | Em MSTP, se duas regi√µes MST diferentes precisam interoperar, elas o fazem atrav√©s da CIST (Common and Internal Spanning Tree), que forma uma √°rvore √∫nica entre as regi√µes.                                                                                             | V        | ‚úÖ Correto. As fronteiras entre regi√µes MST diferentes (ou entre uma regi√£o MST e uma rede STP/RSTP) s√£o gerenciadas pela CIST. Cada regi√£o MST aparece como um "grande switch virtual" para a CIST. üí° **Interopera√ß√£o Inter-Regi√£o MST:** A CIST garante que n√£o haja loops entre as regi√µes, tratando cada regi√£o como um n√≥.                                                                                                                                                                                                                                                                                                                                                          |
| 150 | Configurar `spanning-tree guard none` em uma interface desabilita explicitamente qualquer mecanismo de "guard" STP (Root Guard, Loop Guard) que possa estar ativo nela.                                                                                                | V        | ‚úÖ Correto. Este comando remove configura√ß√µes de Root Guard ou Loop Guard de uma interface, revertendo ao comportamento padr√£o sem essas prote√ß√µes espec√≠ficas. üí° **Removendo Prote√ß√µes:** √ötil se uma configura√ß√£o de "guard" foi aplicada incorretamente ou n√£o √© mais necess√°ria.                                                                                                                                                                                                                                                                                                                                                                                                |
| 151 | Para investigar por que uma porta est√° em estado `BLK` (Blocking) na sa√≠da de `show spanning-tree vlan X`, o administrador deve verificar o custo do caminho para a Root, o BID do switch vizinho na porta bloqueada e o BID do switch na Designated Port do segmento.      | V        | ‚úÖ Correto. Uma porta √© bloqueada se n√£o for Root Port nem Designated Port. Isso acontece se: a) h√° um caminho melhor para a Root via outra porta (ela n√£o √© RP); e b) outro switch no mesmo segmento √© o Designated Bridge (tem melhor caminho/BID para a Root a partir do segmento), ou a pr√≥pria porta local tem custo/BID pior que outra porta local no mesmo segmento (caso de loop no mesmo switch). üí° **An√°lise do Bloqueio:** Comparar os par√¢metros STP (custo, BIDs) da porta bloqueada com os da RP e DP(s) do(s) segmento(s) ajuda a entender o porqu√™.                                                                                                                                 |
| 152 | O comando `debug spanning-tree events` em um switch Cisco mostrar√° em tempo real os eventos STP, como elei√ß√µes de Root, mudan√ßas de estado de porta e recebimento/envio de BPDUs. √â recomendado usar com cautela em produ√ß√£o devido ao alto consumo de CPU.               | V        | ‚úÖ Correto. Comandos de `debug` s√£o poderosos para troubleshooting detalhado, mas podem sobrecarregar a CPU do switch, especialmente em redes ativas. Use filtros se poss√≠vel e desabilite ap√≥s o uso. üí° **Debugging com Cuidado:** Uma ferramenta valiosa, mas use com responsabilidade em ambientes de produ√ß√£o.                                                                                                                                                                                                                                                                                                                                                                      |
| 153 | Se um switch for configurado com `spanning-tree vlan 10 cost 50000` em sua interface Gi0/1, e o custo padr√£o do STP para Gi0/1 (1Gbps) for 4, a porta Gi0/1 nunca ser√° escolhida como Root Port para VLAN 10 se houver qualquer outro caminho, por pior que seja.         | F        | ‚ùå "Nunca" √© uma palavra forte. Se `50000` for o *√∫nico* caminho dispon√≠vel para a Root Bridge para a VLAN 10, mesmo sendo um custo alto, ele ser√° usado. Se houver outro caminho com custo, por exemplo, `50004`, o de `50000` ainda seria melhor. Apenas se torna *altamente improv√°vel* de ser escolhido se houver alternativas razo√°veis. üí° **Probabilidade, n√£o Impossibilidade:** Um custo alto torna um caminho muito menos desej√°vel, mas n√£o imposs√≠vel se for a √∫nica op√ß√£o.                                                                                                                                                                                               |
| 154 | Em RSTP, uma porta pode ter o papel de "Backup Port". Isso ocorre quando a porta oferece um caminho redundante para o mesmo segmento de rede que j√° √© atendido por uma Designated Port no mesmo switch, devido a um hub ou link compartilhado.                      | V        | ‚úÖ Correto. O papel de Backup Port no RSTP √© para cen√°rios onde um switch tem m√∫ltiplas conex√µes ao mesmo segmento compartilhado, e uma de suas portas j√° √© a Designated Port para aquele segmento. A outra porta se torna Backup. üí° **Backup Port em Shared Media:** Espec√≠fico para RSTP e cen√°rios com m√≠dia compartilhada ou loops no mesmo switch.                                                                                                                                                                                                                                                                                                                                                         |
| 155 | O comando `clear spanning-tree counters interface Gi0/1` zerar√° os contadores de BPDUs enviados/recebidos na interface Gi0/1, mas n√£o afetar√° o estado operacional do STP na porta.                                                                                   | V        | ‚úÖ Correto. Este comando √© √∫til para limpar estat√≠sticas para uma nova medi√ß√£o ou troubleshooting, sem impactar a topologia STP ativa ou o estado da porta. üí° **Reset de Contadores:** Apenas para fins de monitoramento e diagn√≥stico, n√£o afeta a opera√ß√£o.                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 156 | Se um switch Cisco estiver configurado para MSTP e o comando `show spanning-tree mst X` (onde X √© uma inst√¢ncia) mostrar "Pre-std-mig" em uma porta, significa que a porta est√° interoperando com um switch PVST+ vizinho.                                                 | V        | ‚úÖ Correto. "Pre-standard migration" (ou similar) indica que a porta MSTP est√° em modo de compatibilidade, geralmente se comunicando com um dispositivo Cisco executando PVST+ ou Rapid-PVST+. üí° **Modo de Migra√ß√£o/Compatibilidade:** O MSTP se adapta para conversar com implementa√ß√µes PVST propriet√°rias da Cisco.                                                                                                                                                                                                                                                                                                                                                                    |
| 157 | Ao configurar `spanning-tree portfast network` em uma interface, voc√™ est√° explicitamente dizendo ao switch que esta porta est√° conectada a outro switch ou dispositivo de rede que participa do STP, e o RSTP deve usar mecanismos de converg√™ncia r√°pida para ela.       | V        | ‚úÖ Correto. No contexto RSTP, `network` ou `link-type point-to-point` indica uma conex√£o a outro dispositivo STP, permitindo o uso do mecanismo de proposta/acordo para transi√ß√£o r√°pida. Diferente de `edge` (PortFast). üí° **Diferenciando Conex√µes no RSTP:** `edge` para hosts, `network`/`point-to-point` para outros switches/bridges.                                                                                                                                                                                                                                                                                                                                        |
| 158 | Um administrador n√£o pode configurar manualmente o endere√ßo MAC usado no Bridge ID. Ele √© sempre derivado do hardware do switch.                                                                                                                                   | V        | ‚úÖ Correto. O componente MAC do Bridge ID √© fixo, baseado no hardware (MAC base do chassi ou da VLAN base). Apenas a por√ß√£o de prioridade do BID (e o system-id-extend/VLAN ID em PVST+) pode ser configurada. üí° **MAC Fixo no BID:** A parte MAC √© imut√°vel por configura√ß√£o.                                                                                                                                                                                                                                                                                                                                                                                                             |
| 159 | Se a interface de um switch que √© a Root Port para a VLAN 20 falhar, e `spanning-tree ethechannel misconfig guard` estiver habilitado, e a porta alternativa for parte de um EtherChannel mal configurado, o EtherChannel ser√° desabilitado.                        | V        | ‚úÖ Correto. O "EtherChannel Misconfiguration Guard" detecta certas inconsist√™ncias na configura√ß√£o do EtherChannel entre switches (ex: nem todas as portas do bundle est√£o configuradas corretamente no vizinho). Se tal inconsist√™ncia for detectada, ele pode colocar as portas do EtherChannel em `err-disable`. üí° **Prote√ß√£o do EtherChannel:** Ajuda a prevenir loops ou comportamento inesperado devido a EtherChannels malformados que poderiam confundir o STP.                                                                                                                                                                                                            |
| 160 | Para que o RSTP atinja sua converg√™ncia mais r√°pida em um link ponto-a-ponto, ambos os switches no link devem estar operando em modo full-duplex. Se o link estiver em half-duplex, o RSTP reverter√° para o comportamento do STP 802.1D mais lento.                   | V        | ‚úÖ Correto. O mecanismo de proposta/acordo do RSTP, que permite a transi√ß√£o r√°pida para Forwarding, requer links ponto-a-ponto em full-duplex. Em links half-duplex (considerados compartilhados), o RSTP opera de forma mais conservadora, similar ao 802.1D. üí° **Requisito do Full-Duplex para RSTP R√°pido:** Links compartilhados/half-duplex imp√µem restri√ß√µes √† velocidade de converg√™ncia do RSTP.                                                                                                                                                                                                                                                                        |
| 161 | Em um switch Cisco executando Rapid PVST+, a sa√≠da do comando `show spanning-tree vlan 10` exibe uma porta com o status `FWD` e o papel `Desg`. Isso indica, inequivocamente, que esta porta √© respons√°vel por encaminhar BPDUs para o segmento ao qual est√° conectada para a VLAN 10.                    | V        | ‚úÖ Correto. `Desg` (Designated) significa que a porta √© a Designated Port para aquele segmento na VLAN 10. A Designated Port envia BPDUs para o segmento e encaminha tr√°fego para ele. `FWD` (Forwarding) confirma que ela est√° ativa. üí° **Interpreta√ß√£o de Sa√≠da:** `Desg` + `FWD` = Porta ativa enviando BPDUs e dados para o segmento.                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 162 | A configura√ß√£o `spanning-tree bpdufilter enable` em uma interface de um switch operando em modo MSTP impede que a interface envie ou receba BPDUs para qualquer inst√¢ncia MST, incluindo a CIST, o que pode levar a um loop se essa interface estiver conectada a outro switch da mesma regi√£o MST. | V        | ‚úÖ Correto. BPDU Filter, quando habilitado em uma interface, a isola completamente do STP, independentemente do modo (PVST+, MSTP, etc.). Ela n√£o envia nem processa BPDUs. Se conectada a outro switch, mesmo em MSTP, um loop √© um risco real, pois a porta n√£o participar√° da forma√ß√£o da √°rvore. üí° **Impacto Universal do BPDU Filter:** Age na camada mais fundamental da troca de BPDUs, afetando todos os sabores de STP.                                                                                                                                                                                                                                                                                                                                                           |
| 163 | Considere um cen√°rio onde SW1 (Root para VLAN X) est√° conectado a SW2, e SW2 est√° conectado a SW3. Se o link SW1-SW2 falhar, e o Loop Guard estiver habilitado na porta de SW2 que se conecta a SW3 (que era uma porta bloqueada/alternativa para VLAN X), essa porta em SW2 transitar√° para Forwarding. | F        | ‚ùå Se a porta SW2-SW3 era uma porta bloqueada/alternativa e o caminho principal (SW2-SW1) falhou, ela tentaria se tornar Root Port. Se Loop Guard estivesse habilitado e *ela parasse de receber BPDUs de SW3* (o que n√£o √© o caso aqui, pois SW3 ainda est√° l√°), ela iria para loop-inconsistent. Neste cen√°rio, sem falha de BPDUs de SW3, ela provavelmente se tornaria Root Port e iria para Forwarding (ap√≥s os devidos estados RSTP/STP). Loop Guard age na aus√™ncia de BPDUs em portas n√£o-designadas. üí° **Mecanismo do Loop Guard:** Protege contra a aus√™ncia de BPDUs em portas que deveriam estar recebendo-os para permanecerem bloqueadas.                                                            |
| 164 | Em um switch que utiliza PVST+, se a prioridade da bridge para a VLAN 1 for `32768` (padr√£o) e o endere√ßo MAC base do switch for `0000.AAAA.0001`, o Bridge ID para a inst√¢ncia STP da VLAN 1 ser√° `32769.0000.AAAA.0001`.                                                                             | V        | ‚úÖ Correto. No PVST+, o Bridge ID √© formado pela prioridade de 4 bits + ID da VLAN (12 bits) + MAC do switch (48 bits). A prioridade configurada (`32768`) √© combinada com o ID da VLAN (`1`). `32768 + 1 = 32769`. üí° **C√°lculo do BID no PVST+:** Prioridade da Bridge (configurada) + ID da VLAN. O MAC √© anexado.                                                                                                                                                                                                                                                                                                                                                                                               |
| 165 | Um switch configurado com `spanning-tree mode mst` e par√¢metros de regi√£o MST (nome, revis√£o, mapa VLAN-inst√¢ncia) diferentes de seus vizinhos, mas conectado a eles, operar√° cada inst√¢ncia MST (MSTI) de forma isolada, podendo causar loops entre as MSTIs e a CIST na fronteira.                | F        | ‚ùå Se os par√¢metros da regi√£o MST s√£o diferentes, os switches se consideram em **regi√µes MST diferentes**. Eles interoperar√£o atrav√©s da CIST (Common and Internal Spanning Tree). A CIST garantir√° uma topologia livre de loops *entre as regi√µes* e com qualquer rede STP/RSTP legada. N√£o haver√° loops "entre MSTIs e a CIST" dessa forma, pois a CIST √© a √°rvore comum. üí° **Fronteiras MST:** A CIST √© a cola que une regi√µes MST distintas e redes legadas sem loops.                                                                                                                                                                                                                           |
| 166 | A configura√ß√£o `spanning-tree portfast trunk` em uma interface de tronco (trunk) em um switch Cisco operando em Rapid PVST+ permite que a porta entre no estado de encaminhamento imediatamente para todas as VLANs permitidas no tronco, mas apenas se n√£o receber BPDUs.                      | V        | ‚úÖ Correto. `portfast trunk` (usado com cautela) faz a porta de tronco entrar em Forwarding rapidamente. No entanto, se BPDUs forem recebidos, a porta perde seu status PortFast e participa normalmente do STP para evitar loops. üí° **PortFast em Trunks (Cuidado!):** Usado em cen√°rios espec√≠ficos, como conex√£o com um servidor que faz trunking de VLANs, mas nunca entre switches sem BPDU Guard.                                                                                                                                                                                                                                                                                                   |
| 167 | Se a sa√≠da de `show spanning-tree summary` em um switch Cisco indicar "Root bridge for VLANs: 10, 20" e "BPDU Guard enabled interfaces: 0", isso significa que o switch √© a Root Bridge para as VLANs 10 e 20, e nenhuma porta PortFast foi desabilitada por viola√ß√£o de BPDU Guard.                 | V        | ‚úÖ Correto. A primeira parte indica claramente o papel de Root para as VLANs listadas. A segunda parte informa o n√∫mero de portas atualmente em estado `err-disable` devido ao BPDU Guard. Se for `0`, nenhuma est√° nesse estado *atualmente*. üí° **Resumo do STP:** `show spanning-tree summary` d√° uma vis√£o geral r√°pida do estado do STP, incluindo pap√©is de Root e status de prote√ß√µes.                                                                                                                                                                                                                                                                                                       |
| 168 | Ao configurar EtherChannel entre dois switches, se o STP estiver ativo, apenas um dos links f√≠sicos dentro do bundle EtherChannel participar√° ativamente do encaminhamento de BPDUs, sendo os demais links f√≠sicos do bundle colocados em estado de bloqueio pelo STP.       | F        | ‚ùå O STP trata a interface Port-Channel (o EtherChannel l√≥gico) como **uma √∫nica porta l√≥gica**. Todos os links f√≠sicos *ativos* dentro do bundle participam do encaminhamento de dados. Os BPDUs s√£o enviados por um dos links do bundle (geralmente o primeiro a subir ou determinado por um hash), mas a vis√£o do STP √© sobre a porta l√≥gica. Nenhum link *dentro* do bundle √© bloqueado pelo STP *devido ao STP*. üí° **STP e EtherChannel:** O STP v√™ o Port-Channel, n√£o os links membros individuais para fins de bloqueio/encaminhamento na √°rvore.                                                                                                                                      |
| 169 | Um administrador configura `spanning-tree vlan 1 root primary dia 4` em SW1 e `spanning-tree vlan 1 root secondary dia 4` em SW2. Se SW1 falhar, SW2 assumir√° como Root Bridge para VLAN 1. Se SW1 retornar, ele reassumir√° o papel de Root Bridge automaticamente.                | V        | ‚úÖ Correto. Os comandos `root primary` e `root secondary` s√£o macros que ajustam a prioridade do STP. `primary` define uma prioridade muito baixa (ex: `24576` se a Root atual for `32768`). `secondary` define uma prioridade um pouco maior que a `primary` (ex: `28672`). Se a Root prim√°ria (SW1) retornar com sua prioridade superior, ela preemptar√° a secund√°ria (SW2). üí° **Preemp√ß√£o da Root:** A Root Bridge com o melhor BID (menor prioridade) sempre vence.                                                                                                                                                                                                                 |
| 170 | Se uma porta em um switch RSTP estiver no estado `Discarding` e no papel `Alternate`, significa que ela oferece um caminho alternativo para a Root Bridge e est√° pronta para transitar para `Forwarding` quase instantaneamente se a Root Port falhar.                       | V        | ‚úÖ Correto. No RSTP, `Alternate Port` √© um caminho de backup para a Root Bridge. O estado `Discarding` no RSTP combina os antigos `Disabled`, `Blocking` e `Listening` do 802.1D. Uma `Alternate Port` em `Discarding` pode se tornar Root Port e ir para `Forwarding` muito rapidamente. üí° **Pap√©is e Estados do RSTP:** `Alternate` √© um papel chave para a r√°pida converg√™ncia do RSTP.                                                                                                                                                                                                                                                                                                                |
| 171 | A utiliza√ß√£o do comando `spanning-tree uplinkfast` em um switch Cisco faz com que, em caso de falha da Root Port, o switch aumente temporariamente a prioridade de suas portas e seu pr√≥prio Bridge ID em `4096` para for√ßar a reconverg√™ncia da rede "acima" dele.           | F        | ‚ùå UplinkFast (legado) aumenta o *custo das portas* e a *prioridade da bridge* (em `3000` + `4096`, tornando-o menos desej√°vel como Root ou caminho de tr√¢nsito) para evitar que ele se torne um switch de tr√¢nsito ap√≥s uma falha de uplink. Ele n√£o for√ßa reconverg√™ncia "acima". Ele foca na r√°pida transi√ß√£o de uma porta de acesso para um uplink de backup. üí° **Mecanismo do UplinkFast:** Visa r√°pida comuta√ß√£o para um uplink redundante em switches de acesso, n√£o influenciar a topologia upstream dessa forma.                                                                                                                                                                   |
| 172 | Em um ambiente MSTP, se a Inst√¢ncia 0 (CIST Root) for SW1 e a Inst√¢ncia 1 (MSTI1 Root) for SW2, e SW2 perder conectividade com SW1 (CIST Root), SW2 n√£o poder√° mais ser a Root para MSTI1, mesmo que seus caminhos internos para MSTI1 estejam intactos.               | F        | ‚ùå A Root da CIST e as Roots das MSTIs s√£o eleitas **independentemente** dentro de seus respectivos escopos. SW2 pode ser a Root de MSTI1 mesmo que n√£o seja (ou perca o caminho para) a Root da CIST. A CIST trata a regi√£o MST como um todo. As MSTIs operam dentro da regi√£o. üí° **Independ√™ncia CIST/MSTI Root:** S√£o √°rvores separadas, embora a CIST englobe a comunica√ß√£o inter-regi√µes e com redes legadas.                                                                                                                                                                                                                                                                         |
| 173 | Se a sa√≠da de `show spanning-tree interface Gi0/1 detail` mostrar "Link type is p2p by default", "BPDU TCN filtering is disabled", e "Port BPDU Snooping is disabled", isso sugere uma configura√ß√£o padr√£o para uma porta de tronco entre switches em RSTP, otimizada para TCNs. | F        | ‚ùå "BPDU TCN filtering is disabled" significa que a porta *ir√°* propagar TCNs, o que √© normal. "Port BPDU Snooping" n√£o √© um termo STP padr√£o. "Link type p2p by default" √© comum em RSTP para links full-duplex. A afirma√ß√£o de "otimizada para TCNs" √© vaga. A configura√ß√£o parece padr√£o, mas n√£o necessariamente "otimizada" de forma especial para TCNs al√©m do comportamento RSTP normal. üí° **Interpreta√ß√£o Detalhada:** O "p2p by default" √© bom para RSTP. TCN filtering desabilitado √© o comportamento padr√£o para propagar TCNs. A terceira parte √© incomum.                                                                                                             |
| 174 | A configura√ß√£o `spanning-tree loopguard default` em um switch Cisco habilita o Loop Guard globalmente em todas as portas ponto-a-ponto n√£o-edge, mas n√£o em portas de acesso (edge ports).                                                                                   | V        | ‚úÖ Correto. Loop Guard √© destinado a links entre switches (non-edge, point-to-point) onde BPDUs s√£o esperados. Habilit√°-lo globalmente com `default` geralmente o aplica a essas portas, n√£o a portas configuradas como PortFast/edge. üí° **Escopo do Loop Guard Default:** Focado em links de infraestrutura, n√£o em portas de acesso.                                                                                                                                                                                                                                                                                                                                                     |
| 175 | Um switch A (Root) est√° conectado a um switch B via Port-Channel1 (composto por Gi0/1 e Gi0/2). Se a interface Gi0/1 em SW_B falhar fisicamente, o STP no switch B n√£o iniciar√° uma reconverg√™ncia completa, desde que a interface Gi0/2 permane√ßa ativa no Port-Channel1.      | V        | ‚úÖ Correto. O STP opera na interface l√≥gica Port-Channel. A falha de um link membro, se outros membros permanecerem ativos, n√£o √© vista pelo STP como uma falha da "porta STP". O EtherChannel lida com a remo√ß√£o do link membro do bundle. A topologia STP n√£o muda. üí° **Resili√™ncia do EtherChannel:** O STP v√™ o Port-Channel como uma unidade. Perder um membro n√£o √© uma mudan√ßa de topologia STP se o Port-Channel continuar UP.                                                                                                                                                                                                                                               |
| 176 | Se um switch configurado com `errdisable recovery cause all` e `errdisable recovery interval 300` tiver uma porta desabilitada por BPDU Guard, essa porta tentar√° se reativar ap√≥s 5 minutos, independentemente da causa original do `err-disable`.                         | V        | ‚úÖ Correto. `errdisable recovery cause all` habilita a recupera√ß√£o para todas as raz√µes de `err-disable`. `interval 300` define o tempo em segundos (300s = 5 minutos) para a tentativa de recupera√ß√£o. A causa original (BPDU Guard) est√° inclu√≠da no "all". üí° **Recupera√ß√£o Abrangente:** `cause all` √© uma forma de tentar recuperar portas de qualquer condi√ß√£o de `err-disable` suportada.                                                                                                                                                                                                                                                                                               |
| 177 | Em RSTP, se uma Designated Port em um link ponto-a-ponto falhar, e houver uma Alternate Port no switch vizinho para o mesmo segmento, a Alternate Port transitar√° para Designated Port e estado de Forwarding sem passar pelos estados de Learning ou Listening.              | V        | ‚úÖ Correto. Esta √© uma das principais melhorias do RSTP. A Alternate Port j√° tem informa√ß√£o sincronizada e pode assumir o papel de Designated Port (se for o melhor caminho do segmento para a Root) e ir para Forwarding muito rapidamente. üí° **Converg√™ncia R√°pida do RSTP:** Alternate/Backup ports s√£o chave para essa velocidade.                                                                                                                                                                                                                                                                                                                                                     |
| 178 | A configura√ß√£o de um `bridge assurance enable` globalmente (funcionalidade Cisco) em uma rede RSTP far√° com que portas que deveriam receber BPDUs, mas n√£o os recebem (ex: devido a um switch travado ou falha unidirecional), entrem em estado `BA-Inc (Bridge Assurance Inconsistent)` e sejam bloqueadas. | V        | ‚úÖ Correto. Bridge Assurance √© uma prote√ß√£o contra loops causados por falhas de software ou hardware que fazem um switch parar de enviar BPDUs em portas que deveriam ser ativas (DPs, RPs). A porta que espera BPDUs e n√£o os recebe entra em bloqueio inconsistente. üí° **Prote√ß√£o Adicional:** Bridge Assurance ajuda a prevenir loops em cen√°rios onde o STP normal poderia ser enganado pela aus√™ncia de BPDUs. Requer que ambos os lados do link suportem.                                                                                                                                                                                                                  |
| 179 | Um switch configurado com `spanning-tree guard root` na interface Gi0/1, que √© sua Root Port, ao receber um BPDU de um novo switch com prioridade `0` (superior √† Root atual) nessa interface, mover√° a Gi0/1 para o estado `root-inconsistent` e iniciar√° uma nova elei√ß√£o de Root.  | F        | ‚ùå A porta Gi0/1 entrar√° em `root-inconsistent` (bloqueada). O switch **n√£o** encaminhar√° esses BPDUs superiores e, portanto, **n√£o** iniciar√° uma nova elei√ß√£o de Root baseada neles. Ele proteger√° a Root atual da perspectiva daquela porta. Ele pode ter outras portas para encontrar a nova Root, mas Gi0/1 estar√° bloqueada para esse fim. üí° **A√ß√£o do Root Guard:** Bloqueia a porta para BPDUs superiores, n√£o os propaga. O switch continua com sua vis√£o atual da Root ou busca por outras portas.                                                                                                                                                                             |
| 180 | O comando `spanning-tree portfast bpdufilter default` aplicado globalmente em um switch Cisco far√° com que as portas configuradas com PortFast n√£o enviem BPDUs, mas ainda processem BPDUs recebidos, potencialmente desabilitando PortFast se um BPDU for visto.               | F        | ‚ùå `spanning-tree portfast bpdufilter default` faz com que as portas PortFast **n√£o enviem E nem processem (ignorem) BPDUs recebidos**. Se BPDUs forem recebidos, eles s√£o descartados e o PortFast permanece ativo. Isso √© diferente do BPDU Guard (que desabilita a porta). üí° **BPDU Filter vs Guard:** Filter (em PortFast) = Ignora tudo. Guard (em PortFast) = Desabilita se vir BPDU.                                                                                                                                                                                                                                                                                                      |
| 181 | Em um cen√°rio MSTP, o `path cost` para alcan√ßar a CIST Root a partir de uma porta em uma MSTI √© sempre igual ao `path cost` para alcan√ßar a MSTI Root regional atrav√©s da mesma porta.                                                                                      | F        | ‚ùå Os custos s√£o calculados independentemente. Uma porta pode ter um custo para a CIST Root (que pode estar em outra regi√£o) e um custo diferente para a MSTI Root (que √© regional). As topologias s√£o distintas. üí° **Custos Independentes em MSTP:** CIST e MSTIs t√™m suas pr√≥prias m√©tricas de custo e √°rvores.                                                                                                                                                                                                                                                                                                                                                                                       |
| 182 | Se a sa√≠da de `debug spanning-tree bpdu receive` mostrar BPDUs sendo recebidos com um Root Path Cost consistentemente mais alto do que o Root Path Cost atual do switch, o switch manter√° sua Root Port atual e n√£o alterar√° sua topologia STP.                         | V        | ‚úÖ Correto. Um switch s√≥ considera alterar sua Root Port se receber BPDUs que ofere√ßam um caminho *melhor* (menor custo) para a Root Bridge atual, ou BPDUs de uma Root Bridge *melhor* (menor BID). BPDUs piores s√£o ignorados para fins de sele√ß√£o de Root Port. üí° **L√≥gica de Melhor Caminho:** STP sempre busca o melhor (menor custo) caminho para a melhor (menor BID) Root.                                                                                                                                                                                                                                                                                                                           |
| 183 | A configura√ß√£o `spanning-tree remote-id check` (ou similar, dependendo do vendor) ajuda a prevenir loops por MAC spoofing, verificando se o ID da bridge remota em um BPDU recebido corresponde ao esperado para aquele vizinho.                                           | F        | ‚ùå Este n√£o √© um comando ou funcionalidade STP padr√£o comum para preven√ß√£o de MAC spoofing dessa forma. Prote√ß√µes STP como BPDU Guard, Root Guard e outras visam manter a integridade da topologia STP, mas n√£o focam diretamente em MAC spoofing de BPDUs dessa maneira espec√≠fica. DAI (Dynamic ARP Inspection) e IPSG (IP Source Guard) lidam mais com spoofing. üí° **Foco das Prote√ß√µes STP:** Estabilidade da √°rvore, n√£o autentica√ß√£o de BPDUs.                                                                                                                                                                                                                                                             |
| 184 | Se um switch estiver executando RSTP e uma de suas Designated Ports em um link ponto-a-ponto parar de receber BPDUs de seu vizinho (que deveria estar enviando BPDUs como Root Port ou Alternate Port), o switch considerar√° o vizinho como "down" ap√≥s 3x Hello Time e poder√° iniciar uma reconverg√™ncia. | V        | ‚úÖ Correto. No RSTP, a perda de 3 BPDUs consecutivos (3 * Hello Time) em um link ponto-a-ponto de uma porta designada indica uma falha de conectividade com o vizinho, levando √† reconverg√™ncia. üí° **Detec√ß√£o R√°pida de Falhas no RSTP:** O mecanismo de "aging" r√°pido dos BPDUs permite detec√ß√£o de falhas muito mais veloz que o Max Age do 802.1D.                                                                                                                                                                                                                                                                                                                                      |
| 185 | O comando `spanning-tree cost 0` em uma interface far√° com que essa porta seja a mais prefer√≠vel em qualquer elei√ß√£o STP, mas √© uma configura√ß√£o inv√°lida, pois o custo m√≠nimo permitido √© 1.                                                                         | F        | ‚ùå O custo `0` n√£o √© configur√°vel manualmente em uma porta para STP. A *Root Bridge* tem um custo `0` para si mesma, mas isso n√£o √© algo que se configure em uma interface para torn√°-la prefer√≠vel. O custo m√≠nimo configur√°vel em uma interface √© `1`. üí° **Custo 0 √© Especial:** Reservado para a Root Bridge em rela√ß√£o a si mesma. Interfaces t√™m custo >= 1.                                                                                                                                                                                                                                                                                                                                           |
| 186 | Ao usar `spanning-tree transmit hold-count [valor]` (Cisco), o administrador est√° limitando a taxa na qual BPDUs s√£o enviados por um switch, o que pode ser √∫til em CPUs de switches sobrecarregadas, mas pode atrasar a converg√™ncia.                                  | V        | ‚úÖ Correto. Este comando ajusta o n√∫mero m√°ximo de BPDUs que podem ser enviados em um intervalo de Hello. Um valor menor (ex: 1) pode reduzir a carga da CPU em switches mais lentos, mas pode aumentar o tempo de converg√™ncia se BPDUs forem perdidos. O padr√£o √© geralmente adequado. üí° **Ajuste Fino de Transmiss√£o BPDU:** Raramente alterado, mas existe para cen√°rios espec√≠ficos de otimiza√ß√£o de recursos ou estabilidade.                                                                                                                                                                                                                                                        |
| 187 | Se, em um switch Cisco, a interface `Port-channel10` estiver UP, mas o comando `show spanning-tree interface port-channel 10` exibir "No spanning tree instance exists for Port-channel10", isso indica que nenhuma VLAN com STP ativo est√° permitida no tronco ou o Port-Channel n√£o est√° corretamente configurado como tronco. | V        | ‚úÖ Correto. Para que uma interface Port-Channel participe do STP (PVST+, Rapid PVST+), ela deve ser um tronco (`switchport mode trunk`) e ter VLANs ativas com STP habilitado passando por ela. Se nenhuma inst√¢ncia STP existe, √© porque nenhuma VLAN relevante est√° usando essa interface para STP. üí° **STP e Trunks:** STP opera em VLANs que est√£o ativas no tronco. Se n√£o h√° VLANs ativas ou o modo n√£o √© trunk, n√£o haver√° inst√¢ncias STP.                                                                                                                                                                                                                                            |
| 188 | A funcionalidade "TCN Guard" (hipot√©tica, n√£o padr√£o) se ativada, faria com que um switch ignorasse todos os TCN BPDUs recebidos, evitando o encurtamento do tempo de envelhecimento da tabela MAC e mantendo a estabilidade da tabela MAC mesmo durante mudan√ßas na topologia. | F        | ‚ùå Ignorar TCNs seria **prejudicial**. O encurtamento do MAC aging time √© essencial para que a rede se adapte corretamente √† nova topologia e evite encaminhar tr√°fego para caminhos obsoletos. Embora TCNs excessivos (flapping) sejam um problema, ignor√°-los completamente n√£o √© a solu√ß√£o. O RSTP lida com TCNs de forma mais eficiente. üí° **Import√¢ncia do TCN:** O mecanismo de TCN, apesar de poder causar overhead se houver instabilidade, √© vital para a corre√ß√£o da tabela MAC.                                                                                                                                                                                          |
| 189 | Em um switch com `spanning-tree mode pvst` e `spanning-tree portfast bpduguard default` configurados, se uma porta de acesso receber um BPDU, ela ser√° colocada em `err-disable`. Para recuper√°-la, o administrador pode usar `shutdown` seguido de `no shutdown` na interface.     | V        | ‚úÖ Correto. Este √© o procedimento manual padr√£o para recuperar uma porta do estado `err-disable` se a recupera√ß√£o autom√°tica n√£o estiver configurada ou se for necess√°rio intervir antes. üí° **Recupera√ß√£o Manual de Err-disable:** `shut` / `no shut` limpa o estado de erro (ap√≥s a causa raiz ser resolvida, idealmente).                                                                                                                                                                                                                                                                                                                                                                |
| 190 | A configura√ß√£o de diferentes valores de `spanning-tree max-age` em switches vizinhos dentro da mesma inst√¢ncia STP levar√° a uma opera√ß√£o STP inst√°vel e potencialmente a loops, pois os switches discordar√£o sobre a validade dos BPDUs.                                       | V        | ‚úÖ Correto. Os timers STP (Max Age, Hello, Forward Delay) devem ser consistentes em toda a inst√¢ncia STP. Eles s√£o definidos pela Root Bridge e propagados. Configura√ß√µes manuais divergentes podem causar comportamento imprevis√≠vel e instabilidade. üí° **Consist√™ncia dos Timers:** Fundamental para a opera√ß√£o correta e est√°vel do STP.                                                                                                                                                                                                                                                                                                                                                                        |
| 191 | Se um switch A (Root) e um switch B est√£o conectados. Switch B tem duas portas, P1 e P2, ambas conectadas a segmentos diferentes que levam de volta ao switch A (formando loops). Se P1 tiver um custo de porta de 4 e P2 um custo de porta de 19, P1 ser√° a Root Port de B. | V        | ‚úÖ Correto. O switch B escolher√° a porta com o menor custo para alcan√ßar a Root Bridge A como sua Root Port. P1 (custo 4) √© melhor que P2 (custo 19). üí° **Sele√ß√£o da Root Port:** O crit√©rio prim√°rio √© sempre o menor Root Path Cost.                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 193 | Em RSTP, a transi√ß√£o de uma porta para o estado Forwarding atrav√©s do mecanismo de proposta/acordo (proposal/agreement) s√≥ ocorre se a porta for uma Designated Port em um link ponto-a-ponto.                                                                            | V        | ‚úÖ Correto. O handshake de proposta/acordo do RSTP √© usado para rapidamente colocar uma Designated Port em Forwarding em links ponto-a-ponto, ap√≥s sincronizar com o switch vizinho. üí° **Condi√ß√µes para Proposta/Acordo RSTP:** Porta designada + link ponto-a-ponto + sincroniza√ß√£o.                                                                                                                                                                                                                                                                                                                                                                                                     |
| 194 | Se o comando `spanning-tree portfast disable` for aplicado globalmente em um switch, ele desabilitar√° PortFast em todas as interfaces, incluindo aquelas onde PortFast foi habilitado explicitamente na configura√ß√£o da interface.                                          | F        | ‚ùå O comando para desabilitar PortFast globalmente seria `no spanning-tree portfast default`. `spanning-tree portfast disable` n√£o √© um comando global padr√£o. A configura√ß√£o por interface (`[no] spanning-tree portfast`) tem preced√™ncia sobre o default global. üí° **Preced√™ncia de Configura√ß√£o:** Configura√ß√£o espec√≠fica de interface geralmente sobrescreve a global.                                                                                                                                                                                                                                                                                                                 |
| 195 | Um switch configurado com `spanning-tree vlan 10 priority 32768` e `spanning-tree vlan 20 priority 4096`. Se ele receber um BPDU para VLAN 10 de um vizinho com prioridade `28672`, ele aceitar√° o vizinho como Root para VLAN 10.                                          | V        | ‚úÖ Correto. `28672` √© uma prioridade melhor (menor) que `32768`. Portanto, o switch local ceder√° o papel de Root para VLAN 10 ao vizinho. A configura√ß√£o da VLAN 20 √© irrelevante para a VLAN 10. üí° **Compara√ß√£o de Prioridades:** O STP sempre busca a menor prioridade num√©rica.                                                                                                                                                                                                                                                                                                                                                                                         |
| 196 | A utiliza√ß√£o de `spanning-tree logging` (ou similar) habilitaria o log de eventos STP significativos (mudan√ßas de Root, transi√ß√µes de porta) para o buffer de log local do switch ou para um servidor syslog, facilitando a auditoria e o troubleshooting.                   | V        | ‚úÖ Correto. Muitos switches oferecem op√ß√µes para logar eventos STP, o que √© extremamente √∫til para entender o comportamento da rede e diagnosticar problemas hist√≥ricos. üí° **Import√¢ncia do Logging STP:** Visibilidade sobre as din√¢micas da √°rvore STP.                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 197 | Se um switch estiver configurado com `spanning-tree bpduguard enable` em uma interface de acesso, e um usu√°rio conectar um pequeno switch n√£o gerenciado (que n√£o envia BPDUs) a essa porta, a porta permanecer√° UP e operacional.                                          | V        | ‚úÖ Correto. BPDU Guard s√≥ age se **receber um BPDU**. Um switch n√£o gerenciado simples, ou um hub, tipicamente n√£o origina BPDUs. Portanto, o BPDU Guard n√£o seria ativado. üí° **Condi√ß√£o do BPDU Guard:** Requer o recebimento de um BPDU para disparar.                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 198 | Em uma rede MSTP, a configura√ß√£o `spanning-tree mst instance 1 priority 0` em SW1 e `spanning-tree mst instance 1 priority 4096` em SW2 garante que SW1 seja a Root para MSTI1, e se SW1 falhar, SW2 ser√° o backup, assumindo que ambos est√£o na mesma regi√£o MST.             | V        | ‚úÖ Correto. Similar ao PVST+, as prioridades por inst√¢ncia no MSTP determinam a Root para aquela MSTI dentro da regi√£o. `0` √© a melhor prioridade. üí° **Controle de Root por Inst√¢ncia MST:** Permite design granular de Roots para diferentes grupos de VLANs dentro da mesma regi√£o MST.                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 199 | Se o comando `show mac address-table count` mostrar uma contagem de endere√ßos MAC muito alta e flutuante em v√°rias VLANs, enquanto `show spanning-tree detail` n√£o indica TCNs recentes, a causa prov√°vel √© um loop de Camada 2 n√£o detectado ou mal mitigado pelo STP.         | V        | ‚úÖ Correto. Instabilidade da tabela MAC (MAC flapping) √© um sintoma cl√°ssico de loop L2. Se o STP n√£o est√° registrando TCNs (que levariam ao envelhecimento r√°pido), mas a tabela MAC est√° inst√°vel, pode indicar um loop que o STP n√£o conseguiu resolver (ex: devido a filtros de BPDU, switches n√£o gerenciados criando loops, etc.). üí° **Sintomas Cruzados:** MAC flapping sem TCNs √© um forte indicador de problemas de loop que o STP n√£o est√° "vendo" ou corrigindo adequadamente.                                                                                                                                                                                             |
| 200 | A configura√ß√£o `spanning-tree etherchannel guard misconfig` em um switch previne que o STP bloqueie portas individuais dentro de um Port-Channel se houver uma inconsist√™ncia de configura√ß√£o no bundle (ex: uma porta no bundle n√£o √© tronco enquanto as outras s√£o).        | F        | ‚ùå O `etherchannel guard misconfig` **detecta** a inconsist√™ncia e, tipicamente, coloca as portas do Port-Channel em estado `err-disable` para prevenir loops ou comportamento err√°tico que o STP poderia n√£o conseguir lidar adequadamente com um Port-Channel malformado. Ele n√£o "previne que o STP bloqueie", ele desabilita a porta problem√°tica. üí° **A√ß√£o do EtherChannel Guard:** Desabilitar para proteger, n√£o ajustar o STP.                                                                                                                                                                                                                                                             |
| 201 | Um administrador suspeita de uma falha unidirecional em um link de fibra entre SW1 e SW2, onde SW1 (Root Port para SW2) envia BPDUs, mas SW2 n√£o os recebe. A habilita√ß√£o do UDLD (UniDirectional Link Detection) em modo agressivo em ambas as portas faria com que a porta em SW2 entrasse em `err-disable`. | V        | ‚úÖ Correto. UDLD Agressivo, ao detectar que n√£o est√° recebendo "ecos" de seu vizinho (ou os pacotes UDLD do vizinho), considera o link unidirecional e coloca a porta em `err-disable` para prevenir loops que o STP poderia n√£o detectar nesse cen√°rio. üí° **UDLD como Complemento ao STP:** Ajuda em falhas f√≠sicas (como fibra quebrada em um par) que podem enganar o STP.                                                                                                                                                                                                                                                                                                                         |
| 202 | Se o comando `show spanning-tree vlan 30 bridge` mostrar "Hello Time 10, Max Age 40, Forward Delay 30", isso indica que os timers STP para VLAN 30 foram manualmente alterados em rela√ß√£o aos padr√µes (2, 20, 15) e que a Root Bridge para VLAN 30 est√° usando esses timers.        | V        | ‚úÖ Correto. Os timers STP s√£o definidos pela Root Bridge e propagados. Se o `show` command no switch local exibe esses valores n√£o-padr√£o, significa que a Root Bridge daquela inst√¢ncia STP (VLAN 30) est√° configurada e anunciando esses timers. üí° **Verificando Timers Ativos:** O `show spanning-tree bridge` (ou por VLAN) mostra os timers que o switch est√° usando, herdados da Root.                                                                                                                                                                                                                                                                                                             |
| 203 | Em um switch Cisco, o comando `spanning-tree global-defaults` reverteria todas as configura√ß√µes STP (modo, prioridades, PortFast, etc.) em todas as VLANs e interfaces para os valores de f√°brica do sistema operacional.                                                   | F        | ‚ùå N√£o existe um comando √∫nico como `spanning-tree global-defaults` que redefina *todas* as configura√ß√µes STP dessa forma. Para reverter, seria necess√°rio usar `no` na frente de cada comando espec√≠fico (ex: `no spanning-tree mode`, `no spanning-tree vlan X priority`, `default interface X`), ou, em casos extremos, apagar a configura√ß√£o e recarregar/reiniciar. üí° **Reset de Config:** Geralmente granular ou via reset total da config do switch.                                                                                                                                                                                                                                                        |
| 204 | A presen√ßa de "P2p Peer(STP)" na sa√≠da de `show spanning-tree interface X detail` em um switch RSTP indica que a porta est√° conectada a um vizinho que est√° operando no modo STP 802.1D cl√°ssico, e o link operar√° com a converg√™ncia mais lenta do 802.1D.              | V        | ‚úÖ Correto. RSTP detecta vizinhos 802.1D e reverte para o modo de opera√ß√£o 802.1D naquele link para garantir a interoperabilidade. "Peer(STP)" ou similar indica essa condi√ß√£o. üí° **Fallback para Compatibilidade:** RSTP se adapta a vizinhos mais lentos.                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 205 | Se o Root Guard estiver habilitado em uma porta de tronco (trunk) e um novo switch conectado a essa porta tentar se tornar Root para uma das VLANs permitidas no tronco com um BPDU superior, apenas aquela VLAN espec√≠fica ter√° sua comunica√ß√£o bloqueada pela porta, enquanto outras VLANs continuar√£o funcionando. | F        | ‚ùå O Root Guard opera na porta como um todo. Se ele detectar um BPDU superior (para qualquer VLAN relevante naquela porta, em PVST+), ele colocar√° a **porta inteira** no estado `root-inconsistent` (bloqueada), afetando todas as VLANs que passam por essa porta. üí° **A√ß√£o do Root Guard √© na Porta:** N√£o √© granular por VLAN dentro da mesma porta f√≠sica/l√≥gica.                                                                                                                                                                                                                                                                                                                                    |
| 206 | Aumentar o `spanning-tree transmit hold-count` para um valor muito alto (ex: 20) em uma rede com muitos switches pode levar a um "BPDU storm" se houver instabilidade, pois cada switch tentar√° enviar muitos BPDUs rapidamente.                                            | F        | ‚ùå O `transmit hold-count` limita o n√∫mero de BPDUs enviados *por intervalo de Hello*. Aument√°-lo n√£o causa uma "tempestade" por si s√≥; na verdade, um valor muito baixo em uma CPU sobrecarregada poderia fazer com que nem mesmo os BPDUs essenciais fossem enviados. O controle do fluxo de BPDUs √© para evitar sobrecarga na CPU do switch emissor. üí° **Controle de Taxa BPDU:** Serve para regular a sa√≠da de BPDUs, n√£o para causar tempestades.                                                                                                                                                                                                                                                                                          |
| 207 | Em uma configura√ß√£o MSTP, se a Inst√¢ncia 1 mapeia VLANs 10-20 e a Inst√¢ncia 2 mapeia VLANs 21-30, e um link √© bloqueado para a Inst√¢ncia 1, esse mesmo link f√≠sico pode estar em estado de encaminhamento para a Inst√¢ncia 2.                                                | V        | ‚úÖ Correto. Esta √© a principal vantagem do MSTP: diferentes inst√¢ncias (MSTIs) podem ter topologias diferentes e, portanto, diferentes portas bloqueadas/encaminhando, permitindo o uso de caminhos distintos para diferentes conjuntos de VLANs. üí° **Balanceamento de Carga L√≥gico com MSTP:** Permite utilizar links redundantes de forma mais eficiente.                                                                                                                                                                                                                                                                                                                                                  |
| 208 | O comando `test spanning-tree vlan X` (ou similar para fins de diagn√≥stico) em um switch Cisco simularia uma falha de BPDU na Root Port da VLAN X, permitindo ao administrador observar o comportamento de converg√™ncia do STP sem derrubar fisicamente um link.             | F        | ‚ùå N√£o existe um comando `test spanning-tree` padr√£o com essa funcionalidade de simular falhas de BPDU de forma t√£o direta para observar a converg√™ncia. Testes de converg√™ncia geralmente envolvem `shutdown` de interfaces, altera√ß√£o de custos ou prioridades, ou uso de ferramentas de teste de rede mais avan√ßadas. Debugs podem mostrar o processo. üí° **Teste de STP:** Mais complexo do que um √∫nico comando de simula√ß√£o. Requer manipula√ß√£o da topologia ou dos par√¢metros STP.                                                                                                                                                                                                       |
| 209 | Se a sa√≠da de `show interfaces counters errors` mostrar um grande n√∫mero de "Giants" e "CRC errors" em uma porta que √© Root Port, isso pode levar a BPDUs corrompidos ou perdidos, causando instabilidade no STP e poss√≠veis reconverg√™ncias.                               | V        | ‚úÖ Correto. Erros de Camada 1/2 (como CRC, giants, runts) em uma porta cr√≠tica para o STP podem corromper BPDUs. Se BPDUs s√£o perdidos ou chegam malformados, o switch pode interpretar erroneamente a topologia ou achar que um vizinho falhou, levando √† instabilidade do STP. üí° **Sa√∫de da Camada F√≠sica:** Problemas em L1/L2 impactam diretamente protocolos L2 como STP.                                                                                                                                                                                                                                                                                                                      |
| 210 | A configura√ß√£o `spanning-tree portfast network default` em um switch Cisco habilitaria PortFast em todas as portas, mas as designaria como portas de rede (para conex√£o com outros switches), o que √© uma configura√ß√£o contradit√≥ria e provavelmente resultaria em loops.        | F        | ‚ùå `spanning-tree portfast default` habilita PortFast em portas de acesso. `spanning-tree port type network default` (ou `link-type point-to-point default`) configuraria portas para serem tratadas como links de rede STP. N√£o existe `spanning-tree portfast network default` como um comando √∫nico combinando os dois de forma contradit√≥ria. Se fossem aplicados separadamente de forma a criar conflito l√≥gico, o comportamento seria indefinido ou o √∫ltimo comando teria preced√™ncia para o aspecto que ele controla. üí° **Comandos Espec√≠ficos:** Cada comando tem seu escopo. PortFast √© para acesso (edge), tipo de rede √© para interconex√µes STP. |
| 211 | A sigla **STP** refere-se a "Secure Transfer Protocol", um protocolo utilizado para transfer√™ncia segura de arquivos em redes locais.                                                                   | F        | ‚ùå **STP** significa **Spanning Tree Protocol**. üå≤ √â um protocolo de Camada 2 (IEEE 802.1D) projetado para **prevenir loops de encaminhamento** em topologias de rede Ethernet com enlaces redundantes, criando uma topologia l√≥gica em √°rvore. "Secure Transfer Protocol" n√£o √© uma sigla padr√£o amplamente reconhecida; para transfer√™ncia segura de arquivos, temos SFTP (SSH File Transfer Protocol) ou FTPS (FTP Secure). üí° **N√£o confunda!** STP √© fundamental para a estabilidade de redes comutadas.                                                                                                                                                                                                                                                                                                            |
| 212 | **BPDU**, no contexto do STP, significa "Bridge Protocol Data Unit". Estas s√£o mensagens trocadas entre switches para construir e manter a topologia Spanning Tree.                                        | V        | ‚úÖ Correto. **BPDU** = **Bridge Protocol Data Unit**. üìä S√£o os frames especiais que os switches usam para compartilhar informa√ß√µes sobre si mesmos e a topologia da rede, permitindo a elei√ß√£o da Root Bridge e a determina√ß√£o dos pap√©is das portas (Root, Designated, Blocking). Existem Configuration BPDUs e TCN BPDUs. üí° **Cora√ß√£o do STP:** Sem BPDUs, n√£o haveria Spanning Tree.                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 213 | O termo **BID** em STP √© a abrevia√ß√£o de "Broadcast Identifier Domain", que delimita a √°rea de propaga√ß√£o de broadcasts em uma VLAN.                                                                    | F        | ‚ùå **BID** significa **Bridge ID**. üÜî √â um identificador √∫nico de 8 bytes para cada switch na rede STP. √â composto por uma **Prioridade da Bridge** (2 bytes) e o **endere√ßo MAC** do switch (6 bytes). O BID √© crucial para a elei√ß√£o da Root Bridge (o switch com o menor BID vence). "Broadcast Domain" √© o termo correto para a √°rea de propaga√ß√£o de broadcasts. üí° **Identidade do Switch no STP:** O BID √© o "RG" do switch para o algoritmo STP.                                                                                                                                                                                                                                                                                                                                                                 |
| 214 | **RPVST+** √© uma sigla para "Routed Per-VLAN Spanning Tree Plus", um protocolo que integra funcionalidades de roteamento com o Spanning Tree por VLAN.                                                  | F        | ‚ùå **RPVST+** significa **Rapid Per-VLAN Spanning Tree Plus**. üöÄ √â uma melhoria propriet√°ria da Cisco que combina a **converg√™ncia r√°pida do RSTP (Rapid Spanning Tree Protocol)** com a capacidade do **PVST+ (Per-VLAN Spanning Tree Plus)** de criar uma inst√¢ncia STP separada para cada VLAN. N√£o integra roteamento diretamente; √© um protocolo de Camada 2. üí° **Evolu√ß√£o Cisco:** RPVST+ = PVST+ com velocidade RSTP.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 215 | A sigla **CST** em discuss√µes sobre STP refere-se a "Common Spanning Tree", que √© a inst√¢ncia √∫nica de Spanning Tree criada pelo padr√£o IEEE 802.1D original, abrangendo todas as VLANs da rede.        | V        | ‚úÖ Correto. **CST** = **Common Spanning Tree**. üå≥ O padr√£o original IEEE 802.1D define uma √∫nica √°rvore geradora para toda a rede comutada, independentemente do n√∫mero de VLANs. Isso pode levar a caminhos sub√≥timos para algumas VLANs. üí° **Uma √Årvore para Todos:** CST √© o comportamento fundamental do 802.1D.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 216 | **TCN**, uma mensagem STP, significa "Topology Configuration Notification". Ela √© enviada pela Root Bridge para informar outros switches sobre uma mudan√ßa na configura√ß√£o de prioridade da Root Bridge. | F        | ‚ùå **TCN** significa **Topology Change Notification**. üì¢ √â uma mensagem enviada por um switch **n√£o-Root** que detecta uma mudan√ßa na topologia ativa (ex: uma porta ativa cai ou uma porta bloqueada se torna ativa) *em dire√ß√£o √† Root Bridge*. A Root Bridge ent√£o envia Configuration BPDUs com o flag TC (Topology Change) para notificar toda a rede. üí° **Alerta de Mudan√ßa:** TCN √© o "grito" inicial de que algo mudou na rede ativa.                                                                                                                                                                                                                                                                                                                                                                                 |
| 217 | **MSTP** √© a sigla para "Maximum Speed Transmission Protocol", focado em otimizar a taxa de transfer√™ncia m√°xima em links de fibra √≥ptica.                                                            | F        | ‚ùå **MSTP** significa **Multiple Spanning Tree Protocol** (IEEE 802.1s). üîÑ Permite agrupar m√∫ltiplas VLANs em **inst√¢ncias** de Spanning Tree, cada uma com sua pr√≥pria topologia. Isso otimiza o uso de caminhos redundantes e melhora a escalabilidade em redes com muitas VLANs, comparado ao PVST+. üí° **M√∫ltiplas √Årvores, Melhor Uso:** MSTP √© o padr√£o IEEE para lidar com muitas VLANs de forma eficiente com STP.                                                                                                                                                                                                                                                                                                                                                                                                          |
| 218 | A sigla **PVST+** significa "Per-VLAN Spanning Tree Plus". √â uma implementa√ß√£o propriet√°ria da Cisco que cria uma inst√¢ncia separada do Spanning Tree para cada VLAN configurada no switch.               | V        | ‚úÖ Correto. **PVST+** = **Per-VLAN Spanning Tree Plus**. ‚ûï √â uma extens√£o da Cisco ao STP original que permite que cada VLAN execute seu pr√≥prio processo STP independente. Isso possibilita que diferentes VLANs tenham diferentes Root Bridges e diferentes caminhos ativos, otimizando o uso da rede. O "+" indica sua capacidade de interoperar com o CST padr√£o IEEE. üí° **Uma √Årvore por VLAN (Cisco):** PVST+ oferece mais flexibilidade que o CST.                                                                                                                                                                                                                                                                                                                                                                    |
| 219 | **RSTP**, definido no IEEE 802.1w, significa "Redundant Switch Trunking Protocol", usado para criar enlaces de tronco redundantes entre switches.                                                        | F        | ‚ùå **RSTP** significa **Rapid Spanning Tree Protocol**. ‚ö° √â uma evolu√ß√£o do STP (IEEE 802.1D) que oferece **converg√™ncia significativamente mais r√°pida** (tipicamente em segundos ou milissegundos) ap√≥s uma falha na rede. Ele introduz novos pap√©is de porta (Alternate, Backup) e estados, al√©m de otimizar o processo de notifica√ß√£o de mudan√ßa de topologia. üí° **STP Mais R√°pido:** RSTP √© o sucessor padr√£o do 802.1D, focado em velocidade de recupera√ß√£o.                                                                                                                                                                                                                                                                                                                                                                           |
| 220 | **LAG**, no contexto de switches e redund√¢ncia, significa "Link Aggregation Group". √â uma t√©cnica que combina m√∫ltiplos links f√≠sicos em um √∫nico link l√≥gico de maior largura de banda e redund√¢ncia.    | V        | ‚úÖ Correto. **LAG** = **Link Aggregation Group**. üîó Tamb√©m conhecido como EtherChannel (Cisco), port bundling, ou port trunking (n√£o confundir com VLAN trunking). Permite agrupar v√°rias portas f√≠sicas para funcionarem como uma √∫nica interface l√≥gica, aumentando a capacidade e fornecendo redund√¢ncia se um dos links f√≠sicos falhar. O STP trata o LAG como uma √∫nica porta. üí° **Mais Banda, Mais Confian√ßa:** LAGs s√£o frequentemente usados em conjunto com STP.                                                                                                                                                                                                                                                               |
| 221 | **CIST** em MSTP significa "Common and Internal Spanning Tree". √â a inst√¢ncia STP que abrange todas as regi√µes MST e interopera com redes STP/RSTP legadas.                                                | V        | ‚úÖ Correto. **CIST** = **Common and Internal Spanning Tree**. üåê No MSTP, a CIST √© a inst√¢ncia fundamental que garante uma topologia livre de loops em toda a rede bridged, incluindo todas as regi√µes MST (que aparecem como um √∫nico switch para a CIST) e quaisquer redes STP/RSTP conectadas. A Root da CIST √© a Root de toda a rede MST. üí° **A Grande √Årvore do MSTP:** CIST √© a espinha dorsal que conecta tudo no mundo MSTP.                                                                                                                                                                                                                                                                                                                                                          |
| 222 | A sigla **PoE** frequentemente vista em especifica√ß√µes de switch, relacionada ao STP, significa "Port over Ethernet", indicando portas otimizadas para tr√°fego STP.                                      | F        | ‚ùå **PoE** significa **Power over Ethernet** (IEEE 802.3af, 802.3at, 802.3bt). üîå √â uma tecnologia que permite que cabos de rede Ethernet transmitam energia el√©trica juntamente com dados para dispositivos como telefones IP, c√¢meras de seguran√ßa e pontos de acesso sem fio. N√£o tem rela√ß√£o direta com a otimiza√ß√£o do STP, embora switches com PoE participem do STP como qualquer outro switch. üí° **Energia pela Rede:** PoE √© sobre alimenta√ß√£o, n√£o sobre o algoritmo STP.                                                                                                                                                                                                                                                                                                                                       |
| 223 | **MSTI** √© uma sigla usada no MSTP que significa "Multiple Spanning Tree Instance". Cada MSTI dentro de uma regi√£o MST pode ter sua pr√≥pria Root Bridge e topologia para um grupo de VLANs.                 | V        | ‚úÖ Correto. **MSTI** = **Multiple Spanning Tree Instance**. üß© No MSTP, uma regi√£o pode conter v√°rias MSTIs (al√©m da CIST/IST0). Cada MSTI √© uma √°rvore geradora independente para um conjunto espec√≠fico de VLANs mapeadas para ela, permitindo diferentes caminhos e Roots para diferentes grupos de VLANs. üí° **Mini-√Årvores no MSTP:** MSTIs permitem o balanceamento de carga l√≥gico e a otimiza√ß√£o de caminhos dentro de uma regi√£o MST.                                                                                                                                                                                                                                                                                     |
| 224 | **UDLD**, uma funcionalidade de switches, significa "User Datagram Link Detection", usada para detectar quando um usu√°rio desconecta um cabo.                                                              | F        | ‚ùå **UDLD** significa **UniDirectional Link Detection**. ‚û°Ô∏è‚¨ÖÔ∏è √â um protocolo (geralmente propriet√°rio da Cisco, mas com conceitos similares em outros vendors) usado para detectar links unidirecionais (onde o tr√°fego flui em apenas uma dire√ß√£o devido a problemas de fibra, transceptores ou erros de cabeamento). Um link unidirecional pode causar loops que o STP n√£o detectaria. O UDLD pode desabilitar a porta ao detectar tal condi√ß√£o. üí° **Contra Falhas Sorrateiras:** UDLD ajuda a prevenir loops causados por problemas de link f√≠sico que enganam o STP.                                                                                                                                                            |
| 225 | **DAI**, frequentemente discutido em seguran√ßa de Camada 2, significa "Distributed ARP Inspection", um mecanismo para distribuir tabelas ARP entre switches.                                               | F        | ‚ùå **DAI** significa **Dynamic ARP Inspection**. üõ°Ô∏è √â uma funcionalidade de seguran√ßa que valida pacotes ARP em uma rede. Ele intercepta respostas ARP e verifica se o mapeamento MAC-IP √© v√°lido, comparando com uma base de dados confi√°vel (geralmente constru√≠da a partir do DHCP Snooping). Ajuda a prevenir ataques de envenenamento ARP (ARP spoofing/poisoning). N√£o √© sobre "distribuir" tabelas, mas sim "inspecionar" dinamicamente. üí° **Seguran√ßa ARP:** DAI protege a integridade das tabelas ARP.                                                                                                                                                                                                 |
| 226 | **VTP**, um protocolo da Cisco, significa "VLAN Trunking Protocol". Ele √© usado para propagar automaticamente configura√ß√µes de VLAN (adi√ß√£o, exclus√£o, nomes) entre switches em um mesmo dom√≠nio VTP.    | V        | ‚úÖ Correto. **VTP** = **VLAN Trunking Protocol**. üìã √â um protocolo da Cisco que simplifica a administra√ß√£o de VLANs em redes grandes, permitindo que um switch configurado como VTP Server propague suas configura√ß√µes de VLAN para switches VTP Clients no mesmo dom√≠nio. üí° **Gerenciamento Centralizado de VLANs (Cisco):** VTP pode poupar tempo, mas tamb√©m pode ser perigoso se mal configurado (ex: um switch com revis√£o de configura√ß√£o mais alta e sem VLANs pode apagar VLANs da rede).                                                                                                                                                                                                                 |
| 227 | A sigla **OSI** no contexto de modelos de rede refere-se a "Open Systems Interconnection". O STP opera na Camada 2 (Enlace de Dados) deste modelo.                                                          | V        | ‚úÖ Correto. **OSI** = **Open Systems Interconnection**. üèõÔ∏è √â um modelo de refer√™ncia conceitual de 7 camadas (F√≠sica, Enlace, Rede, Transporte, Sess√£o, Apresenta√ß√£o, Aplica√ß√£o) que padroniza as fun√ß√µes de um sistema de telecomunica√ß√£o ou computa√ß√£o. O STP, lidando com quadros Ethernet e endere√ßos MAC, reside na Camada 2. üí° **Mapa da Rede:** O modelo OSI √© fundamental para entender onde diferentes protocolos e tecnologias se encaixam.                                                                                                                                                                                                                                                           |
| 228 | **MAC**, em "endere√ßo MAC", significa "Media Access Control". √â um identificador √∫nico atribu√≠do a interfaces de rede para comunica√ß√µes na Camada 2. O STP usa o MAC no BID.                             | V        | ‚úÖ Correto. **MAC** = **Media Access Control**. üí≥ Um endere√ßo MAC √© um identificador de hardware de 48 bits (6 bytes) globalmente √∫nico (em teoria) que os fabricantes atribuem a cada interface de rede. √â usado para endere√ßamento em redes locais (como Ethernet). O STP usa uma por√ß√£o do endere√ßo MAC do switch como parte do Bridge ID. üí° **Endere√ßo F√≠sico:** Essencial para o funcionamento da Camada 2 e do STP.                                                                                                                                                                                                                                                                                                 |
| 229 | **TTL**, um campo em cabe√ßalhos de pacotes IP, significa "Time To Live". Ele √© decrementado por cada switch STP que o pacote atravessa para prevenir loops de Camada 2.                                    | F        | ‚ùå **TTL** = **Time To Live**. ‚è≥ √â um campo no cabe√ßalho do pacote IP (Camada 3) usado para limitar o tempo de vida de um pacote na rede e prevenir **loops de roteamento (Camada 3)**. Ele √© decrementado por **roteadores**, n√£o por switches STP. Se o TTL chega a zero, o pacote √© descartado. STP previne loops de Camada 2 usando BPDUs e bloqueando portas. üí° **Loop L3 vs L2:** TTL √© para loops de roteamento (L3). STP √© para loops de switching (L2).                                                                                                                                                                                                                                                                       |
| 230 | **IST**, no contexto do MSTP, refere-se a "Internal Spanning Tree". √â a inst√¢ncia 0 (MSTI0) dentro de uma regi√£o MST, que tamb√©m √© parte da CIST e lida com a conectividade dentro da regi√£o e com o exterior. | V        | ‚úÖ Correto. **IST** = **Internal Spanning Tree**. üè† Tamb√©m conhecida como MSTI0, √© a inst√¢ncia default dentro de uma regi√£o MST. Ela herda a topologia da CIST para conectividade externa √† regi√£o e tamb√©m calcula uma √°rvore geradora para as VLANs mapeadas para ela dentro da regi√£o que n√£o est√£o em outras MSTIs. üí° **Funda√ß√£o da Regi√£o MST:** IST/MSTI0 √© a base da conectividade dentro e fora da regi√£o MST.                                                                                                                                                                                                                                                                                               |
| 231 | A sigla **SFTP** refere-se a "Simple File Transfer Protocol", uma vers√£o simplificada do FTP para redes STP.                                                                                             | F        | ‚ùå **SFTP** significa **SSH File Transfer Protocol** (ou Secure File Transfer Protocol). üîí √â um protocolo de rede que fornece funcionalidade de acesso, transfer√™ncia e gerenciamento de arquivos sobre qualquer fluxo de dados confi√°vel. Foi projetado pelo IETF como uma extens√£o do protocolo Secure Shell (SSH) vers√£o 2.0. N√£o tem rela√ß√£o direta com STP. üí° **Transfer√™ncia Segura:** SFTP usa SSH para seguran√ßa, diferente do FTP tradicional.                                                                                                                                                                                                                                                                                        |
| 232 | **RP**, no contexto de pap√©is de porta STP, significa "Redundant Port", uma porta mantida como backup em caso de falha da porta principal.                                                                | F        | ‚ùå **RP** significa **Root Port**. ‚¨ÜÔ∏è Em um switch n√£o-Root, a Root Port √© a √∫nica porta que oferece o caminho de menor custo para a Root Bridge. √â o caminho "para cima" na √°rvore STP. Pap√©is de backup no RSTP incluem Alternate Port e Backup Port. üí° **Caminho para o Chefe:** A Root Port √© a conex√£o principal de um switch n√£o-Root em dire√ß√£o √† Root Bridge.                                                                                                                                                                                                                                                                                                                                                        |
| 233 | **DP**, como papel de porta STP, significa "Disabled Port", uma porta que foi administrativamente desabilitada e n√£o participa do STP.                                                                    | F        | ‚ùå **DP** significa **Designated Port**. ‚û°Ô∏è Em cada segmento de rede (enlace), a Designated Port √© a porta do switch que est√° autorizada a encaminhar tr√°fego para aquele segmento e enviar BPDUs para ele, oferecendo o caminho de menor custo daquele segmento em dire√ß√£o √† Root Bridge. Uma porta administrativamente desabilitada est√° no estado "Disabled". üí° **Porta Respons√°vel pelo Segmento:** A DP "cuida" de um segmento de rede na √°rvore STP.                                                                                                                                                                                                                                                                         |
| 234 | A sigla **QoS**, relacionada √† qualidade de servi√ßo em redes, significa "Quality of Spanning-Tree", indicando a prioriza√ß√£o de tr√°fego BPDU.                                                             | F        | ‚ùå **QoS** significa **Quality of Service**. üö¶ √â um conjunto de tecnologias e mecanismos usados para gerenciar o tr√°fego de rede, priorizando certos tipos de tr√°fego (ex: voz, v√≠deo) sobre outros (ex: email, navega√ß√£o web) para garantir um determinado n√≠vel de desempenho. BPDUs s√£o tr√°fego de controle e geralmente j√° t√™m alta prioridade, mas QoS √© um conceito mais amplo. üí° **Priorizando o Tr√°fego:** QoS √© sobre gerenciar a experi√™ncia do usu√°rio e a efici√™ncia da rede para diferentes aplica√ß√µes.                                                                                                                                                                                                |
| 235 | **NTP**, um protocolo de sincroniza√ß√£o de tempo, significa "Network Time Protocol". Ele √© essencial para que os timers do STP (Hello, Max Age, Forward Delay) funcionem corretamente entre switches.        | F        | ‚ùå **NTP** = **Network Time Protocol**. ‚è∞ √â usado para sincronizar os rel√≥gios de computadores e dispositivos de rede com uma fonte de tempo precisa. Embora a sincroniza√ß√£o de tempo seja importante para logs e troubleshooting, os timers do STP **n√£o dependem do NTP** para seu funcionamento. Eles s√£o relativos e baseados na propaga√ß√£o de BPDUs da Root Bridge. üí° **Tempo Certo, Mas N√£o para Timers STP:** NTP √© para sincronia de rel√≥gio, timers STP s√£o aut√¥nomos dentro do protocolo.                                                                                                                                                                                                        |
| 236 | **SNMP**, um protocolo de gerenciamento de rede, significa "Spanning-Tree Network Management Protocol", usado para configurar e monitorar o STP remotamente.                                                | F        | ‚ùå **SNMP** significa **Simple Network Management Protocol**. üì° √â um protocolo padr√£o da Internet para coletar e organizar informa√ß√µes sobre dispositivos gerenciados em redes IP e para modificar essa informa√ß√£o para alterar o comportamento do dispositivo. O STP pode ser gerenciado e monitorado via SNMP (atrav√©s de MIBs espec√≠ficas para STP), mas SNMP em si √© um protocolo de gerenciamento gen√©rico. üí° **Olhos e M√£os da Rede:** SNMP √© uma ferramenta fundamental para gerenciar diversos aspectos da rede, incluindo STP.                                                                                                                                                                                             |
| 237 | **IPSG**, uma funcionalidade de seguran√ßa em switches, significa "IP Source Guard". Ela trabalha em conjunto com o STP para prevenir que BPDUs falsificados causem instabilidade na √°rvore.                  | F        | ‚ùå **IPSG** = **IP Source Guard**. üëÆ  √â uma funcionalidade de seguran√ßa que filtra o tr√°fego IP na camada de acesso com base no endere√ßo IP de origem e, opcionalmente, no endere√ßo MAC de origem. Ele usa informa√ß√µes do DHCP Snooping para criar bindings confi√°veis. Seu foco principal √© prevenir IP spoofing, n√£o diretamente a falsifica√ß√£o de BPDUs (embora possa ajudar a restringir quem pode enviar tr√°fego em geral). üí° **Contra IP Falsificado:** IPSG ajuda a garantir que os hosts usem apenas os IPs que lhes foram atribu√≠dos.                                                                                                                                                                               |
| 238 | **DHCP**, um protocolo de configura√ß√£o de rede, significa "Dynamic Host Configuration Protocol". O STP pode utilizar informa√ß√µes do DHCP Snooping para otimizar a elei√ß√£o da Root Bridge.                  | F        | ‚ùå **DHCP** = **Dynamic Host Configuration Protocol**. üåê √â usado para atribuir automaticamente endere√ßos IP e outras informa√ß√µes de configura√ß√£o de rede a dispositivos. **DHCP Snooping** √© uma funcionalidade de seguran√ßa que valida mensagens DHCP. N√£o h√° uma intera√ß√£o direta onde o STP usa DHCP Snooping para elei√ß√£o da Root. O DHCP Snooping e o STP s√£o protocolos distintos com finalidades diferentes, embora possam coexistir na mesma rede. üí° **Configura√ß√£o Autom√°tica de IP:** DHCP simplifica a atribui√ß√£o de IPs. DHCP Snooping adiciona seguran√ßa a esse processo.                                                                                                                  |
| 239 | **ACL**, em firewalls e switches, significa "Access Control List". No contexto STP, ACLs podem ser usadas para filtrar BPDUs, efetivamente desabilitando o STP em certas portas ou VLANs.                  | V        | ‚úÖ Correto. **ACL** = **Access Control List**. üö´ S√£o conjuntos de regras usadas para controlar o fluxo de tr√°fego, permitindo ou negando pacotes com base em crit√©rios como endere√ßos IP, portas TCP/UDP, etc. ACLs de Camada 2 (MAC ACLs) poderiam, teoricamente, ser usadas para filtrar BPDUs (que t√™m um endere√ßo MAC de destino espec√≠fico: `01:80:C2:00:00:00` ou `01:00:0C:CC:CC:CD` para PVST+), embora essa seja uma forma perigosa e n√£o recomendada de manipular o STP. üí° **Filtros de Tr√°fego:** ACLs s√£o ferramentas poderosas, mas us√°-las para interferir no STP requer extremo cuidado.                                                                                                   |
| 240 | **VRRP**, um protocolo de redund√¢ncia de gateway, significa "Virtual Router Redundancy Protocol". Ele pode interagir com o STP para garantir que o gateway ativo esteja sempre no mesmo switch que a Root Bridge. | F        | ‚ùå **VRRP** = **Virtual Router Redundancy Protocol**. üö™ √â um protocolo que fornece redund√¢ncia de gateway padr√£o para hosts em uma sub-rede, permitindo que m√∫ltiplos roteadores compartilhem um endere√ßo IP virtual. Se o roteador mestre falhar, um roteador de backup assume o IP virtual. Embora ambos (VRRP e STP) visem redund√¢ncia, n√£o h√° uma regra que o gateway VRRP ativo deva estar no mesmo switch que a Root Bridge STP. S√£o otimiza√ß√µes de camadas diferentes (VRRP √© L3, STP √© L2). üí° **Gateway √† Prova de Falhas:** VRRP garante que os hosts sempre tenham um gateway, independentemente da topologia STP.                                                                               |
| 241 | A sigla **IEEE** refere-se a "Institute of Electrical and Electronics Engineers". Esta organiza√ß√£o padroniza muitos protocolos de rede, incluindo o 802.1D (STP), 802.1w (RSTP) e 802.1s (MSTP).          | V        | ‚úÖ Correto. **IEEE** = **Institute of Electrical and Electronics Engineers**. üìú √â uma organiza√ß√£o profissional mundial que desenvolve padr√µes em uma ampla gama de tecnologias, incluindo redes de computadores. Os padr√µes da s√©rie 802 (como 802.3 Ethernet, 802.11 Wi-Fi, e os padr√µes STP) s√£o cruciais para a interoperabilidade. üí° **Guardi√µes dos Padr√µes:** O IEEE √© fundamental para que equipamentos de diferentes fabricantes possam "conversar".                                                                                                                                                                                                                                                             |
| 242 | **VLAN**, uma Virtual Local Area Network, segmenta uma rede f√≠sica em m√∫ltiplas redes l√≥gicas de broadcast. O STP, em suas variantes como PVST+ e MSTP, opera considerando essas VLANs.                 | V        | ‚úÖ Correto. **VLAN** = **Virtual Local Area Network**. üåê Permite criar m√∫ltiplos dom√≠nios de broadcast logicamente separados em uma mesma infraestrutura f√≠sica de switches. Isso melhora a seguran√ßa, organiza√ß√£o e flexibilidade. Protocolos STP como PVST+ (uma inst√¢ncia por VLAN) e MSTP (VLANs mapeadas para inst√¢ncias) s√£o projetados para funcionar eficientemente com VLANs. üí° **Redes Dentro da Rede:** VLANs s√£o a base da segmenta√ß√£o moderna em redes comutadas.                                                                                                                                                                                                                                                    |
| 243 | **STP PortFast** √© uma funcionalidade que faz uma porta entrar no estado "Fast Forwarding", otimizado para links de alta velocidade como 10Gbps.                                                            | F        | ‚ùå **STP PortFast** (Cisco) faz com que uma porta de acesso (conectada a um host) transite **imediatamente para o estado de Forwarding**, pulando os estados Listening e Learning (que levam 30s). Isso evita que o host espere para obter conectividade. N√£o √© sobre "Fast Forwarding" no sentido de velocidade do link, mas sim *rapidez na ativa√ß√£o da porta*. üí° **Conex√£o R√°pida para Hosts:** PortFast √© para evitar a espera desnecess√°ria quando um PC ou servidor √© conectado.                                                                                                                                                                                                                                        |
| 244 | **BPDU Guard** √© um mecanismo que "guarda" os BPDUs recebidos, armazenando-os para an√°lise posterior em caso de problemas na rede STP.                                                                    | F        | ‚ùå **BPDU Guard** √© uma funcionalidade de seguran√ßa (Cisco). Quando habilitada em uma porta (geralmente uma porta PortFast), se essa porta **receber qualquer BPDU**, ela √© imediatamente colocada em estado de **`err-disable` (desabilitada por erro)**. Isso previne que switches n√£o autorizados sejam conectados a portas de acesso e causem instabilidade no STP. üí° **Prote√ß√£o Contra BPDUs Indesejados:** BPDU Guard protege a borda da rede de dispositivos STP n√£o gerenciados.                                                                                                                                                                                                                              |
| 245 | **Root Guard** √© uma funcionalidade que assegura que o switch onde est√° configurado se torne a Root Bridge, "guardando" sua posi√ß√£o de Root.                                                              | F        | ‚ùå **Root Guard** (Cisco) √© configurado em uma porta para **prevenir que essa porta se torne uma Root Port** (ou seja, um caminho para uma nova Root Bridge superior). Se uma porta com Root Guard recebe BPDUs de um switch que tentaria se tornar a Root (ou oferecer um caminho melhor para uma nova Root superior), a porta entra no estado `root-inconsistent` (bloqueada para STP), protegendo a posi√ß√£o da Root Bridge atual da perspectiva daquela porta. üí° **Defendendo a Hierarquia da Root:** Root Guard garante que a Root Bridge escolhida n√£o seja usurpada por switches conectados em portas espec√≠ficas.                                                                                                          |
| 246 | **Loop Guard** √© uma funcionalidade que detecta loops de encaminhamento contando o n√∫mero de vezes que um mesmo quadro passa por uma porta.                                                                | F        | ‚ùå **Loop Guard** (Cisco) √© uma funcionalidade que previne loops causados pela **aus√™ncia de BPDUs** em portas n√£o-Designated (como Root Ports ou Alternate Ports em RSTP) que deveriam estar recebendo BPDUs. Se BPDUs param de chegar nessas portas (ex: devido a uma falha unidirecional ou switch travado), elas poderiam erroneamente transitar para Forwarding. Loop Guard as coloca em estado `loop-inconsistent` (bloqueada) para evitar o loop. üí° **Contra "Falsos Positivos" de Caminho Livre:** Loop Guard protege contra portas bloqueadas se tornando ativas indevidamente por falta de BPDUs.                                                                                                      |
| 247 | **SF (Shortest Path First)** √© o algoritmo principal usado pelo STP para calcular a √°rvore geradora, sempre escolhendo o caminho com o menor n√∫mero de saltos.                                              | F        | ‚ùå O STP usa um algoritmo para construir uma √°rvore geradora, mas n√£o √© diretamente chamado de "Shortest Path First" (SPF) nesse contexto. O algoritmo SPF √© mais associado a protocolos de roteamento de estado de enlace como OSPF. O STP elege uma Root Bridge e ent√£o cada switch calcula o caminho de **menor custo (Path Cost)** para a Root, onde o custo √© geralmente baseado na largura de banda, n√£o no n√∫mero de saltos. üí° **Custo, N√£o Saltos:** STP prioriza caminhos de maior largura de banda (menor custo), n√£o necessariamente o menor n√∫mero de switches no caminho.                                                                                                                      |
| 248 | **OSPF (Open Shortest Path First)** √© um protocolo de roteamento que pode substituir completamente o STP em redes comutadas, eliminando a necessidade de bloquear portas.                                 | F        | ‚ùå **OSPF** √© um protocolo de roteamento de **Camada 3**. Ele constr√≥i uma topologia livre de loops para pacotes IP. O STP opera na **Camada 2** para quadros Ethernet. Em redes que usam roteamento at√© a camada de acesso (L3 switches em todo lugar), a necessidade de STP entre os switches roteados √© minimizada ou eliminada. No entanto, se houver switching L2 (VLANs que se estendem por m√∫ltiplos switches), o STP ainda √© necess√°rio nessa por√ß√£o L2. Eles resolvem problemas de loop em camadas diferentes. üí° **L2 vs L3 Loops:** STP para L2, protocolos de roteamento (OSPF, EIGRP) para L3.                                                                                                 |
| 249 | **ECMP (Equal Cost Multi-Path)** √© uma funcionalidade do STP que permite usar m√∫ltiplos caminhos de igual custo para a Root Bridge simultaneamente para balanceamento de carga.                           | F        | ‚ùå **ECMP** √© uma t√©cnica de **roteamento de Camada 3** que permite distribuir tr√°fego por m√∫ltiplos caminhos de igual custo para um mesmo destino. O STP, por design, bloqueia caminhos redundantes para evitar loops em Camada 2; ele **n√£o faz balanceamento de carga** por m√∫ltiplos caminhos ativos na √°rvore. Para usar m√∫ltiplos links em L2, usa-se Link Aggregation (LAG/EtherChannel). üí° **Balanceamento em L3, Bloqueio em L2 (STP):** ECMP √© para roteadores. STP seleciona um √∫nico melhor caminho.                                                                                                                                                                                  |
| 250 | A sigla **PVRST** √© uma forma abreviada e comum de se referir ao Rapid PVST+, indicando "Per-VLAN Rapid Spanning Tree".                                                                                     | V        | ‚úÖ Correto. Embora **RPVST+** seja o termo mais formal da Cisco, **PVRST** √© frequentemente usado como uma abrevia√ß√£o para **Per-VLAN Rapid Spanning Tree**, referindo-se √† mesma tecnologia que combina RSTP com inst√¢ncias por VLAN. üí° **Abrevia√ß√£o Comum:** PVRST = RPVST+.                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 251 | **CAM Table**, em um switch, refere-se a "Content Addressable Memory". Ela armazena o mapeamento de endere√ßos MAC para as portas do switch, e sua instabilidade (MAC flapping) √© um sintoma de loop que o STP previne. | V        | ‚úÖ Correto. **CAM** = **Content Addressable Memory**. üóÇÔ∏è √â uma mem√≥ria especializada usada por switches para armazenar a tabela de endere√ßos MAC, que mapeia os MACs aprendidos para as portas onde foram vistos. Em um loop, o switch pode ver o mesmo MAC chegando por m√∫ltiplas portas, fazendo a entrada na tabela CAM "flutuar" (MAC flapping), o que o STP visa evitar. üí° **Mem√≥ria dos MACs:** A tabela CAM √© essencial para o encaminhamento eficiente em L2.                                                                                                                                                                                                                                            |
| 252 | **FCS (Frame Check Sequence)** √© um campo no final de um quadro Ethernet usado pelo STP para verificar a prioridade do BPDU.                                                                              | F        | ‚ùå **FCS** = **Frame Check Sequence**. ‚úÖ √â um campo no trailer de um quadro Ethernet que cont√©m um valor de verifica√ß√£o de redund√¢ncia c√≠clica (CRC) calculado sobre o conte√∫do do quadro. Serve para **detectar erros de transmiss√£o** no quadro. O STP n√£o usa o FCS para verificar prioridade; a prioridade est√° dentro dos campos do BPDU. Se o FCS indicar um erro, o quadro (incluindo um BPDU) provavelmente ser√° descartado. üí° **Verificador de Erros do Quadro:** FCS garante a integridade do quadro, n√£o a l√≥gica do STP.                                                                                                                                                                     |
| 253 | **SVI (Switched Virtual Interface)** √© uma interface VLAN l√≥gica em um switch de Camada 3. O STP opera em SVIs para determinar rotas entre VLANs.                                                          | F        | ‚ùå **SVI** = **Switched Virtual Interface**. üíª √â uma interface virtual em um switch multicamada que representa uma VLAN na Camada 3, permitindo roteamento inter-VLAN. O STP opera nas **portas f√≠sicas e l√≥gicas (como Port-Channels) da Camada 2** para construir a √°rvore dentro de cada VLAN (em PVST+) ou inst√¢ncia MST. O STP n√£o "opera em SVIs para determinar rotas"; roteamento √© uma fun√ß√£o L3 separada, facilitada pela SVI. üí° **Gateway da VLAN:** SVI √© o ponto de roteamento para uma VLAN. STP cuida da topologia L2 *dentro* da VLAN.                                                                                                                                                   |
| 254 | **TCAM (Ternary Content Addressable Memory)** √© uma mem√≥ria usada em switches para armazenar BPDUs e acelerar o processo de elei√ß√£o da Root Bridge.                                                        | F        | ‚ùå **TCAM** = **Ternary Content Addressable Memory**. üîç √â um tipo de mem√≥ria mais avan√ßado que a CAM, usado em switches e roteadores de alta performance para armazenar informa√ß√µes como ACLs, tabelas de roteamento e pol√≠ticas de QoS, permitindo buscas complexas e r√°pidas. BPDUs s√£o processados pela CPU do switch, e a l√≥gica STP reside no software/firmware, n√£o diretamente armazenada em TCAM para elei√ß√£o. üí° **Mem√≥ria para Decis√µes Complexas:** TCAM √© para buscas r√°pidas em grandes conjuntos de regras (ACLs, QoS), n√£o para a l√≥gica fundamental do STP.                                                                                                                                          |
| 255 | **PoH (Port-Channel over HSRP)** √© um mecanismo que garante que o tr√°fego HSRP sempre utilize um Port-Channel ativo, coordenando com o STP.                                                                | F        | ‚ùå N√£o existe uma sigla padr√£o "PoH" como "Port-Channel over HSRP". **HSRP (Hot Standby Router Protocol)** √© um protocolo de redund√¢ncia de gateway da Cisco. Ele opera em Camada 3. **Port-Channel (EtherChannel)** √© uma agrega√ß√£o de links de Camada 2. Eles podem coexistir, e o tr√°fego HSRP pode passar por um Port-Channel, mas n√£o h√° um protocolo "PoH" espec√≠fico para coorden√°-los com o STP dessa maneira. A configura√ß√£o do HSRP e do STP/Port-Channel √© feita de forma independente para otimizar a resili√™ncia em suas respectivas camadas. üí° **Combina√ß√£o de Tecnologias:** HSRP e Port-Channel s√£o usados juntos, mas n√£o formam um protocolo "PoH".                                                |
| 256 | **LACP (Link Aggregation Control Protocol)** √© definido no IEEE 802.3ad e √© usado para negociar automaticamente a forma√ß√£o de um EtherChannel (LAG) entre switches. O STP trata o LAG formado por LACP como uma √∫nica porta. | V        | ‚úÖ Correto. **LACP** = **Link Aggregation Control Protocol**. ü§ù √â um protocolo padr√£o que permite que switches troquem informa√ß√µes para agrupar dinamicamente m√∫ltiplos links f√≠sicos em um √∫nico Link Aggregation Group (LAG), tamb√©m conhecido como EtherChannel. O STP ent√£o v√™ esse LAG como uma √∫nica interface l√≥gica com um custo combinado. üí° **Negocia√ß√£o de LAGs:** LACP automatiza a cria√ß√£o de EtherChannels, garantindo que apenas links compat√≠veis sejam agregados.                                                                                                                                                                                                                                         |
| 257 | **PAgP (Port Aggregation Protocol)** √© um protocolo propriet√°rio da Cisco, similar ao LACP, usado para negociar a forma√ß√£o de EtherChannels. O STP interage com EtherChannels PAgP da mesma forma que com LACP. | V        | ‚úÖ Correto. **PAgP** = **Port Aggregation Protocol**. ¬©Ô∏è √â um protocolo da Cisco para agrupar links em um EtherChannel. Funcionalmente similar ao LACP (padr√£o IEEE), mas propriet√°rio. O STP tratar√° um EtherChannel formado por PAgP como uma √∫nica porta l√≥gica, assim como faz com LACP. üí° **Alternativa Cisco ao LACP:** PAgP √© a vers√£o da Cisco para negocia√ß√£o de EtherChannel.                                                                                                                                                                                                                                                                                                                                       |
| 258 | **STP BPDU Skew Detection** √© uma funcionalidade que detecta se os BPDUs est√£o chegando com atrasos (skew) anormais, o que poderia indicar congestionamento ou problemas na propaga√ß√£o de BPDUs.           | V        | ‚úÖ Correto (Conceitualmente). Embora n√£o seja um "comando" ou "sigla" universalmente padronizada e proeminente como as outras, a ideia de detectar **atrasos anormais na chegada de BPDUs (BPDU skewness)** √© um aspecto do monitoramento da sa√∫de do STP. Atrasos excessivos podem levar a reconverg√™ncias desnecess√°rias ou detec√ß√£o lenta de falhas. Alguns sistemas de monitoramento ou funcionalidades avan√ßadas podem tentar inferir isso. üí° **Sa√∫de da Propaga√ß√£o BPDU:** A chegada tempestiva de BPDUs √© crucial.                                                                                                                                                                                                   |
| 259 | **MAB (MAC Authentication Bypass)** √© uma t√©cnica de seguran√ßa que, se configurada em uma porta com STP, autentica o BPDU recebido com base no MAC de origem do switch vizinho.                          | F        | ‚ùå **MAB** = **MAC Authentication Bypass**. üîë √â um m√©todo de controle de acesso √† rede (NAC) usado quando um dispositivo n√£o suporta autentica√ß√£o 802.1X (ex: impressoras, alguns telefones IP). O switch usa o endere√ßo MAC do dispositivo para autentic√°-lo contra um servidor RADIUS. N√£o tem rela√ß√£o direta com autenticar BPDUs do STP. üí° **Autentica√ß√£o por MAC:** MAB √© para controle de acesso de dispositivos finais, n√£o para valida√ß√£o de BPDUs.                                                                                                                                                                                                                                                                        |
| 260 | **CPUH (CPU Hold-queue)** em um switch indica a fila de pacotes destinados √† CPU. Um alto n√∫mero de BPDUs ou TCNs processados pelo STP pode aumentar essa fila, impactando o desempenho do switch.         | V        | ‚úÖ Correto. **CPUH** refere-se geralmente √† **CPU Hold-queue** ou filas de entrada/sa√≠da da CPU. üß† BPDUs, TCNs e outros pacotes de controle de rede s√£o processados pela CPU do switch. Um volume excessivo desses pacotes (ex: durante uma tempestade de TCNs ou instabilidade STP) pode sobrecarregar a CPU e suas filas, afetando a capacidade do switch de processar outro tr√°fego de controle ou at√© mesmo o tr√°fego de dados em alguns arquiteturas. üí° **Gargalo da CPU:** O processamento STP consome CPU; excesso de atividade STP pode ser um problema.                                                                                                                                                |
| 261 | **Problema:** A Empresa Alfa Ltda. implementou redund√¢ncia conectando dois switches de acesso (SW_A1, SW_A2) a um switch de distribui√ß√£o (SW_D1) com dois cabos cada. Usu√°rios reportam lentid√£o extrema e perda de conectividade intermitente. **Solu√ß√£o Proposta:** Desabilitar o STP em todas as portas dos switches para utilizar a capacidade total dos links.                                                                              | F        | ‚ùå **Solu√ß√£o Incorreta.** Desabilitar o STP em uma topologia com loops f√≠sicos (dois cabos de cada acesso para a distribui√ß√£o) causar√° **tempestades de broadcast e instabilidade da tabela MAC**, piorando drasticamente a situa√ß√£o. A lentid√£o j√° √© um sintoma de loop. ‚úÖ **Solu√ß√£o Correta:** Garantir que o STP (preferencialmente RSTP ou MSTP) esteja habilitado em todos os switches. Verificar a elei√ß√£o da Root Bridge (deve ser SW_D1 ou um switch core, se houver) e os pap√©is das portas. Para usar ambos os links, configurar EtherChannel (LAG) entre os switches. üí° **Pegadinha:** A banca sugere o oposto do que deve ser feito. STP √© essencial aqui.                                                                                                                                                                                                                                                                                                                                                                 |
| 262 | **Problema:** Na Empresa Beta S.A., um novo estagi√°rio conectou acidentalmente ambas as pontas de um cabo de rede em duas portas livres do mesmo switch de acesso. A rede do andar parou. **Solu√ß√£o Proposta:** Habilitar o STP PortFast e o BPDU Guard em todas as portas de acesso do switch.                                                                                                                                                       | V        | ‚úÖ **Solu√ß√£o Correta (Parcialmente, mas a afirma√ß√£o √© Verdadeira quanto √† efic√°cia da solu√ß√£o proposta para o problema descrito).** O loop direto no mesmo switch seria mitigado pelo STP, que bloquearia uma das portas. PortFast faria a porta subir r√°pido, mas o STP agiria. BPDU Guard, ao detectar BPDUs na outra porta (se o switch enviar BPDU de volta por ela, o que alguns fazem em loop), a colocaria em `err-disable`, parando o loop mais drasticamente. A solu√ß√£o principal √© o STP j√° estar ativo. A combina√ß√£o PortFast+BPDU Guard √© uma *preven√ß√£o* para esse tipo de erro em portas de acesso. üí° **Defesa em Camadas:** STP base resolve o loop. PortFast+BPDU Guard previne que portas de acesso causem problemas ao receber BPDUs ou ao serem conectadas a outros switches inadvertidamente. A afirma√ß√£o foca na solu√ß√£o para o incidente. |
| 263 | **Problema:** A Empresa Gama Solutions possui dois pr√©dios interligados por duas fibras √≥pticas redundantes, cada uma conectada a um switch diferente em cada pr√©dio. Ocasionalmente, a rede entre os pr√©dios fica inst√°vel. **Solu√ß√£o Proposta:** Configurar os switches dos pr√©dios com prioridades STP id√™nticas e custos de porta iguais para as fibras, permitindo balanceamento de carga ativo pelo STP.                                 | F        | ‚ùå **Solu√ß√£o Incorreta.** O STP **n√£o faz balanceamento de carga ativo**. Ele escolher√° um caminho de fibra e bloquear√° o outro. Prioridades e custos id√™nticos podem levar a uma elei√ß√£o de Root/Designated Port baseada em MAC, n√£o em balanceamento. A instabilidade pode ser por reconverg√™ncias STP ou outros fatores. ‚úÖ **Solu√ß√£o Correta:** Garantir STP ativo (RSTP/MSTP). Se quiser usar ambas as fibras, considerar EtherChannel (se os switches suportarem em links inter-pr√©dios e as dist√¢ncias permitirem) ou roteamento L3 entre os pr√©dios com ECMP. üí° **STP e Balanceamento:** O STP escolhe UM caminho. Para m√∫ltiplos caminhos ativos, outras tecnologias s√£o necess√°rias.                                                                                                                                                                                                                                |
| 264 | **Problema:** A rede da Empresa Delta Tech, que usa STP 802.1D, leva quase um minuto para restabelecer a conectividade ap√≥s a falha de um link principal. **Solu√ß√£o Proposta:** Migrar a configura√ß√£o de STP de todos os switches para RSTP (IEEE 802.1w) e configurar as portas de acesso aos PCs com o equivalente a PortFast.                                                                                                                     | V        | ‚úÖ **Solu√ß√£o Correta.** RSTP oferece converg√™ncia muito mais r√°pida (segundos ou milissegundos) que o STP 802.1D (30-50 segundos). Configurar portas de acesso como "edge" (PortFast no RSTP) tamb√©m acelera a disponibilidade para os hosts. üí° **Evolu√ß√£o para Rapidez:** RSTP √© a solu√ß√£o padr√£o para o problema de converg√™ncia lenta do STP cl√°ssico.                                                                                                                                                                                                                                                                                                                                                             |
| 265 | **Problema:** Na Empresa Epsilon Services, o switch SW_CORE1, que deveria ser a Root Bridge, perde esse papel para um switch de acesso menos potente (SW_ACC3) ap√≥s uma queda de energia. **Solu√ß√£o Proposta:** Aumentar o valor da prioridade STP em SW_CORE1 para `61440` e diminuir a prioridade em SW_ACC3 para `0`.                                                                                                                           | F        | ‚ùå **Solu√ß√£o Incorreta (Invertida).** Para SW_CORE1 ser a Root, sua prioridade deve ser **menor** (ex: `0`, `4096`). A prioridade de SW_ACC3 deveria ser mantida alta (padr√£o `32768` ou mais) ou n√£o ser o foco. Aumentar a prioridade de SW_CORE1 para `61440` (a pior) e diminuir a de SW_ACC3 para `0` (a melhor) faria SW_ACC3 se tornar a Root definitivamente. ‚úÖ **Solu√ß√£o Correta:** Configurar SW_CORE1 com prioridade STP baixa (ex: `4096` ou `spanning-tree root primary`) e garantir que outros switches tenham prioridades maiores. üí° **L√≥gica da Prioridade:** Menor valor num√©rico = Maior prioridade l√≥gica (mais chance de ser Root).                                                                                                                                           |
| 266 | **Problema:** A Empresa Zeta Corp. usa PVST+ e deseja que o tr√°fego da VLAN de Voz (VLAN 100) use um caminho otimizado diferente do tr√°fego de Dados (VLAN 10). **Solu√ß√£o Proposta:** Configurar o switch SW_VozCore como Root Bridge para VLAN 100 com prioridade `4096` e o switch SW_DadosCore como Root Bridge para VLAN 10 com prioridade `4096`.                                                                                        | V        | ‚úÖ **Solu√ß√£o Correta.** Em PVST+, cada VLAN tem sua inst√¢ncia STP. Ao definir diferentes Root Bridges para diferentes VLANs (configurando prioridades menores nos switches desejados para cada VLAN espec√≠fica), pode-se influenciar os caminhos que o tr√°fego de cada VLAN tomar√°. üí° **Balanceamento L√≥gico com PVST+:** Permite otimizar caminhos por VLAN, utilizando melhor a infraestrutura.                                                                                                                                                                                                                                                                                                                       |
| 267 | **Problema:** Usu√°rios do 3¬∫ andar da Empresa Eta Systems, onde um novo switch n√£o gerenci√°vel foi instalado por um departamento, reclamam de lentid√£o constante. A an√°lise mostra alta taxa de broadcasts. **Solu√ß√£o Proposta:** Conectar o novo switch n√£o gerenci√°vel a uma porta do switch gerenci√°vel configurada com `spanning-tree bpdufilter enable`.                                                                           | F        | ‚ùå **Solu√ß√£o Perigosa.** BPDU Filter na porta do switch gerenci√°vel faria com que essa porta n√£o enviasse nem processasse BPDUs. Se o switch n√£o gerenci√°vel estiver criando um loop (ex: conectado de volta ao switch gerenci√°vel por outra porta ou a si mesmo), o BPDU Filter impediria o STP do switch gerenci√°vel de detectar e quebrar esse loop. ‚úÖ **Solu√ß√£o Correta:** Idealmente, substituir o switch n√£o gerenci√°vel por um gerenci√°vel com STP. Se n√£o for poss√≠vel, garantir que o switch n√£o gerenci√°vel n√£o crie loops e, se conectado a uma porta de acesso, usar PortFast e BPDU *Guard* (n√£o Filter) na porta do switch gerenci√°vel. üí° **Filter vs Guard:** BPDU Guard desabilita a porta se vir BPDU (bom para acesso). BPDU Filter ignora BPDUs (ruim se houver loop do outro lado). |
| 268 | **Problema:** A Empresa Theta Communications observou que, ap√≥s uma manuten√ß√£o na madrugada, a performance da rede piorou, e a Root Bridge mudou para um switch antigo no almoxarifado. **Solu√ß√£o Proposta:** Identificar o switch que deve ser a Root (ex: core switch), configurar nele `spanning-tree vlan X root primary` para as VLANs cr√≠ticas e `spanning-tree vlan Y root secondary` em um switch de backup.             | V        | ‚úÖ **Solu√ß√£o Correta.** A manuten√ß√£o pode ter reiniciado switches, e o switch do almoxarifado pode ter um MAC menor e prioridade padr√£o, tornando-se Root. Usar os comandos `root primary` e `root secondary` (macros da Cisco que ajustam prioridades) √© uma forma robusta de designar as Roots desejadas e um backup. üí° **Designando a Hierarquia STP:** √â crucial definir explicitamente quem deve ser a Root e seu backup para evitar surpresas.                                                                                                                                                                                                                                                                          |
| 269 | **Problema:** A Empresa Iota Solutions est√° expandindo sua rede e quer garantir que novos switches adicionados √† borda n√£o se tornem Root Bridge acidentalmente. **Solu√ß√£o Proposta:** Em todas as portas dos switches de distribui√ß√£o que se conectam aos switches de acesso/borda, habilitar `spanning-tree guard root`.                                                                                                   | V        | ‚úÖ **Solu√ß√£o Correta.** Root Guard em portas "downstream" (que n√£o devem levar a uma Root superior) impede que um switch conectado a essa porta assuma o papel de Root, mesmo que tenha um BID melhor. A porta entraria em estado `root-inconsistent`. üí° **Protegendo a Posi√ß√£o da Root:** Root Guard √© ideal para interfaces que se conectam a partes da rede que n√£o devem conter a Root Bridge.                                                                                                                                                                                                                                                                                                   |
| 270 | **Problema:** Um link de fibra entre dois switches da Empresa Kappa S.A. est√° apresentando falha unidirecional (SW1 envia para SW2, mas SW2 n√£o recebe de SW1). SW2 tem sua Root Port nesse link. Isso est√° causando um loop de STP, pois SW2 n√£o detecta a falha e SW1 acha que SW2 est√° l√°. **Solu√ß√£o Proposta:** Habilitar UDLD (UniDirectional Link Detection) em modo agressivo em ambas as portas do link de fibra.         | V        | ‚úÖ **Solu√ß√£o Correta.** UDLD (especialmente em modo agressivo) √© projetado para detectar essas falhas unidirecionais. Se SW2 n√£o receber os pacotes UDLD de SW1 (ou seus pr√≥prios pacotes UDLD de volta), ele colocar√° a porta em `err-disable`, quebrando o link problem√°tico e permitindo que o STP reconverja corretamente usando caminhos alternativos, se houver. üí° **UDLD vs. Falhas Sorrateiras:** UDLD complementa o STP ao detectar problemas de link f√≠sico que o STP sozinho pode n√£o perceber.                                                                                                                                                                                                             |
| 271 | **Problema:** A Empresa Lambda Corp usa STP 802.1D. Eles t√™m dois links de 1Gbps entre SW_CORE e SW_DIST. O STP bloqueia um deles. Eles querem usar ambos para aumentar a capacidade. **Solu√ß√£o Proposta:** Desabilitar o STP nas interfaces dos dois links e configurar OSPF entre os switches para balancear o tr√°fego.                                                                                                  | F        | ‚ùå **Solu√ß√£o Incorreta.** Desabilitar STP em links redundantes L2 √© receita para loop. OSPF √© um protocolo de roteamento L3; se os switches est√£o operando em L2 para as VLANs que passam por esses links, OSPF n√£o resolver√° o problema de loop L2. ‚úÖ **Solu√ß√£o Correta:** Manter STP ativo. Configurar EtherChannel (LAG) com os dois links de 1Gbps. O STP tratar√° o Port-Channel como um √∫nico link de 2Gbps (do ponto de vista do custo STP). üí° **Agrega√ß√£o L2:** EtherChannel √© a forma correta de usar m√∫ltiplos links paralelos em L2.                                                                                                                                                                                            |
| 272 | **Problema:** Na Empresa Mu Networks, TCNs (Topology Change Notifications) excessivas est√£o sendo geradas, causando instabilidade na tabela MAC e alto uso de CPU nos switches. A causa parece ser uma porta conectada a um servidor que fica reiniciando a placa de rede. **Solu√ß√£o Proposta:** Habilitar PortFast na porta do switch conectada a este servidor.                                                                        | V        | ‚úÖ **Solu√ß√£o Correta.** Uma porta com PortFast (considerada "edge") n√£o gera TCNs quando seu estado de link muda (sobe/desce). Isso √© ideal para portas conectadas a hosts, pois evita que eventos normais de host (ligar/desligar PC) causem reconverg√™ncias desnecess√°rias no STP da rede. üí° **Controlando TCNs na Borda:** PortFast √© essencial para evitar que portas de acesso causem "barulho" na topologia STP.                                                                                                                                                                                                                                                                                                 |
| 273 | **Problema:** A Empresa Nu Systems quer usar MSTP para otimizar caminhos para diferentes grupos de VLANs. Eles t√™m VLANs 10-20 (Engenharia) e VLANs 30-40 (Vendas). **Solu√ß√£o Proposta:** Criar uma √∫nica inst√¢ncia MST, MSTI1, e mapear todas as VLANs (10-40) para ela. Configurar SW_Eng como Root para MSTI1 e SW_Vendas como Root secund√°rio para MSTI1.                                                                               | F        | ‚ùå **Solu√ß√£o Incorreta (para o objetivo).** Se o objetivo √© otimizar caminhos *diferentes* para Engenharia e Vendas, colocar todas as VLANs na mesma MSTI n√£o permitir√° isso, pois uma MSTI tem apenas uma topologia. ‚úÖ **Solu√ß√£o Correta:** Criar MSTI1 para VLANs 10-20 (com SW_Eng como Root) e MSTI2 para VLANs 30-40 (com SW_Vendas como Root). üí° **Granularidade do MSTP:** O poder do MSTP est√° em criar m√∫ltiplas inst√¢ncias com topologias distintas.                                                                                                                                                                                                                                                                |
| 274 | **Problema:** Um novo switch foi adicionado √† rede da Empresa Xi Omega. Ele s√≥ suporta STP 802.1D. Os switches existentes usam Rapid PVST+. O novo switch est√° causando converg√™ncia lenta em seu segmento. **Solu√ß√£o Proposta:** Configurar as portas dos switches Rapid PVST+ que se conectam ao novo switch 802.1D com `spanning-tree mode pvst` para for√ßar a compatibilidade.                                              | F        | ‚ùå **Solu√ß√£o Desnecess√°ria/Incorreta.** Rapid PVST+ √© **retrocompat√≠vel** com PVST+ e, por extens√£o, com o STP 802.1D (atrav√©s da intera√ß√£o da inst√¢ncia CST do PVST+). O switch Rapid PVST+ automaticamente detectar√° o vizinho 802.1D e operar√° de forma compat√≠vel naquele link (com a converg√™ncia mais lenta do 802.1D para aquela inst√¢ncia/VLAN). N√£o √© preciso for√ßar o modo `pvst`. ‚úÖ **Solu√ß√£o Correta:** Nenhuma a√ß√£o de mudan√ßa de modo √© necess√°ria. Apenas aceite a converg√™ncia mais lenta naquele segmento espec√≠fico. üí° **Retrocompatibilidade Autom√°tica:** Protocolos STP mais novos geralmente se adaptam a vizinhos mais antigos.                                                                                                                                           |
| 275 | **Problema:** A Empresa Omicron Solutions quer garantir que a interface Gi0/24 de seu switch core, que se conecta √† rede de um parceiro externo, nunca propague BPDUs da rede interna para o parceiro, nem permita que BPDUs do parceiro influenciem a rede interna. **Solu√ß√£o Proposta:** Configurar `spanning-tree bpduguard enable` e `spanning-tree bpdufilter enable` na interface Gi0/24.                                          | F        | ‚ùå **Solu√ß√£o Parcialmente Correta, mas Potencialmente Perigosa e a afirma√ß√£o pode ser Falsa dependendo da interpreta√ß√£o da banca sobre "solu√ß√£o ideal".** BPDU Guard desabilitaria a porta se BPDUs do parceiro fossem recebidos (bom). BPDU Filter impediria o envio de BPDUs para o parceiro (bom) e o processamento dos BPDUs do parceiro (perigoso se o parceiro tiver STP e criar um loop "cego"). A melhor solu√ß√£o para isolar dom√≠nios STP √© usar **roteamento L3 na fronteira**. Se L2 for obrigat√≥rio, BPDU Filter √© arriscado; talvez apenas BPDU Guard (para parar BPDUs *do* parceiro) e garantir que a porta n√£o seja uma porta STP ativa para a rede interna. üí° **Isolamento de Dom√≠nios STP:** Roteamento L3 √© o mais seguro. Manipular BPDUs em L2 na fronteira √© complexo. A quest√£o prop√µe uma combina√ß√£o que pode ser problem√°tica. A banca pode considerar F por n√£o ser a melhor pr√°tica. |
| 276 | **Problema:** A Empresa Pi Tech est√° usando EtherChannel LACP entre dois switches. Ocasionalmente, o Port-Channel entra em `err-disable` devido a "etherchannel misconfiguration". **Solu√ß√£o Proposta:** Desabilitar o `etherchannel misconfig guard` nos switches para manter o link UP, mesmo com pequenas inconsist√™ncias.                                                                                                            | F        | ‚ùå **Solu√ß√£o Incorreta.** Desabilitar o `etherchannel misconfig guard` pode mascarar problemas s√©rios de configura√ß√£o que podem levar a loops ou comportamento de encaminhamento incorreto, que o STP pode n√£o conseguir mitigar adequadamente se o Port-Channel estiver malformado. ‚úÖ **Solu√ß√£o Correta:** Investigar e corrigir a causa da inconsist√™ncia no EtherChannel (ex: par√¢metros LACP, VLANs permitidas, modo de porta inconsistentes entre os membros ou entre os switches). üí° **N√£o Ignore Avisos:** O `misconfig guard` est√° l√° por um motivo; desabilit√°-lo √© tratar o sintoma, n√£o a causa.                                                                                                                            |
| 277 | **Problema:** Na Empresa Rho Industries, um switch de acesso SW_ACC5 frequentemente se torna a Root Bridge para v√°rias VLANs, causando performance ruim. A an√°lise mostra que sua prioridade √© `32768` e seu MAC √© muito baixo. **Solu√ß√£o Proposta:** Configurar `spanning-tree vlan all priority 61440` em SW_ACC5.                                                                                                                  | V        | ‚úÖ **Solu√ß√£o Correta.** Definir a prioridade para o valor m√°ximo (`61440` em incrementos de `4096`, ou o valor mais alto suportado) efetivamente impede que SW_ACC5 se torne Root Bridge para qualquer VLAN, a menos que seja o √∫nico switch na rede para aquela VLAN. üí° **Tornando um Switch Ineleg√≠vel para Root:** Prioridade m√°xima √© a forma de garantir que um switch "perca" a elei√ß√£o de Root.                                                                                                                                                                                                                                                                                               |
| 278 | **Problema:** A Empresa Sigma Solutions usa Rapid PVST+. Eles querem que SW_CORE1 seja a Root para todas as VLANs, e SW_CORE2 seja o backup. **Solu√ß√£o Proposta:** Em SW_CORE1, usar `spanning-tree mode rapid-pvst` e `spanning-tree root primary` para todas as VLANs. Em SW_CORE2, usar `spanning-tree mode rapid-pvst` e `spanning-tree root secondary` para todas as VLANs.                                                    | F        | ‚ùå **Solu√ß√£o Incompleta/Imprecisa.** Os comandos `spanning-tree root primary` e `spanning-tree root secondary` (macros da Cisco) **n√£o s√£o por VLAN**. Eles ajustam a prioridade do switch para a(s) inst√¢ncia(s) STP que ele est√° executando, baseando-se na Root atual. Para PVST+/Rapid PVST+, voc√™ precisaria especificar a VLAN: `spanning-tree vlan <range> root primary`. Se n√£o especificar VLAN, pode afetar apenas a VLAN 1 ou a inst√¢ncia CST dependendo do modo STP base. ‚úÖ **Solu√ß√£o Correta:** `spanning-tree vlan 1-4094 root primary` em SW_CORE1 e `spanning-tree vlan 1-4094 root secondary` em SW_CORE2. üí° **Escopo dos Comandos `root primary/secondary`:** Atentar para quais VLANs/inst√¢ncias eles afetam. |
| 279 | **Problema:** A Empresa Tau Networks tem um link de 10Gbps e um link de 1Gbps entre dois switches. O STP est√° usando o link de 1Gbps como Root Port devido a uma configura√ß√£o manual de custo incorreta no passado. **Solu√ß√£o Proposta:** Remover qualquer configura√ß√£o de `spanning-tree cost` manual nas interfaces e configurar `spanning-tree pathcost method long` em ambos os switches.                                    | V        | ‚úÖ **Solu√ß√£o Correta.** Remover custos manuais permitir√° que o STP use os custos autom√°ticos baseados na velocidade. O m√©todo `long` (32 bits) oferece melhor granularidade para diferenciar velocidades altas (como 10Gbps vs 1Gbps) do que o m√©todo `short` (16 bits) original. Com custos autom√°ticos e m√©todo `long`, o link de 10Gbps (custo menor) ser√° preferido. üí° **Custos Autom√°ticos e M√©todo Long:** Melhor para redes modernas com links de alta velocidade.                                                                                                                                                                                                                                 |
| 280 | **Problema:** Ap√≥s adicionar um novo switch (SW_NEW) √† rede da Empresa Upsilon Ltda., que usa RSTP, a rede inteira come√ßou a apresentar reconverg√™ncias STP frequentes, e a Root Bridge muda constantemente entre SW_NEW e o core switch antigo. SW_NEW tem prioridade padr√£o. **Solu√ß√£o Proposta:** Habilitar `spanning-tree bpdu skewing detection` no core switch para identificar se SW_NEW est√° enviando BPDUs atrasados.            | F        | ‚ùå **Solu√ß√£o Pouco Prov√°vel/Indireta.** BPDU skew detection (se existir como funcionalidade expl√≠cita) focaria em atrasos, n√£o na causa da elei√ß√£o. O problema mais prov√°vel √© que SW_NEW tenha um **endere√ßo MAC menor** que o core switch antigo, e ambos t√™m prioridade padr√£o, fazendo SW_NEW ganhar a elei√ß√£o. ‚úÖ **Solu√ß√£o Correta:** Definir uma prioridade STP explicitamente mais baixa no core switch (ex: `4096`) e garantir que SW_NEW tenha uma prioridade maior (ex: padr√£o `32768` ou mais alta). üí° **Causa Raiz da Elei√ß√£o:** Prioridade primeiro, depois MAC. Se prioridades s√£o iguais, menor MAC vence.                                                                                                        |
| 281 | **Problema:** A Empresa Phi Corp. est√° preocupada com loops causados por falhas unidirecionais em seus links de fibra entre pr√©dios. Eles j√° usam RSTP. **Solu√ß√£o Proposta:** Implementar `spanning-tree bridge assurance` em todas as portas de tronco (trunk) entre os switches dos pr√©dios.                                                                                                                            | V        | ‚úÖ **Solu√ß√£o Correta.** Bridge Assurance (Cisco) √© projetado para proteger contra certas condi√ß√µes de falha (incluindo links unidirecionais ou switches que param de enviar BPDUs) em links ponto-a-ponto entre switches, onde BPDUs s√£o esperados continuamente. Se BPDUs param de fluir em uma porta com Bridge Assurance, ela √© colocada em estado de bloqueio inconsistente. üí° **Prote√ß√£o Adicional para Uplinks:** Bridge Assurance √© uma boa pr√°tica em links cr√≠ticos entre switches que suportam a funcionalidade.                                                                                                                                                                                          |
| 282 | **Problema:** Um servidor cr√≠tico na Empresa Chi Systems, conectado √† porta Fa0/1 do switch SW_A1, perde conectividade por 30-50 segundos toda vez que h√° uma mudan√ßa na topologia STP da rede principal, mesmo que o servidor n√£o esteja envolvido na mudan√ßa. SW_A1 usa STP 802.1D. **Solu√ß√£o Proposta:** Configurar `spanning-tree portfast bpduguard enable` na interface Fa0/1.                                                       | V        | ‚úÖ **Solu√ß√£o Correta.** A demora √© devido ao STP 802.1D fazer a porta do servidor passar por Listening/Learning (30s) ap√≥s um TCN. PortFast faz a porta ir para Forwarding imediatamente. BPDU Guard adiciona seguran√ßa. Mesmo que a porta j√° esteja UP, um TCN pode fazer switches encurtarem o MAC aging, e se a porta n√£o for PortFast, ela pode ser impactada. A solu√ß√£o principal √© o PortFast para evitar que a porta participe ativamente das transi√ß√µes STP induzidas por TCNs. üí° **Isolando Hosts de TCNs:** PortFast impede que portas de acesso gerem TCNs e as torna menos suscet√≠veis a longas esperas durante reconverg√™ncias gerais.                                                |
| 283 | **Problema:** A Empresa Psi Telecom usa EtherChannel entre SW1 e SW2. SW1 √© a Root Bridge. Eles notaram que, √†s vezes, o tr√°fego n√£o parece estar bem distribu√≠do entre os links membros do Port-Channel. **Solu√ß√£o Proposta:** Ajustar os `path cost` do STP individualmente para cada link f√≠sico membro do Port-Channel para influenciar o balanceamento de carga.                                                      | F        | ‚ùå **Solu√ß√£o Incorreta.** O STP v√™ o Port-Channel como uma **√∫nica interface l√≥gica**. O custo STP √© aplicado √† interface Port-Channel, n√£o aos membros individuais para fins de balanceamento STP (que n√£o existe). O balanceamento de carga *dentro* do EtherChannel √© feito por um algoritmo de hash (baseado em MAC de origem/destino, IP, etc.), configurado no switch, e n√£o tem rela√ß√£o com custos STP. üí° **Balanceamento EtherChannel vs. STP:** S√£o mecanismos distintos. STP n√£o balanceia carga. EtherChannel balanceia com base em hash.                                                                                                                                                |
| 284 | **Problema:** A Empresa Omega Solutions tem uma rede com v√°rios switches e quer garantir que o Switch Core Principal (SCP) seja sempre a Root Bridge e o Switch Core Backup (SCB) assuma se o SCP falhar. Eles usam Rapid PVST+. **Solu√ß√£o Proposta:** Em SCP: `spanning-tree vlan 1-4094 priority 0`. Em SCB: `spanning-tree vlan 1-4094 priority 4096`.                                                                              | V        | ‚úÖ **Solu√ß√£o Correta.** Prioridade `0` √© a melhor poss√≠vel, garantindo que SCP seja a Root. Prioridade `4096` √© a pr√≥xima melhor (assumindo que outros switches tenham prioridades maiores), tornando SCB o candidato natural se SCP falhar. üí° **Design Hier√°rquico Expl√≠cito:** Definir prioridades numericamente baixas √© a forma mais direta e clara de estabelecer a hierarquia da Root Bridge.                                                                                                                                                                                                                                                                                                   |
| 285 | **Problema:** Um novo segmento de rede foi adicionado usando um hub antigo conectado a duas portas do mesmo switch (SW_HUB_ACC). O STP est√° ativo no switch, mas a rede nesse segmento est√° com performance muito ruim. **Solu√ß√£o Proposta:** Como o hub n√£o participa do STP, o STP do switch n√£o pode detectar o loop. A solu√ß√£o √© substituir o hub por um pequeno switch gerenci√°vel com STP habilitado.                                  | F        | ‚ùå **Solu√ß√£o Parcialmente Incorreta na premissa.** O STP do switch **pode sim** detectar o loop causado pelo hub. O hub estende o dom√≠nio de colis√£o/broadcast. Se duas portas do *mesmo switch* est√£o conectadas a esse dom√≠nio comum (via hub) e criam um caminho redundante, o switch ver√° seus pr√≥prios BPDUs (ou BPDUs de outros switches atrav√©s do caminho redundante) e bloquear√° uma de suas portas. A performance ruim pode ser pelo loop *antes* do STP bloquear, ou pelo fato de ser um hub (half-duplex, colis√µes). ‚úÖ **Melhor Solu√ß√£o:** Substituir o hub por um switch √© uma boa ideia para performance e gerenciamento, mas o STP no switch original j√° deveria estar agindo no loop. üí° **STP e Hubs:** STP "v√™ atrav√©s" de hubs para detectar loops entre as portas do switch. A afirma√ß√£o de que n√£o pode detectar √© falsa. |
| 286 | **Problema:** A Empresa ACME Corp. migrou recentemente seus switches para MSTP. Eles configuraram duas inst√¢ncias, MSTI1 e MSTI2, com diferentes Roots. No entanto, o tr√°fego de todas as VLANs ainda parece seguir o caminho da CIST Root. **Solu√ß√£o Proposta:** Verificar se o nome da regi√£o MST, o n√∫mero de revis√£o e o mapeamento VLAN-inst√¢ncia est√£o id√™nticos em todos os switches que deveriam pertencer √† mesma regi√£o MST. | V        | ‚úÖ **Solu√ß√£o Correta.** Para que as MSTIs funcionem como esperado dentro de uma regi√£o, todos os switches dessa regi√£o devem ter exatamente os mesmos par√¢metros de configura√ß√£o MST (nome, revis√£o, mapa). Qualquer diverg√™ncia faz com que os switches se considerem em regi√µes diferentes, e a interoperabilidade ocorre via CIST, o que pode levar ao sintoma descrito. üí° **Consist√™ncia da Regi√£o MST √© Crucial:** √â o erro mais comum em implementa√ß√µes MSTP.                                                                                                                                                                                                                                                                       |
| 287 | **Problema:** Usu√°rios na Empresa Innovate Ltd. conectados a um switch de acesso relatam que, ap√≥s conectarem seus laptops, a rede demora cerca de 30 segundos para funcionar. O switch usa RSTP. **Solu√ß√£o Proposta:** Habilitar `spanning-tree port type edge trunk` em todas as portas de acesso.                                                                                                                                  | F        | ‚ùå **Solu√ß√£o Incorreta.** `spanning-tree port type edge` (ou `spanning-tree portfast` em Cisco) √© o correto para portas de acesso. `trunk` no comando seria para configurar a porta como tronco, o que n√£o √© o caso para uma porta de acesso a um laptop. A demora de 30s com RSTP em porta de acesso √© estranha, pois as edge ports deveriam subir r√°pido. Pode ser que n√£o estejam configuradas como edge, ou h√° outro problema (ex: 802.1X). ‚úÖ **Solu√ß√£o Correta:** Configurar `spanning-tree port type edge` (ou `portfast`) nessas portas. üí° **Edge para Hosts:** Portas de acesso devem ser configuradas como "edge" no RSTP.                                                                                                       |
| 288 | **Problema:** A Empresa SecureNet quer impedir que um switch n√£o autorizado, se conectado a uma porta de acesso, cause uma elei√ß√£o de Root Bridge. O switch de acesso j√° tem PortFast e BPDU Guard habilitados. **Solu√ß√£o Proposta:** Adicionar `spanning-tree guard root` √†s portas de acesso.                                                                                                                                    | F        | ‚ùå **Solu√ß√£o Redundante e Potencialmente Confusa.** BPDU Guard j√° desabilitaria a porta se ela recebesse *qualquer* BPDU de um switch n√£o autorizado. Root Guard impede que a porta se torne um caminho para uma *nova Root superior*. Em uma porta de acesso onde j√° h√° BPDU Guard, Root Guard adiciona pouca ou nenhuma prote√ß√£o extra e n√£o √© o "guard" prim√°rio para esse cen√°rio. BPDU Guard √© mais direto. üí° **Melhor Ferramenta para o Trabalho:** BPDU Guard √© a principal defesa contra switches n√£o autorizados em portas de acesso.                                                                                                                                                                 |
| 289 | **Problema:** A Empresa ConnectAll usa Rapid PVST+. Eles t√™m um Port-Channel entre SW1 e SW2. O `show etherchannel summary` mostra que o Port-Channel est√° UP (SU), mas o `show spanning-tree interface port-channel X` mostra a porta em `BLK` para algumas VLANs. **Solu√ß√£o Proposta:** Isso indica que o STP est√° funcionando corretamente, bloqueando o Port-Channel para certas VLANs para evitar loops, enquanto ele pode estar encaminhando para outras. | V        | ‚úÖ **Solu√ß√£o Correta (Interpreta√ß√£o).** Em Rapid PVST+, cada VLAN tem sua inst√¢ncia. √â perfeitamente normal e esperado que um Port-Channel (que √© um link L2) seja bloqueado para algumas inst√¢ncias/VLANs (para evitar loop naquela topologia de VLAN) e esteja encaminhando para outras (onde ele faz parte do caminho ativo da √°rvore daquela VLAN). üí° **STP por VLAN em A√ß√£o:** Diferentes pap√©is/estados por VLAN em um mesmo link f√≠sico/l√≥gico s√£o a ess√™ncia do PVST+/Rapid PVST+.                                                                                                                                                                                                                         |
| 290 | **Problema:** Ap√≥s uma atualiza√ß√£o de firmware em um switch core da Empresa AlphaDigital, que √© a Root Bridge, a rede ficou inst√°vel, com TCNs constantes. A suspeita √© que o switch est√° enviando BPDUs corrompidos. **Solu√ß√£o Proposta:** Configurar BPDU Filter em todas as portas dos switches vizinhos ao core para ignorar os BPDUs do core e estabilizar a rede.                                                           | F        | ‚ùå **Solu√ß√£o Extremamente Perigosa.** Filtrar BPDUs da Root Bridge (ou de qualquer switch central) cegaria os outros switches para a topologia STP, levando a **loops massivos e garantidos**. ‚úÖ **Solu√ß√£o Correta:** Fazer rollback do firmware no core switch, investigar os logs para erros de BPDU, substituir o core switch se estiver com defeito, ou, temporariamente, for√ßar outro switch est√°vel a ser a Root Bridge (com prioridade muito baixa) enquanto o core √© reparado. üí° **Nunca Filtre BPDUs Centrais:** Isso √© como cortar os fios do sistema de alarme de inc√™ndio porque ele est√° apitando.                                                                                                              |
| 291 | **Problema:** A Empresa GlobalNet tem uma topologia complexa com MSTP. A Regi√£o MST "CORP" tem MSTI1 (VLANs 10-50) e MSTI2 (VLANs 51-100). O Switch_A √© Root para MSTI1 e o Switch_B √© Root para MSTI2. Ambos est√£o na Regi√£o "CORP". Um novo Switch_C √© adicionado, configurado para a Regi√£o "CORP" mas sem mapeamento expl√≠cito de VLANs para inst√¢ncias. **Solu√ß√£o Proposta:** Switch_C usar√° a topologia da CIST (Inst√¢ncia 0) para todas as suas VLANs, e sua Root Bridge ser√° a CIST Root da regi√£o "CORP", que pode ser diferente de Switch_A ou Switch_B. | V        | ‚úÖ **Solu√ß√£o Correta (Interpreta√ß√£o).** No MSTP, se VLANs n√£o s√£o explicitamente mapeadas para uma MSTI, elas recaem na IST0 (Internal Spanning Tree, Inst√¢ncia 0), que faz parte da CIST (Common and Internal Spanning Tree). A IST0/CIST tem sua pr√≥pria Root Bridge dentro da regi√£o. Switch_C seguir√° essa topologia. üí° **Default do MSTP:** VLANs n√£o mapeadas usam IST0/CIST.                                                                                                                                                                                                                                                                                                                                               |
| 292 | **Problema:** Na Empresa NetSecure, um switch de acesso est√° com a porta Gi0/1 em estado `err-disable` devido a `bpduguard`. Um usu√°rio afirma que apenas conectou seu laptop padr√£o. **Solu√ß√£o Proposta:** O laptop do usu√°rio deve estar executando algum software de virtualiza√ß√£o que cria uma bridge virtual e envia BPDUs. A solu√ß√£o √© desabilitar esse software ou conectar o laptop a uma porta sem BPDU Guard.                                  | V        | ‚úÖ **Solu√ß√£o Correta (Diagn√≥stico Prov√°vel).** Laptops normalmente n√£o enviam BPDUs. Se BPDU Guard disparou, √© altamente prov√°vel que o laptop esteja executando algum software (VMware Workstation, VirtualBox, Hyper-V em modo bridge, etc.) que cria uma interface de rede em modo bridge e, por consequ√™ncia, envia BPDUs. Desabilitar o software de virtualiza√ß√£o na NIC do laptop ou usar uma porta sem BPDU Guard (menos seguro) resolveria. üí° **Fontes Inesperadas de BPDUs:** Softwares de virtualiza√ß√£o s√£o uma causa comum de disparos de BPDU Guard.                                                                                                                                                                       |
| 293 | **Problema:** A Empresa LinkSys tem dois switches, SW1 e SW2, conectados por um √∫nico cabo. O STP est√° habilitado. SW1 √© a Root. A porta de SW1 para SW2 √© DP (Designated Port) e a porta de SW2 para SW1 √© RP (Root Port). Um segundo cabo √© adicionado entre SW1 e SW2. **Solu√ß√£o Proposta:** O STP far√° com que uma das portas em SW2 (a nova ou a antiga, dependendo do Port ID) se torne Blocking, e a outra permanecer√° RP. Ambas as portas em SW1 continuar√£o como DP. | V        | ‚úÖ **Solu√ß√£o Correta (Comportamento Esperado).** Com dois links, um loop √© criado. SW1 (Root) ter√° ambas as portas como DP. SW2 manter√° uma porta como RP (a de menor custo/melhor caminho para SW1). A outra porta em SW2, que agora forma um caminho redundante, ser√° colocada em Blocking (Non-Designated). A escolha entre qual porta em SW2 fica RP e qual fica BLK depender√° do Port ID (se custos e Sender BID forem iguais), com a de menor Port ID (do lado de SW1) sendo preferida para o BPDU que elege a RP. üí° **Forma√ß√£o de Loop Simples:** STP age previsivelmente, bloqueando um dos lados do novo link redundante no switch n√£o-Root.                                                              |
| 294 | **Problema:** A Empresa FastTrack usa RSTP. Um novo servidor com duas NICs foi conectado a duas portas diferentes (P1, P2) do mesmo switch. O administrador configurou teaming/bonding nas NICs do servidor em modo ativo-backup. **Solu√ß√£o Proposta:** Ambas as portas P1 e P2 no switch devem ser configuradas como `edge ports`. O RSTP do switch colocar√° uma das portas em Forwarding e a outra em Discarding (como Backup port) automaticamente. | F        | ‚ùå **Solu√ß√£o Parcialmente Incorreta.** Sim, P1 e P2 devem ser `edge ports`. No entanto, se o teaming no servidor √© ativo-backup, *apenas uma NIC do servidor est√° ativa por vez*. O switch ver√° apenas um link UP para o MAC do servidor por vez (ou o MAC do team). N√£o haver√° um loop L2 para o RSTP bloquear. Ambas as portas P1 e P2 no switch podem estar em Forwarding (do ponto de vista do STP, pois s√£o edge), mas apenas a que corresponde √† NIC ativa do servidor ter√° tr√°fego. N√£o haver√° um papel de "Backup port" do RSTP aqui porque o loop n√£o √© formado no n√≠vel do switch. ‚úÖ **Solu√ß√£o Correta:** Configurar P1 e P2 como `edge ports`. O teaming do servidor gerencia qual link usar. üí° **Teaming vs. STP:** O modo de teaming no servidor influencia como o switch "v√™" a conex√£o. Ativo-backup n√£o cria loop L2 para o STP. |
| 295 | **Problema:** A Empresa CoreNet tem SW_A e SW_B conectados por um Port-Channel de 2x10Gbps. Eles querem adicionar um link de backup de 1Gbps entre eles, fora do Port-Channel. **Solu√ß√£o Proposta:** O STP (RSTP) automaticamente ver√° o link de 1Gbps como tendo um custo maior e o colocar√° em estado de Blocking/Alternate, ativando-o apenas se o Port-Channel de 20Gbps falhar completamente.                               | V        | ‚úÖ **Solu√ß√£o Correta (Comportamento Esperado).** O Port-Channel de 2x10Gbps ter√° um custo STP muito baixo (ex: RSTP custo 1 ou 2 para 20Gbps). O link de 1Gbps ter√° um custo maior (ex: RSTP custo 4). O STP escolher√° o Port-Channel como caminho ativo e o link de 1Gbps ficar√° como backup (Alternate Port). üí° **Backup com Custo Diferente:** STP naturalmente prefere o caminho de maior banda/menor custo.                                                                                                                                                                                                                                                                                                        |
| 296 | **Problema:** Na Empresa CloudWave, um switch de acesso est√° em `err-disable` na porta conectada a um patch panel. A causa √© `udld`. **Solu√ß√£o Proposta:** Isso indica que o cabo entre o patch panel e o dispositivo final (ou outro switch) est√° causando um link unidirecional. A solu√ß√£o √© testar e substituir o cabeamento defeituoso.                                                                              | V        | ‚úÖ **Solu√ß√£o Correta (Diagn√≥stico).** UDLD (UniDirectional Link Detection) coloca a porta em `err-disable` quando detecta que o link s√≥ funciona em uma dire√ß√£o (ou n√£o recebe os "hellos" UDLD de volta). Isso √© comum com cabos de fibra defeituosos (um fio rompido) ou problemas de cabeamento UTP. üí° **UDLD e Problemas F√≠sicos:** UDLD √© eficaz em pegar falhas de link que o STP poderia n√£o ver, prevenindo loops.                                                                                                                                                                                                                                                                                |
| 297 | **Problema:** A Empresa VirtualSys est√° usando switches com MSTP. Regi√£o "DATA_CENTER" com Inst√¢ncia 1 para VLANs de Servidores e Inst√¢ncia 2 para VLANs de Storage. A Root para Inst√¢ncia 1 √© DC_SW1 e para Inst√¢ncia 2 √© DC_SW2. O tr√°fego de storage entre servidores e storage arrays est√° congestionado. **Solu√ß√£o Proposta:** Mover as VLANs de Storage para a Inst√¢ncia 1 e tornar DC_SW1 a Root para todas as VLANs para simplificar a topologia. | F        | ‚ùå **Solu√ß√£o Incorreta (Pode Piorar).** O congestionamento pode ser devido ao caminho que a Inst√¢ncia 2 est√° usando. Mover tudo para Inst√¢ncia 1 e ter uma √∫nica Root pode n√£o resolver e pode at√© piorar, for√ßando todo o tr√°fego por uma √∫nica topologia que pode n√£o ser √≥tima para ambos os tipos de tr√°fego. ‚úÖ **Solu√ß√£o Correta:** Analisar a topologia da Inst√¢ncia 2. Verificar se DC_SW2 √© a Root √≥tima e se os caminhos/portas bloqueadas para a Inst√¢ncia 2 fazem sentido. O objetivo do MSTP √© *permitir* topologias diferentes. Pode ser necess√°rio ajustar custos ou prioridades dentro da Inst√¢ncia 2, ou verificar a capacidade dos links. üí° **Otimiza√ß√£o no MSTP:** A granularidade do MSTP deve ser usada para criar caminhos √≥timos, n√£o para simplificar excessivamente se isso degradar a performance. |
| 298 | **Problema:** A Empresa GlobalTelecom tem um switch Cisco que precisa interoperar com um switch de outro fabricante que s√≥ suporta STP 802.1D. O switch Cisco est√° em modo `rapid-pvst`. **Solu√ß√£o Proposta:** Configurar `spanning-tree mode pvst` no switch Cisco para garantir compatibilidade total e evitar problemas de BPDUs.                                                                                                | F        | ‚ùå **Solu√ß√£o Desnecess√°ria.** `rapid-pvst` √© retrocompat√≠vel. Ele detectar√° o vizinho 802.1D e usar√° o formato de BPDU e timers compat√≠veis (PVST+ que por sua vez interopera com 802.1D CST) naquele link espec√≠fico para as VLANs relevantes. N√£o √© preciso rebaixar o modo do switch Cisco inteiro. üí° **Retrocompatibilidade do Rapid PVST+:** Ele se adapta. Apenas a performance naquele link ser√° a do STP mais lento.                                                                                                                                                                                                                                                                                                       |
| 299 | **Problema:** A Empresa SecureLink quer prevenir que loops acidentais criados por usu√°rios conectando hubs ou pequenos switches em portas de acesso causem problemas. As portas de acesso j√° usam PortFast. **Solu√ß√£o Proposta:** Habilitar `spanning-tree bpduguard enable` em todas as portas de acesso.                                                                                                                                        | V        | ‚úÖ **Solu√ß√£o Correta.** BPDU Guard em portas de acesso com PortFast √© a melhor pr√°tica. Se um BPDU for recebido (indicando um switch ou dispositivo STP conectado), a porta √© colocada em `err-disable`, isolando o problema imediatamente. üí° **Defesa da Borda:** PortFast + BPDU Guard √© a dupla din√¢mica para portas de acesso.                                                                                                                                                                                                                                                                                                                                                                    |
| 300 | **Problema:** Um switch da Empresa NetAlpha est√° mostrando a mensagem "%SPANTREE-2-LOOPGUARD_BLOCK: Loop guard blocking port GigabitEthernet0/1 on VLAN 100." **Solu√ß√£o Proposta:** Isso significa que a porta Gi0/1, que era uma Root Port ou Alternate Port para VLAN 100, parou de receber BPDUs e o Loop Guard a bloqueou para prevenir um loop. A causa prov√°vel √© uma falha no switch upstream ou no link que impedia BPDUs de chegarem.         | V        | ‚úÖ **Solu√ß√£o Correta (Interpreta√ß√£o da Mensagem).** Loop Guard bloqueia portas n√£o-Designated (como RP, AltnP) se elas param de receber BPDUs, pois isso poderia indicar que o caminho original falhou de uma forma que faria a porta transitar para Forwarding indevidamente. A mensagem indica exatamente essa a√ß√£o protetora. üí° **Loop Guard em A√ß√£o:** A mensagem √© clara sobre o que o Loop Guard fez e porqu√™ (implicitamente, aus√™ncia de BPDUs).                                                                                                                                                                                                                                                           |
| 301 | **Problema:** A Empresa WireSpeed tem dois switches core (CSW1, CSW2) e quer que CSW1 seja Root e CSW2 seja backup. Eles configuraram CSW1 com `spanning-tree priority 0` e CSW2 com `spanning-tree priority 4096`. Ap√≥s um reboot de CSW1, CSW2 se tornou Root, mas quando CSW1 voltou, CSW2 continuou como Root. **Solu√ß√£o Proposta:** O STP n√£o √© preemptivo por padr√£o para prioridades t√£o pr√≥ximas. Habilitar `spanning-tree preempt` em CSW1. | F        | ‚ùå **Solu√ß√£o Baseada em Premissa Falsa.** O STP **√© preemptivo** no sentido de que o switch com o melhor BID (menor prioridade, depois menor MAC) sempre se tornar√° a Root assim que seus BPDUs superiores forem propagados e a rede convergir. N√£o existe um comando `spanning-tree preempt` no STP. O problema pode ser que CSW1 demorou a enviar BPDUs, ou houve uma instabilidade tempor√°ria. Se as prioridades est√£o corretas (`0` vs `4096`), CSW1 *deve* reassumir o papel de Root. ‚úÖ **Solu√ß√£o Correta:** Verificar conectividade, logs em CSW1, e garantir que n√£o h√° filtros de BPDU ou outros problemas impedindo CSW1 de anunciar sua superioridade. üí° **Preemp√ß√£o Natural do STP:** O melhor BID sempre vence assim que a informa√ß√£o se propaga. |
| 302 | **Problema:** A Empresa DataFlow quer garantir que as portas conectadas a servidores que usam NIC teaming em modo ativo-ativo (LACP EtherChannel) n√£o causem problemas com o STP. **Solu√ß√£o Proposta:** Configurar as portas do switch como um Port-Channel LACP e habilitar PortFast e BPDU Guard na interface Port-Channel l√≥gica.                                                                                                | F        | ‚ùå **Solu√ß√£o Incorreta.** PortFast e BPDU Guard s√£o para portas de acesso *individuais* ou portas "edge", n√£o para interfaces Port-Channel que conectam a outro dispositivo que tamb√©m faz agrega√ß√£o (como um servidor com LACP). O Port-Channel em si ser√° tratado pelo STP como um √∫nico link. Se o servidor est√° fazendo LACP, ele se comporta como um "switch" para fins de agrega√ß√£o. ‚úÖ **Solu√ß√£o Correta:** Configurar o Port-Channel LACP no switch. O STP operar√° normalmente sobre a interface Port-Channel. N√£o se usa PortFast/BPDU Guard diretamente em um Port-Channel que faz LACP com outro dispositivo "inteligente". üí° **STP e LACP:** O STP v√™ o LAG. PortFast √© para pontas "burras".                 |
| 303 | **Problema:** A Empresa SecureEdge usa 802.1X para autentica√ß√£o de porta. Um usu√°rio em uma porta com 802.1X e STP (Rapid PVST+) habilitados experimenta longa demora para obter acesso √† rede ap√≥s conectar o cabo. **Solu√ß√£o Proposta:** Habilitar `spanning-tree portfast` na interface do usu√°rio e configurar o switch para permitir que o tr√°fego BPDU e EAPOL (802.1X) passe antes da autentica√ß√£o completa.                 | V        | ‚úÖ **Solu√ß√£o Correta (Abordagem Comum).** A demora pode ser o STP (30s se n√£o for edge) + 802.1X. PortFast (ou `port type edge`) acelera o STP. Muitas implementa√ß√µes de 802.1X permitem que certos tr√°fegos de controle (como EAPOL para autentica√ß√£o, e √†s vezes DHCP/CDP/LLDP/BPDU) passem antes da porta ser totalmente autorizada para dados. Permitir BPDUs √© importante para que o STP funcione corretamente mesmo que a porta n√£o esteja autenticada para dados. üí° **Coexist√™ncia 802.1X e STP:** Requer configura√ß√£o cuidadosa para evitar longas esperas e garantir que ambos funcionem.                                                                                                       |
| 304 | **Problema:** A Empresa NextGen IT tem um switch com a seguinte mensagem de log: `%SPANTREE-7-RECV_1Q_NON_TRUNK: Received 802.1Q BPDU on non-trunk port Po1 vlan 10.` O Port-Channel 1 (Po1) est√° conectado a um servidor. **Solu√ß√£o Proposta:** Isso indica que o servidor est√° enviando BPDUs tagueados com VLAN 10 em um link que o switch considera como acesso (n√£o-tronco) para aquela VLAN. A solu√ß√£o √© configurar `switchport mode trunk` na interface Po1 do switch ou parar o envio de BPDUs tagueados do servidor. | V        | ‚úÖ **Solu√ß√£o Correta (Diagn√≥stico e A√ß√£o).** A mensagem √© clara: um BPDU com tag 802.1Q (VLAN) foi recebido em uma porta que n√£o est√° configurada como tronco para aquela VLAN (ou √© uma porta de acesso). Se Po1 deveria ser um tronco, precisa ser configurado como tal. Se o servidor n√£o deveria enviar BPDUs tagueados, a configura√ß√£o do servidor precisa ser ajustada. üí° **Inconsist√™ncia de Trunking:** Causa comum de problemas de conectividade e STP.                                                                                                                                                                                                                                                           |
| 305 | **Problema:** A Empresa AlphaWAN conectou um novo circuito MPLS L2VPN entre duas filiais. Cada filial tem sua pr√≥pria rede STP. Ap√≥s a conex√£o, loops est√£o ocorrendo. **Solu√ß√£o Proposta:** Desabilitar STP no provedor MPLS e em todas as portas dos switches das filiais conectadas ao circuito MPLS, pois o MPLS j√° previne loops.                                                                                             | F        | ‚ùå **Solu√ß√£o Extremamente Perigosa.** Um L2VPN estende o dom√≠nio de broadcast (e STP) da Camada 2 entre as filiais. Desabilitar STP em um ambiente L2 estendido com caminhos redundantes (mesmo que atrav√©s do L2VPN) √© receita para loops massivos que podem afetar ambas as filiais e at√© a rede do provedor. O MPLS L3VPN previne loops L3, mas L2VPN √© uma extens√£o L2. ‚úÖ **Solu√ß√£o Correta:** Manter STP ativo. Idealmente, usar MSTP e configurar as filiais em regi√µes MST diferentes (ou a mesma, com design cuidadoso) para controlar a topologia STP sobre o L2VPN, ou filtrar BPDUs *com muito cuidado* na borda se as filiais devem ter dom√≠nios STP totalmente independentes e n√£o h√° redund√¢ncia L2 *sobre* o L2VPN. üí° **L2VPN e STP:** Estender L2 √© estender o dom√≠nio STP. Cuidado extremo √© necess√°rio.                                 |
| 306 | **Problema:** A Empresa CoreSys observou que o Switch-A, que n√£o deveria ser Root, se tornou Root para VLAN 50. `show spanning-tree vlan 50` em Switch-A mostra "Bridge ID Priority 32818 (priority 32768 sys-id-ext 50)". O Switch-Core (que deveria ser Root) tem prioridade `4146` (4096 + 50) para VLAN 50. **Solu√ß√£o Proposta:** A prioridade de Switch-A (32818) √© pior que a do Switch-Core (4146). O problema deve ser um erro de conectividade impedindo Switch-A de receber os BPDUs superiores do Switch-Core. | V        | ‚úÖ **Solu√ß√£o Correta (Diagn√≥stico).** A prioridade do Switch-A (32768 + 50 = 32818) √© de fato pior que a do Switch-Core (4096 + 50 = 4146). Se Switch-A se tornou Root, √© porque ele n√£o est√° "ouvindo" os BPDUs do Switch-Core que anunciam uma prioridade melhor. Isso aponta para um problema de conectividade entre eles para a VLAN 50, ou filtros de BPDU. üí° **An√°lise de Prioridades:** Se um switch com BID pior √© Root, ele n√£o est√° recebendo BPDUs de um candidato melhor.                                                                                                                                                                                                                                                        |
| 307 | **Problema:** A Empresa VirtualNet est√° configurando um novo cluster de virtualiza√ß√£o. Os hosts ESXi est√£o conectados a switches Cisco com Rapid PVST+. Cada VM precisa de conectividade L2. **Solu√ß√£o Proposta:** Criar um Port-Channel LACP para cada host ESXi. Configurar as portas do switch no Port-Channel como `switchport mode trunk`, permitir as VLANs necess√°rias e n√£o habilitar PortFast no Port-Channel. O STP do switch gerenciar√° a interface Port-Channel. | V        | ‚úÖ **Solu√ß√£o Correta (Pr√°tica Recomendada).** Usar LACP para os uplinks do ESXi √© comum. As portas do switch devem ser configuradas como tronco para carregar m√∫ltiplas VLANs para as VMs. PortFast n√£o √© usado em links de tronco para outros dispositivos "inteligentes" como um host ESXi que faz LACP. O STP (Rapid PVST+) tratar√° o Port-Channel como um √∫nico link. üí° **Virtualiza√ß√£o e Redes:** Configurar corretamente a interconex√£o L2/LSTP √© crucial para ambientes virtualizados.                                                                                                                                                                                                                                    |
| 308 | **Problema:** A Empresa SecureWAN quer garantir que, se uma porta de acesso configurada com PortFast e BPDU Guard for colocada em `err-disable`, ela se recupere automaticamente ap√≥s 10 minutos. **Solu√ß√£o Proposta:** Configurar globalmente `errdisable recovery cause bpduguard` e `errdisable recovery interval 600`.                                                                                                         | V        | ‚úÖ **Solu√ß√£o Correta.** `errdisable recovery cause bpduguard` habilita a recupera√ß√£o autom√°tica especificamente para viola√ß√µes de BPDU Guard. `errdisable recovery interval 600` define o intervalo de recupera√ß√£o para 600 segundos (10 minutos). üí° **Automa√ß√£o da Recupera√ß√£o:** √ötil para reduzir interven√ß√£o manual, mas a causa raiz do disparo do BPDU Guard ainda deve ser investigada.                                                                                                                                                                                                                                                                                              |
| 309 | **Problema:** A Empresa LinkUp tem um switch que mostra a Root Port para a VLAN X como Gi0/1, com custo 19. Existe outra porta, Gi0/2, que tamb√©m se conecta (indiretamente) √† mesma Root Bridge com um custo calculado de 19. O Sender BID via Gi0/1 √© menor que via Gi0/2. **Solu√ß√£o Proposta:** A porta Gi0/1 foi corretamente escolhida como Root Port devido ao menor Sender BID, que √© o segundo crit√©rio de desempate ap√≥s o custo.                 | V        | ‚úÖ **Solu√ß√£o Correta (Aplica√ß√£o de Regra STP).** Se os custos para a Root s√£o iguais, o pr√≥ximo crit√©rio para eleger a Root Port √© o menor Bridge ID do switch vizinho que enviou o BPDU (Sender BID). üí° **Desempate da Root Port:** Custo > Sender BID > Sender Port Priority > Menor Port ID local de recebimento (ou Sender Port ID, dependendo da fineza da implementa√ß√£o).                                                                                                                                                                                                                                                                                                                |
| 310 | **Problema:** A Empresa AlphaCom est√° enfrentando "MAC flaps" entre duas portas (P1 e P2) de um switch de distribui√ß√£o que se conectam a dois switches de acesso diferentes (SA1 e SA2). SA1 e SA2 tamb√©m est√£o interconectados. **Solu√ß√£o Proposta:** Isso indica um loop de Camada 2 envolvendo P1, P2, SA1 e SA2. A solu√ß√£o √© desabilitar STP em SA1 e SA2 e configurar VTP pruning no switch de distribui√ß√£o para limitar os broadcasts.             | F        | ‚ùå **Solu√ß√£o Terrivelmente Incorreta.** Desabilitar STP onde h√° um loop L2 f√≠sico √© a pior coisa a fazer. VTP pruning gerencia a propaga√ß√£o de VLANs em troncos, n√£o resolve loops L2. ‚úÖ **Solu√ß√£o Correta:** Garantir que STP (RSTP/MSTP) esteja habilitado e funcionando corretamente em TODOS os switches (Distribui√ß√£o, SA1, SA2). Verificar a elei√ß√£o da Root Bridge e se as portas est√£o bloqueando/encaminhando corretamente para quebrar o loop. üí° **Sintoma Cl√°ssico de Loop:** MAC Flapping = Loop L2. Solu√ß√£o = STP funcional.                                                                                                                                                                                             |
| 311 | **Problema:** A Empresa MicroLink observou que, ap√≥s a instala√ß√£o de um novo switch Cisco (SW_N) com configura√ß√µes de f√°brica, ele se tornou a Root Bridge, superando o switch core (SW_C) que tinha prioridade `24576`. SW_N tem prioridade padr√£o `32768`. **Solu√ß√£o Proposta:** Isso n√£o deveria ocorrer, pois `24576` √© melhor que `32768`. O problema deve ser que SW_N tem um endere√ßo MAC significativamente menor e est√° em uma VLAN com ID menor, e o STP considerou isso primeiro. | F        | ‚ùå **Solu√ß√£o Incorreta (Diagn√≥stico Falho).** A **Prioridade da Bridge** √© o primeiro e mais importante fator no BID. `24576` √© definitivamente melhor que `32768`. Se SW_N se tornou Root, ou SW_C n√£o est√° mais anunciando sua prioridade `24576` (falha, config perdida, problema de conectividade para SW_N "ouvir" SW_C), ou SW_N foi configurado com uma prioridade ainda menor que `24576` (ex: `4096` ou `0`) inadvertidamente. O MAC e o ID da VLAN (no system-id-extend) s√£o crit√©rios de desempate *ap√≥s* a prioridade base. üí° **Hierarquia do BID:** Prioridade Base > System ID Extension (VLAN ID) > MAC. A prioridade base domina.                                                                       |
| 312 | **Problema:** A Empresa Connecta usa EtherChannel LACP entre dois switches (SW_A, SW_B). O Port-Channel est√° UP, mas o `show etherchannel summary` em SW_A mostra a porta Gi0/1 (membro) como `(D)`, que significa "Down" ou "Defeituosa". **Solu√ß√£o Proposta:** O STP em SW_A detectou um problema com Gi0/1 e a colocou em estado de "Down" para o EtherChannel, mesmo que o link f√≠sico esteja UP.                                                    | F        | ‚ùå **Solu√ß√£o Incorreta (Interpreta√ß√£o).** O status `(D)` no `show etherchannel summary` geralmente significa que a porta est√° **Down no Port-Channel** (n√£o faz parte do bundle agregado) ou `err-disabled` por alguma raz√£o (ex: LACP n√£o conseguiu parear, inconsist√™ncia, etc.), n√£o que o STP a desabilitou. O STP opera na interface Port-Channel l√≥gica, n√£o desabilita membros individuais do bundle dessa forma. ‚úÖ **Solu√ß√£o Correta:** Verificar logs, status da interface f√≠sica, configura√ß√£o LACP em ambos os lados para Gi0/1. Pode ser um problema de cabo, SFP, ou configura√ß√£o LACP inconsistente para aquele membro. üí° **Status do EtherChannel:** `(P)` = Port in channel (bom), `(S)` = Suspended, `(I)` = Independent (standalone), `(D)` = Down. |
| 313 | **Problema:** A Empresa StreamFast quer garantir que o tr√°fego de v√≠deo multicast de c√¢meras IP (VLAN 200) tenha um caminho dedicado e n√£o seja afetado pelo STP do tr√°fego de dados (VLAN 10). Eles usam switches Cisco. **Solu√ß√£o Proposta:** Configurar Rapid PVST+. Definir um switch core dedicado (SW_Video_Root) como Root para VLAN 200 com prioridade baixa, e o switch core de dados (SW_Data_Root) como Root para VLAN 10 com prioridade baixa. | V        | ‚úÖ **Solu√ß√£o Correta.** Rapid PVST+ cria uma inst√¢ncia STP por VLAN. Ao designar Roots diferentes para VLAN 200 e VLAN 10, pode-se efetivamente criar topologias STP distintas, permitindo que o tr√°fego de v√≠deo siga um caminho otimizado e potencialmente diferente do tr√°fego de dados, minimizando a conten√ß√£o e o impacto de reconverg√™ncias de uma VLAN na outra. üí° **Isolamento de Topologia por VLAN:** Benef√≠cio chave do (Rapid) PVST+.                                                                                                                                                                                                                                                                                                |
| 314 | **Problema:** A Empresa MobileCorp est√° implantando pontos de acesso Wi-Fi (APs) que s√£o alimentados por PoE. As portas dos switches onde os APs s√£o conectados est√£o configuradas com PortFast e BPDU Guard. Ocasionalmente, um AP faz com que a porta entre em `err-disable` por BPDU Guard. **Solu√ß√£o Proposta:** Alguns APs, especialmente em modo mesh ou com certas funcionalidades de bridge, podem enviar BPDUs. A solu√ß√£o √© desabilitar o BPDU Guard nessas portas e confiar apenas no PortFast. | F        | ‚ùå **Solu√ß√£o Insegura.** Desabilitar BPDU Guard remove uma camada importante de prote√ß√£o. Se o AP est√° enviando BPDUs, isso precisa ser entendido. ‚úÖ **Solu√ß√£o Correta:** Investigar por que o AP est√° enviando BPDUs. Alguns APs empresariais podem ter STP habilitado por padr√£o em suas interfaces bridge. Se poss√≠vel, desabilitar STP no AP se ele for apenas um dispositivo de acesso L2. Se o AP *precisa* participar do STP (cen√°rio raro para APs de ponta), ent√£o a porta do switch n√£o deveria ser PortFast nem ter BPDU Guard, e sim tratada como um link para outro dispositivo STP. Mas, para APs comuns, eles n√£o deveriam enviar BPDUs. üí° **Entenda a Causa:** N√£o desabilite seguran√ßa sem entender o porqu√™. |
| 315 | **Problema:** A Empresa NetScale est√° usando MSTP com uma regi√£o "GLOBAL_MST". O switch SW_BORDER1 conecta-se a uma rede de um parceiro que usa RSTP. `show spanning-tree mst interface X detail` em SW_BORDER1 na porta para o parceiro mostra "Boundary: Yes (RSTP)". **Solu√ß√£o Proposta:** Isso indica que a porta √© uma fronteira da regi√£o MST e est√° interoperando corretamente com a rede RSTP do parceiro atrav√©s da CIST, usando o dialeto RSTP. | V        | ‚úÖ **Solu√ß√£o Correta (Interpreta√ß√£o).** O status de "Boundary: Yes" e a indica√ß√£o do protocolo do vizinho (RSTP) confirmam que a porta est√° na borda da regi√£o MST e est√° se comunicando com uma rede externa (n√£o-MST ou MST de outra regi√£o) usando um protocolo STP comum (neste caso, RSTP, via CIST). üí° **Fronteiras MSTP:** O MSTP √© projetado para interoperar com outros tipos de STP em suas bordas.                                                                                                                                                                                                                                                                                                             |
| 316 | **Problema:** A Empresa AlphaBridge quer que a interface Gi0/1 de SW1 seja sempre a Root Port para todas as VLANs, mesmo que outras portas ofere√ßam um custo momentaneamente melhor devido a flutua√ß√µes. **Solu√ß√£o Proposta:** Configurar `spanning-tree vlan all cost 1` na interface Gi0/1 e `spanning-tree vlan all cost 65535` (ou o m√°ximo) em todas as outras portas de SW1.                                                       | V        | ‚úÖ **Solu√ß√£o Correta (Embora Extrema).** Ao definir o custo da Gi0/1 como o m√≠nimo poss√≠vel (1) e os custos de todas as outras portas como o m√°ximo poss√≠vel para todas as VLANs, voc√™ for√ßa Gi0/1 a ser a Root Port, desde que ela tenha um caminho v√°lido para a Root Bridge e a Root Bridge n√£o esteja diretamente conectada √†s outras portas com custo 1. Isso √© uma forma de "fixar" a Root Port. üí° **For√ßando Caminhos com Custo:** Embora eficaz, essa configura√ß√£o remove a dinamicidade do STP e pode ser problem√°tica se Gi0/1 falhar.                                                                                                                                                                           |
| 317 | **Problema:** A Empresa SecureCloud usa `udld aggressive` em links de fibra. Uma porta entrou em `err-disable` por UDLD. Ap√≥s verificar e corrigir um SFP defeituoso, a porta n√£o volta automaticamente. **Solu√ß√£o Proposta:** O modo agressivo do UDLD n√£o permite recupera√ß√£o autom√°tica da porta. √â necess√°rio executar `shutdown` e `no shutdown` na interface manualmente para reativ√°-la.                                           | V        | ‚úÖ **Solu√ß√£o Correta (Comportamento do UDLD Agressivo).** O modo agressivo do UDLD √© mais rigoroso e, uma vez que coloca uma porta em `err-disable`, geralmente requer interven√ß√£o manual (`shut`/`no shut`) para recuper√°-la, mesmo que `errdisable recovery` esteja configurado para outras causas. Isso √© para garantir que a falha grave que o UDLD agressivo detectou seja de fato resolvida. üí° **UDLD Agressivo e Recupera√ß√£o:** A recupera√ß√£o autom√°tica pode n√£o se aplicar ou ter comportamento diferente para `udld` em modo agressivo.                                                                                                                                                                           |
| 318 | **Problema:** A Empresa GlobalWAN tem um switch de distribui√ß√£o (SW_DIST) conectado a 10 switches de acesso. SW_DIST √© a Root Bridge. Ap√≥s uma falha de energia, todos os 10 switches de acesso enviam TCNs simultaneamente para SW_DIST. **Solu√ß√£o Proposta:** Isso √© normal. Para mitigar o impacto, habilitar `spanning-tree tcn-guard` (funcionalidade hipot√©tica) em SW_DIST para que ele processe apenas um TCN por segundo de cada switch de acesso. | F        | ‚ùå **Solu√ß√£o Baseada em Funcionalidade Inexistente.** N√£o existe um "tcn-guard" padr√£o que limite TCNs dessa forma. O RSTP j√° lida com TCNs de forma mais eficiente que o 802.1D (ex: TCNs n√£o s√£o propagados por toda a rede, apenas limpam MACs localmente e no caminho para a Root). ‚úÖ **Solu√ß√£o Real:** Garantir que as portas de acesso nos switches de acesso estejam configuradas como `edge` (PortFast no RSTP), pois portas edge n√£o geram TCNs quando sobem ou descem. Isso reduzir√° drasticamente o n√∫mero de TCNs. üí° **Prevenindo Tempestades de TCN:** Portas edge s√£o a chave.                                                                                                                                           |
| 319 | **Problema:** A Empresa CoreConnect configurou EtherChannel entre SW_A e SW_B usando LACP. SW_A √© a Root. `show etherchannel Po1 port-channel` em SW_A mostra "Port state = Port-channel Ag-Inuse". `show spanning-tree interface Po1` mostra "Role Desg, Status FWD". Em SW_B, `show spanning-tree interface Po1` mostra "Role Root, Status FWD". **Solu√ß√£o Proposta:** Esta sa√≠da indica uma configura√ß√£o STP e EtherChannel saud√°vel e operacional entre os dois switches. | V        | ‚úÖ **Solu√ß√£o Correta (Interpreta√ß√£o).** "Ag-Inuse" (Aggregated and In Use) indica que o Port-Channel LACP est√° funcional. Em SW_A (Root), a Po1 ser Designated Port (Desg) e Forwarding (FWD) √© esperado. Em SW_B (n√£o-Root), a Po1 ser Root Port (Root) e Forwarding (FWD) √© o comportamento correto para o caminho principal para a Root. üí° **Verifica√ß√£o de Sa√∫de Combinada:** Analisar sa√≠das de EtherChannel e STP juntas confirma a opera√ß√£o correta.                                                                                                                                                                                                                                                                 |
| 320 | **Problema:** A Empresa NetGrid quer que o switch SW_LEAF1 nunca envie BPDUs em sua porta Gi0/5 (conectada a um dispositivo legado que falha ao receber BPDUs), mas que SW_LEAF1 ainda participe do STP nas outras portas. **Solu√ß√£o Proposta:** Configurar `spanning-tree bpdufilter enable` especificamente na interface Gi0/5 de SW_LEAF1.                                                                                           | V        | ‚úÖ **Solu√ß√£o Correta.** BPDU Filter configurado *por interface* impede que aquela interface envie BPDUs e faz com que ela ignore BPDUs recebidos. O STP continuar√° operando normalmente nas outras portas do switch. üí° **BPDU Filter Cir√∫rgico:** Usado com cautela em interfaces espec√≠ficas para interagir com dispositivos problem√°ticos, mas ciente do risco de loop se essa porta for conectada a outro switch.                                                                                                                                                                                                                                                                                        |
| 321 | **Problema:** A Empresa WireLink tem SW_X e SW_Y. SW_X √© Root. H√° dois links entre eles. Link1 (Gi0/1 em ambos) √© 1Gbps. Link2 (Gi0/2 em ambos) √© 100Mbps. Por padr√£o, STP em SW_Y usa Gi0/1 como Root Port e bloqueia Gi0/2. Querem que Gi0/2 seja a Root Port e Gi0/1 o backup. **Solu√ß√£o Proposta:** Em SW_Y, configurar `interface Gi0/2` com `spanning-tree cost 1` e `interface Gi0/1` com `spanning-tree cost 100`.                 | V        | ‚úÖ **Solu√ß√£o Correta.** Ao atribuir um custo STP artificialmente muito baixo (1) √† porta do link de 100Mbps e um custo mais alto (100) √† porta do link de 1Gbps (cujo custo autom√°tico seria 19 ou 4), o STP em SW_Y ser√° for√ßado a escolher Gi0/2 como Root Port, e Gi0/1 se tornar√° Alternate/Blocking. üí° **Subvertendo Custos Padr√£o:** A configura√ß√£o manual de custo permite total controle sobre a prefer√™ncia de caminho do STP, mesmo que v√° contra a l√≥gica da largura de banda.                                                                                                                                                                                                                  |
| 322 | **Problema:** A Empresa AlphaHost tem um servidor conectado a uma porta de switch com PortFast. A porta est√° frequentemente entrando em `err-disable` com a causa `security-violation (BPDUGuard)`. O servidor n√£o tem software de virtualiza√ß√£o. **Solu√ß√£o Proposta:** Pode haver um switch n√£o gerenciado ou hub entre o servidor e a porta do switch, e esse dispositivo intermedi√°rio est√° conectado a outro local da rede, criando um caminho para BPDUs. A solu√ß√£o √© remover o dispositivo intermedi√°rio. | V        | ‚úÖ **Solu√ß√£o Correta (Diagn√≥stico Prov√°vel).** Se o servidor em si n√£o envia BPDUs, mas BPDU Guard est√° disparando, √© muito prov√°vel que haja um dispositivo "invis√≠vel" (hub, switch simples, dock station com bridge) entre o servidor e a porta do switch que est√° recebendo BPDUs de outra parte da rede e os repassando, ou ele mesmo est√° gerando (caso de alguns docks). üí° **Investiga√ß√£o F√≠sica:** Quando o BPDU Guard dispara e o host "n√£o deveria", procure por hardware intermedi√°rio no caminho.                                                                                                                                                                                                         |
| 323 | **Problema:** A Empresa CentralSys usa MSTP. Eles t√™m uma Regi√£o "R1" com duas inst√¢ncias, MSTI1 e MSTI2. Eles precisam conectar esta regi√£o a um switch legado de um departamento que s√≥ suporta PVST+. **Solu√ß√£o Proposta:** O switch MSTP na fronteira da Regi√£o R1 ir√° se comunicar com o switch PVST+ usando a CIST (Inst√¢ncia 0). A CIST no switch MSTP ir√° simular uma inst√¢ncia PVST+ para cada VLAN que precisa atravessar a fronteira para o switch PVST+. | V        | ‚úÖ **Solu√ß√£o Correta (Interoperabilidade MSTP-PVST+).** Na fronteira com um switch PVST+, a CIST do switch MSTP (via um mecanismo chamado PVST Simulation ou Pre-Standard Migration) pode interagir com as m√∫ltiplas inst√¢ncias do switch PVST+, garantindo uma topologia livre de loops para cada VLAN comum. üí° **Tradu√ß√£o na Fronteira:** MSTP √© projetado para interoperar com PVST+ simulando o comportamento PVST+ na borda da CIST.                                                                                                                                                                                                                                                                                 |
| 324 | **Problema:** A Empresa EdgePoint tem switches de acesso com Loop Guard habilitado por padr√£o. Um usu√°rio conecta um cabo entre duas portas do mesmo switch de acesso. **Solu√ß√£o Proposta:** Loop Guard n√£o atuar√°, pois ele √© para aus√™ncia de BPDUs em portas n√£o-Designated. O STP normal do switch detectar√° o loop e bloquear√° uma das portas.                                                                                         | V        | ‚úÖ **Solu√ß√£o Correta.** Loop Guard protege contra cen√°rios onde BPDUs *deveriam* estar chegando em uma porta bloqueada (RP/AltnP) e param de chegar. Em um loop direto no mesmo switch, o STP padr√£o (seus mecanismos de elei√ß√£o de DP/RP/BLK) resolver√° o loop. Loop Guard n√£o √© o mecanismo prim√°rio para esse tipo de loop simples. üí° **Escopo do Loop Guard:** Focado em falhas de envio de BPDU em links que deveriam estar bloqueados com base em BPDUs cont√≠nuos.                                                                                                                                                                                                                                                          |
| 325 | **Problema:** A Empresa NetCore quer que SW_A seja Root, SW_B seja backup, e SW_C seja backup do backup. Todos usam RSTP. **Solu√ß√£o Proposta:** SW_A: `prio 4096`. SW_B: `prio 8192`. SW_C: `prio 12288`. (Assumindo que outros switches t√™m prio > 12288).                                                                                                                                                                                   | V        | ‚úÖ **Solu√ß√£o Correta.** Definir prioridades STP em uma escada crescente (valores num√©ricos menores s√£o melhores) estabelece claramente a hierarquia desejada. Se A falhar, B (com 8192) √© o melhor. Se B tamb√©m falhar (ou A e B falharem), C (com 12288) se torna o melhor entre os restantes. üí° **Hierarquia de Prioridades:** Simples e eficaz para designar m√∫ltiplos n√≠veis de backup para a Root Bridge.                                                                                                                                                                                                                                                                                                       |
| 326 | **Problema:** A Empresa AlphaNet usa `bridge assurance` em seus links de tronco. Um dos links entre SW1 e SW2 mostra a porta de SW1 como `BLK (BA-Inc)`. SW2 est√° funcional. **Solu√ß√£o Proposta:** Isso indica que SW1 n√£o est√° recebendo BPDUs de SW2 naquela porta, ou os BPDUs de SW2 n√£o indicam suporte a Bridge Assurance. A causa pode ser uma falha unidirecional (SW2 n√£o envia para SW1) ou SW2 n√£o tem Bridge Assurance habilitado/compat√≠vel. | V        | ‚úÖ **Solu√ß√£o Correta (Diagn√≥stico).** `BA-Inc` (Bridge Assurance Inconsistent/Blocked) significa que a porta esperava BPDUs com Bridge Assurance do vizinho, mas n√£o os recebeu (ou n√£o como esperado). Isso pode ser uma falha de envio do vizinho, um problema no cabo/SFP na dire√ß√£o vizinho->local, ou o vizinho n√£o suporta/tem habilitado Bridge Assurance. üí° **Requisitos do Bridge Assurance:** Precisa ser habilitado em ambos os lados e BPDUs devem fluir bidirecionalmente.                                                                                                                                                                                                              |
| 327 | **Problema:** A Empresa SecureGate est√° usando `dot1x port-control auto` e `spanning-tree portfast` em portas de acesso. Um novo PC √© conectado. Ele obt√©m um IP via DHCP, mas n√£o consegue acessar recursos internos. O `show dot1x interface X` mostra "Authorized". **Solu√ß√£o Proposta:** O problema n√£o √© STP nem 802.1X. Pode ser uma ACL bloqueando o tr√°fego, VTP pruning removendo a VLAN do tronco para o core, ou um problema de roteamento/firewall. | V        | ‚úÖ **Solu√ß√£o Correta (Elimina√ß√£o).** Se STP (PortFast) est√° OK e 802.1X mostra "Authorized", a conectividade b√°sica L2 e a autentica√ß√£o est√£o funcionais. A incapacidade de acessar recursos internos aponta para problemas em camadas superiores ou outras configura√ß√µes de seguran√ßa/rede: ACLs, firewall, problemas de roteamento, ou a VLAN do PC n√£o estar corretamente estendida/roteada. üí° **Troubleshooting em Camadas:** Se L2/STP/802.1X parecem OK, suba na pilha para procurar o problema.                                                                                                                                                                                                           |
| 328 | **Problema:** A Empresa DataLink configurou um Port-Channel LACP (Po1) com 3 links de 1Gbps. O custo STP padr√£o (short method) para 1Gbps √© 4. **Solu√ß√£o Proposta:** O switch calcular√° o custo STP para a interface Po1 como `4 / 3 = 1.33`, arredondando para 1.                                                                                                                                                                 | F        | ‚ùå **Solu√ß√£o Incorreta (C√°lculo do Custo do LAG).** O custo STP para um Port-Channel n√£o √© uma divis√£o simples pelo n√∫mero de links. Ele √© geralmente baseado na **largura de banda agregada total** e mapeado para a tabela de custos. Para 3x1Gbps = 3Gbps, o custo (short method) seria melhor que 1Gbps (custo 4) mas n√£o t√£o bom quanto 10Gbps (custo 2). Seria provavelmente **3** (o custo para velocidades entre >2Gbps e <10Gbps, se tal entrada existisse, ou o sistema pode ter uma tabela espec√≠fica para LAGs. Alguns sistemas podem simplesmente usar o custo de 10Gbps (2) se >1Gbps). N√£o √© uma divis√£o e arredondamento. üí° **Custo de LAG √© por Banda Agregada:** O switch mapeia a capacidade total do LAG para um valor de custo STP. |
| 329 | **Problema:** A Empresa ConnectPro tem um switch de acesso onde a porta Gi0/10 est√° em `err-disable` por `bpduguard`. O administrador executa `shutdown` e `no shutdown`. A porta volta para `err-disable` imediatamente. **Solu√ß√£o Proposta:** O dispositivo conectado √† Gi0/10 ainda est√° enviando BPDUs. A causa raiz (o dispositivo enviando BPDUs) n√£o foi resolvida, ent√£o o BPDU Guard continua disparando.                                     | V        | ‚úÖ **Solu√ß√£o Correta (Diagn√≥stico).** Se a porta volta para `err-disable` por BPDU Guard logo ap√≥s ser reativada, √© porque a condi√ß√£o que causou o disparo (recebimento de BPDUs) ainda persiste. O dispositivo na outra ponta continua enviando BPDUs. üí° **Resolver a Causa, N√£o S√≥ o Sintoma:** `shut`/`no shut` s√≥ limpa o estado de erro. Se o problema subjacente n√£o for corrigido, a porta ser√° desabilitada novamente.                                                                                                                                                                                                                                                                          |
| 330 | **Problema:** A Empresa GlobalSwitch tem um ambiente misto com alguns switches suportando apenas STP 802.1D e outros suportando RSTP. A Root Bridge √© um switch RSTP. **Solu√ß√£o Proposta:** Os switches RSTP conectados a switches 802.1D ir√£o operar no modo 802.1D naqueles links espec√≠ficos, resultando em converg√™ncia mais lenta para segmentos envolvendo esses links, mas o restante da rede RSTP ainda se beneficiar√° da converg√™ncia r√°pida.        | V        | ‚úÖ **Solu√ß√£o Correta (Interoperabilidade RSTP/STP).** RSTP √© projetado para ser retrocompat√≠vel. Ele detecta vizinhos 802.1D e usa o mecanismo STP cl√°ssico (incluindo timers mais lentos) nesses links. As partes da rede que s√£o puramente RSTP ainda convergem rapidamente. üí° **Adapta√ß√£o na Fronteira:** RSTP "fala a l√≠ngua" do vizinho mais antigo, se necess√°rio.                                                                                                                                                                                                                                                                                                                                     |
| 331 | **Problema:** A Empresa CoreNet configurou `spanning-tree guard loop` em todas as suas portas de tronco. Uma dessas portas, Gi0/1 em SW_A, √© a Root Port para SW_A, recebendo BPDUs de SW_B. O cabo entre SW_A e SW_B √© acidentalmente desconectado de SW_B, mas permanece conectado em SW_A. **Solu√ß√£o Proposta:** A porta Gi0/1 em SW_A n√£o receber√° mais BPDUs. O Loop Guard em Gi0/1 colocar√° a porta em estado `loop-inconsistent (blocking)` para evitar um poss√≠vel loop. | V        | ‚úÖ **Solu√ß√£o Correta.** Se Gi0/1 era uma Root Port, ela esperava BPDUs. Se eles pararem de chegar (cabo desconectado do outro lado), Loop Guard intervir√° e bloquear√° a porta para evitar que ela transite erroneamente para Designated Port e potencialmente crie um loop (se houvesse um caminho de backup que agora parece melhor devido √† aus√™ncia de BPDUs no caminho original). üí° **Loop Guard e Perda de BPDU:** Exatamente o cen√°rio para o qual o Loop Guard foi projetado em portas n√£o-Designated.                                                                                                                                                                                                            |
| 332 | **Problema:** A Empresa EdgeSys tem um switch de acesso configurado com `spanning-tree portfast bpdufilter default`. Um usu√°rio conecta um pequeno switch dom√©stico (que envia BPDUs) √† porta. **Solu√ß√£o Proposta:** A porta do switch EdgeSys permanecer√° UP e encaminhando. Os BPDUs do switch dom√©stico ser√£o ignorados pela porta devido ao BPDU Filter, e um loop poder√° ser formado se o switch dom√©stico estiver mal conectado, sem que o switch EdgeSys perceba. | V        | ‚úÖ **Solu√ß√£o Correta (Risco do BPDU Filter).** `bpdufilter default` (em portas PortFast) faz com que a porta n√£o envie BPDUs e ignore os recebidos. Se um switch que gera BPDUs e pode causar um loop for conectado, o BPDU Filter efetivamente cega o STP naquela porta, permitindo o loop. üí° **BPDU Filter vs. BPDU Guard:** Filter = Ignora BPDUs (perigoso em PortFast se o dispositivo conectado for um switch). Guard = Desabilita a porta se vir BPDU (mais seguro para PortFast).                                                                                                                                                                                                                            |
| 333 | **Problema:** A Empresa MultiCast est√° tendo problemas com a entrega de v√≠deo multicast. A rede usa PVST+. O switch que √© a Root Bridge para a VLAN de v√≠deo est√° muito distante dos receptores multicast. **Solu√ß√£o Proposta:** Mudar a Root Bridge da VLAN de v√≠deo para um switch mais pr√≥ximo dos receptores multicast e dos servidores de v√≠deo, ajustando a prioridade STP dessa VLAN no switch escolhido.                           | V        | ‚úÖ **Solu√ß√£o Correta.** A topologia STP influencia o caminho do tr√°fego L2, incluindo multicast (que √© inundado dentro do dom√≠nio L2/VLAN inicialmente, ou podado por IGMP Snooping seguindo a √°rvore STP). Colocar a Root Bridge em uma posi√ß√£o central ou pr√≥xima das fontes/receptores importantes para aquela VLAN pode otimizar o caminho do tr√°fego. üí° **STP e Multicast:** A posi√ß√£o da Root pode impactar a efici√™ncia da distribui√ß√£o multicast L2.                                                                                                                                                                                                                                                             |
| 334 | **Problema:** A Empresa AlphaData tem um switch com duas portas (P1, P2) conectadas ao mesmo hub, e este hub est√° conectado a um √∫nico PC. **Solu√ß√£o Proposta:** O STP no switch colocar√° uma das portas (P1 ou P2) em estado de bloqueio para evitar um loop, e o PC ter√° conectividade atrav√©s da porta que permanecer ativa.                                                                                                        | V        | ‚úÖ **Solu√ß√£o Correta.** Mesmo com um PC na ponta, se duas portas do mesmo switch est√£o no mesmo dom√≠nio de broadcast (estendido pelo hub), o STP ver√° isso como um caminho redundante e bloquear√° uma das portas do switch para evitar o loop. O PC se comunicar√° pela porta do switch que o STP deixar como Designated Port para aquele segmento. üí° **Loop via Hub:** STP ainda age nas portas do switch.                                                                                                                                                                                                                                                                                                                    |
| 335 | **Problema:** A Empresa ConnectSphere configurou `spanning-tree uplinkfast` em seus switches de acesso que usam STP 802.1D. Um uplink falha. **Solu√ß√£o Proposta:** UplinkFast permitir√° uma converg√™ncia de cerca de 1-3 segundos para um uplink de backup, em vez dos 30-50 segundos do STP 802.1D normal, aumentando a prioridade e o custo do switch para evitar que ele se torne um caminho de tr√¢nsito.                                        | V        | ‚úÖ **Solu√ß√£o Correta (A√ß√£o do UplinkFast).** UplinkFast √© uma otimiza√ß√£o da Cisco para o STP 802.1D que permite r√°pida comuta√ß√£o para um uplink secund√°rio (se existir e estiver bloqueado) em switches de acesso. Ele tamb√©m ajusta os par√¢metros STP do switch temporariamente para torn√°-lo menos desej√°vel como um switch de tr√¢nsito durante a reconverg√™ncia. üí° **Melhoria Legada do 802.1D:** UplinkFast foi um precursor de algumas ideias do RSTP para acelerar a converg√™ncia em cen√°rios espec√≠ficos.                                                                                                                                                                             |
| 336 | **Problema:** A Empresa SecureNet configurou `ip dhcp snooping` e `ip arp inspection validate src-mac dest-mac ip` em seus switches de acesso. O STP (Rapid PVST+) tamb√©m est√° ativo. **Solu√ß√£o Proposta:** Essas configura√ß√µes de seguran√ßa L2 n√£o interferem diretamente com a opera√ß√£o normal do STP, mas ajudam a proteger a rede contra ataques que poderiam, indiretamente, afetar a estabilidade da rede onde o STP opera.                        | V        | ‚úÖ **Solu√ß√£o Correta.** DHCP Snooping e ARP Inspection s√£o para seguran√ßa contra ataques como rogue DHCP servers e ARP poisoning. O STP √© para preven√ß√£o de loops L2. Eles operam em paralelo e se complementam para uma rede mais segura e est√°vel. N√£o h√° conflito direto. üí° **Seguran√ßa em Camadas:** M√∫ltiplas funcionalidades de seguran√ßa L2 (DAI, IPSG, DHCP Snooping) e protocolos de estabilidade L2 (STP) trabalham juntos.                                                                                                                                                                                                                                                             |
| 337 | **Problema:** A Empresa GlobalCom tem um switch configurado com `spanning-tree mode mst`. Um novo administrador tenta configurar `spanning-tree vlan 10 priority 4096`. O comando √© rejeitado. **Solu√ß√£o Proposta:** No modo MST, a prioridade da Root Bridge √© configurada por *inst√¢ncia MST*, n√£o por VLAN individual diretamente (a menos que seja a CIST Root). O administrador precisa mapear a VLAN 10 para uma inst√¢ncia e ent√£o definir a prioridade para essa inst√¢ncia (ex: `spanning-tree mst instance 1 priority 4096`). | V        | ‚úÖ **Solu√ß√£o Correta (Configura√ß√£o MST).** No MSTP, as VLANs s√£o agrupadas em inst√¢ncias, e a configura√ß√£o de Root/prioridade √© feita para a inst√¢ncia. Para a CIST Root (que afeta a interoperabilidade e VLANs na IST0), o comando √© `spanning-tree mst 0 priority X`. üí° **Escopo da Prioridade MST:** Por inst√¢ncia ou para a CIST.                                                                                                                                                                                                                                                                                                                                                   |
| 338 | **Problema:** A Empresa NetBridge tem um switch com a porta Gi0/5 conectada a um dispositivo que n√£o deve participar do STP, mas a porta precisa estar UP o mais r√°pido poss√≠vel. **Solu√ß√£o Proposta:** Configurar `interface Gi0/5`, `spanning-tree portfast`, `spanning-tree bpdufilter enable`. Esta combina√ß√£o far√° a porta subir r√°pido e n√£o processar nem enviar BPDUs.                                                      | V        | ‚úÖ **Solu√ß√£o Correta.** PortFast para subida r√°pida. BPDU Filter (na interface) para isolar completamente a porta do STP. Essa √© uma configura√ß√£o v√°lida para cen√°rios onde se tem certeza que n√£o haver√° loop atrav√©s dessa porta e o dispositivo conectado √© sens√≠vel a BPDUs ou precisa de conectividade imediata sem interfer√™ncia STP. üí° **Isolamento Total da Porta do STP:** Usado com muita cautela e apenas quando o risco de loop √© zero naquela porta espec√≠fica.                                                                                                                                                                                                                                                 |
| 339 | **Problema:** A Empresa CloudSys est√° usando `bridge assurance` em um link de tronco entre dois switches. O link falha completamente (ambas as fibras cortadas). **Solu√ß√£o Proposta:** Bridge Assurance n√£o atuar√°, pois n√£o h√° mais link para trocar BPDUs. O STP normal (RSTP) detectar√° a falha do link (port down) e reconverger√° usando caminhos alternativos, se dispon√≠veis. Bridge Assurance √© para quando o link est√° UP mas BPDUs n√£o fluem.   | V        | ‚úÖ **Solu√ß√£o Correta.** Bridge Assurance entra em a√ß√£o quando um link est√° fisicamente UP, mas os BPDUs n√£o s√£o mais trocados como esperado. Se o link inteiro cai (port down), o STP padr√£o (especialmente RSTP) lida com essa falha de link diretamente e rapidamente. _Nota: Se a falha fosse sutil, como BPDUs parando mas o link ainda UP, BA atuaria._ üí° **Escopo do Bridge Assurance:** Para falhas "l√≥gicas" de BPDU em links fisicamente ativos.                                                                                                                                                                                                                                                                    |
| 340 | **Problema:** A Empresa CoreSwitch tem um switch A (Root) e um switch B. Eles est√£o conectados por um link de 1Gbps (L1) e um link de 100Mbps (L2). SW_B usa L1 como Root Port e L2 est√° bloqueado. O link L1 falha. **Solu√ß√£o Proposta:** O STP em SW_B far√° sua porta para L2 (100Mbps) transitar de Blocking para Listening, depois Learning, e finalmente Forwarding, tornando-se a nova Root Port. Esse processo levar√° cerca de 30 segundos se for STP 802.1D ou muito menos se for RSTP. | V        | ‚úÖ **Solu√ß√£o Correta (Comportamento de Converg√™ncia).** Quando a Root Port ativa falha, uma porta bloqueada que oferece um caminho alternativo para a Root (mesmo que de menor qualidade) ser√° ativada. O tempo de transi√ß√£o depende do tipo de STP: 802.1D levar√° `Forward Delay (Listening) + Forward Delay (Learning)` (tipicamente 15s+15s=30s, ap√≥s o Max Age para detectar a falha, totalizando at√© 50s). RSTP seria muito mais r√°pido, pois a porta bloqueada j√° seria uma Alternate Port e poderia transitar quase instantaneamente. üí° **Falha e Recupera√ß√£o STP:** O protocolo √© projetado para encontrar um novo caminho quando o principal falha. |
